

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ibeis.control._autogen_explicit_controller &mdash; ibeis 1.5.2 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ibeis 1.5.2 documentation" href="../../../index.html"/>
        <link rel="up" title="ibeis.control" href="../control.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> ibeis
          

          
          </a>

          
            
            
              <div class="version">
                1.5.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../ibeis.html">ibeis package</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../index.html">ibeis</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../index.html">Module code</a> &raquo;</li>
      
          <li><a href="../../ibeis.html">ibeis</a> &raquo;</li>
      
          <li><a href="../control.html">ibeis.control</a> &raquo;</li>
      
    <li>ibeis.control._autogen_explicit_controller</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for ibeis.control._autogen_explicit_controller</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Static file containing autogenerated functions for IBEISController</span>
<span class="sd">Autogenerated on ymd_hm-2016-04-20_11-22</span>

<span class="sd">RegenCommand:</span>
<span class="sd">    python -m ibeis.control.controller_inject --exec-dev_autogen_explicit_injects</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">absolute_import</span><span class="p">,</span> <span class="n">division</span><span class="p">,</span> <span class="n">print_function</span>
<span class="kn">import</span> <span class="nn">utool</span> <span class="kn">as</span> <span class="nn">ut</span>
<span class="kn">import</span> <span class="nn">sys</span>  <span class="c1"># NOQA</span>
<span class="kn">from</span> <span class="nn">ibeis</span> <span class="kn">import</span> <span class="n">annotmatch_funcs</span>
<span class="kn">from</span> <span class="nn">ibeis</span> <span class="kn">import</span> <span class="n">tag_funcs</span>
<span class="kn">from</span> <span class="nn">ibeis.other</span> <span class="kn">import</span> <span class="n">ibsfuncs</span>
<span class="kn">from</span> <span class="nn">ibeis.init</span> <span class="kn">import</span> <span class="n">filter_annots</span>
<span class="kn">from</span> <span class="nn">ibeis.control</span> <span class="kn">import</span> <span class="n">manual_featweight_funcs</span>
<span class="kn">from</span> <span class="nn">ibeis.control</span> <span class="kn">import</span> <span class="n">_autogen_party_funcs</span>
<span class="kn">from</span> <span class="nn">ibeis.control</span> <span class="kn">import</span> <span class="n">_autogen_annotmatch_funcs</span>
<span class="kn">from</span> <span class="nn">ibeis.control</span> <span class="kn">import</span> <span class="n">manual_ibeiscontrol_funcs</span>
<span class="kn">from</span> <span class="nn">ibeis.control</span> <span class="kn">import</span> <span class="n">manual_wildbook_funcs</span>
<span class="kn">from</span> <span class="nn">ibeis.control</span> <span class="kn">import</span> <span class="n">manual_meta_funcs</span>
<span class="kn">from</span> <span class="nn">ibeis.control</span> <span class="kn">import</span> <span class="n">manual_lbltype_funcs</span>
<span class="kn">from</span> <span class="nn">ibeis.control</span> <span class="kn">import</span> <span class="n">manual_lblannot_funcs</span>
<span class="kn">from</span> <span class="nn">ibeis.control</span> <span class="kn">import</span> <span class="n">manual_lblimage_funcs</span>
<span class="kn">from</span> <span class="nn">ibeis.web</span> <span class="kn">import</span> <span class="n">apis_detect</span>
<span class="kn">from</span> <span class="nn">ibeis.web</span> <span class="kn">import</span> <span class="n">apis_engine</span>
<span class="kn">from</span> <span class="nn">ibeis.web</span> <span class="kn">import</span> <span class="n">apis_query</span>
<span class="kn">from</span> <span class="nn">ibeis.control</span> <span class="kn">import</span> <span class="n">manual_image_funcs</span>
<span class="kn">from</span> <span class="nn">ibeis.control</span> <span class="kn">import</span> <span class="n">manual_imageset_funcs</span>
<span class="kn">from</span> <span class="nn">ibeis.control</span> <span class="kn">import</span> <span class="n">manual_gsgrelate_funcs</span>
<span class="kn">from</span> <span class="nn">ibeis.control</span> <span class="kn">import</span> <span class="n">manual_garelate_funcs</span>
<span class="kn">from</span> <span class="nn">ibeis.control</span> <span class="kn">import</span> <span class="n">manual_annot_funcs</span>
<span class="kn">from</span> <span class="nn">ibeis.control</span> <span class="kn">import</span> <span class="n">manual_name_funcs</span>
<span class="kn">from</span> <span class="nn">ibeis.control</span> <span class="kn">import</span> <span class="n">manual_species_funcs</span>
<span class="kn">from</span> <span class="nn">ibeis.control</span> <span class="kn">import</span> <span class="n">manual_annotgroup_funcs</span>
<span class="kn">from</span> <span class="nn">ibeis.control</span> <span class="kn">import</span> <span class="n">manual_chip_funcs</span>
<span class="kn">from</span> <span class="nn">ibeis.control</span> <span class="kn">import</span> <span class="n">manual_feat_funcs</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argflag</span><span class="p">((</span><span class="s1">u&#39;--no-cnn&#39;</span><span class="p">,</span> <span class="s1">u&#39;--nocnn&#39;</span><span class="p">))</span> <span class="ow">or</span> <span class="s1">&#39;ibeis_cnn&#39;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">ibeis_cnn</span> <span class="kn">import</span> <span class="n">_plugin</span>
<span class="kn">from</span> <span class="nn">ibeis.other</span> <span class="kn">import</span> <span class="n">detectfuncs</span>
<span class="k">print</span><span class="p">,</span> <span class="n">rrr</span><span class="p">,</span> <span class="n">profile</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">inject2</span><span class="p">(</span>
    <span class="n">__name__</span><span class="p">,</span> <span class="s1">&#39;[autogen_explicit_inject_IBEISController]&#39;</span><span class="p">)</span>


<div class="viewcode-block" id="ExplicitInjectIBEISController"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController">[docs]</a><span class="k">class</span> <span class="nc">ExplicitInjectIBEISController</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">_get_all_known_name_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): all nids of known animals</span>
<span class="sd">            (does not include unknown names)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">_get_all_known_name_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_all_name_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): all nids of known animals</span>
<span class="sd">            (does not include unknown names)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">_get_all_name_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_all_known_nids</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        alias</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">_get_all_known_nids</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>

<div class="viewcode-block" id="ExplicitInjectIBEISController.add_names"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.add_names">[docs]</a>    <span class="k">def</span> <span class="nf">add_names</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a list of names.</span>

<span class="sd">        Returns:</span>
<span class="sd">            name_rowid_list (list): their nids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: POST</span>
<span class="sd">            URL:    /api/name/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">add_names</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.sanitize_name_texts"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.sanitize_name_texts">[docs]</a>    <span class="k">def</span> <span class="nf">sanitize_name_texts</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">name_text_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/name/sanitize</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">sanitize_name_texts</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">name_text_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_names"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_names">[docs]</a>    <span class="k">def</span> <span class="nf">delete_names</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        deletes names from the database</span>

<span class="sd">        CAREFUL. YOU PROBABLY DO NOT WANT TO USE THIS</span>
<span class="sd">        at least ensure that no annot is associated with any of these nids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: DELETE</span>
<span class="sd">            URL:    /api/name/</span>


<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # UNPORTED_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; gpath_list = grabdata.get_test_gpaths(ndata=None)[0:4]</span>
<span class="sd">            &gt;&gt;&gt; gid_list = ibs.add_images(gpath_list)</span>
<span class="sd">            &gt;&gt;&gt; bbox_list = [(0, 0, 100, 100)]*len(gid_list)</span>
<span class="sd">            &gt;&gt;&gt; name_list = [&#39;a&#39;, &#39;b&#39;, &#39;a&#39;, &#39;d&#39;]</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.add_annots(gid_list, bbox_list=bbox_list, name_list=name_list)</span>
<span class="sd">            &gt;&gt;&gt; assert len(aid_list) != 0, &quot;No annotations added&quot;</span>
<span class="sd">            &gt;&gt;&gt; nid_list = ibs.get_valid_nids()</span>
<span class="sd">            &gt;&gt;&gt; assert len(nid_list) != 0, &quot;No names added&quot;</span>
<span class="sd">            &gt;&gt;&gt; nid = nid_list[0]</span>
<span class="sd">            &gt;&gt;&gt; assert nid is not None, &quot;nid is None&quot;</span>
<span class="sd">            &gt;&gt;&gt; ibs.delete_names(nid)</span>
<span class="sd">            &gt;&gt;&gt; all_nids = ibs.get_valid_nids()</span>
<span class="sd">            &gt;&gt;&gt; assert nid not in all_nids, &quot;NID not deleted&quot;</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">delete_names</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_empty_nids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_empty_nids">[docs]</a>    <span class="k">def</span> <span class="nf">get_empty_nids</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get name rowids that do not have any annotations (not including UNKONWN)</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: nid_list - all names without any animals (does not include unknown names)</span>
<span class="sd">            an nid is not invalid if it has a valid alias</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_name_funcs --test-get_empty_nids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/name/empty_nids/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_name_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; new_nid_list = ibs.make_next_nids(num=2)</span>
<span class="sd">            &gt;&gt;&gt; empty_nids = ibs.get_empty_nids()</span>
<span class="sd">            &gt;&gt;&gt; assert len(empty_nids) == 2, &#39;get_empty_nids fails1&#39;</span>
<span class="sd">            &gt;&gt;&gt; assert new_nid_list == empty_nids, &#39;get_empty_nids fails2&#39;</span>
<span class="sd">            &gt;&gt;&gt; ibs.delete_empty_nids()</span>
<span class="sd">            &gt;&gt;&gt; empty_nids2 = ibs.get_empty_nids()</span>
<span class="sd">            &gt;&gt;&gt; assert len(empty_nids2) == 0, &#39;get_empty_nids fails3&#39;</span>
<span class="sd">            &gt;&gt;&gt; result = str(empty_nids2)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            []</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">get_empty_nids</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_empty_nids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_empty_nids">[docs]</a>    <span class="k">def</span> <span class="nf">delete_empty_nids</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Removes names that have no Rois from the database</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: DELETE</span>
<span class="sd">            URL:    /api/name/empty_nids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">delete_empty_nids</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_name_aids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_name_aids">[docs]</a>    <span class="k">def</span> <span class="nf">get_name_aids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        # TODO: Rename to get_anot_rowids_from_name_rowid</span>

<span class="sd">        Returns:</span>
<span class="sd">             list: aids_list a list of list of aids in each name</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/name/aids/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_name_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; # Map annotations to name ids</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; nid_list = ibs.get_annot_name_rowids(aid_list)</span>
<span class="sd">            &gt;&gt;&gt; # Get annotation ids for each name</span>
<span class="sd">            &gt;&gt;&gt; aids_list = ibs.get_name_aids(nid_list)</span>
<span class="sd">            &gt;&gt;&gt; # Run Assertion Test</span>
<span class="sd">            &gt;&gt;&gt; groupid2_items = ut.group_items(aids_list, nid_list)</span>
<span class="sd">            &gt;&gt;&gt; grouped_items = list(six.itervalues(groupid2_items))</span>
<span class="sd">            &gt;&gt;&gt; passed_iter = map(ut.allsame, grouped_items)</span>
<span class="sd">            &gt;&gt;&gt; passed_list = list(passed_iter)</span>
<span class="sd">            &gt;&gt;&gt; assert all(passed_list), &#39;problem in get_name_aids&#39;</span>
<span class="sd">            &gt;&gt;&gt; # Print gropued items</span>
<span class="sd">            &gt;&gt;&gt; print(ut.dict_str(groupid2_items, newlines=False))</span>

<span class="sd">        Ignore;</span>
<span class="sd">            from ibeis.control.manual_name_funcs import *  # NOQA</span>
<span class="sd">            import ibeis</span>
<span class="sd">            #ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            #ibs = ibeis.opendb(&#39;PZ_MTEST&#39;)</span>
<span class="sd">            ibs = ibeis.opendb(&#39;PZ_Master0&#39;)</span>
<span class="sd">            #ibs = ibeis.opendb(&#39;GZ_ALL&#39;)</span>

<span class="sd">            nid_list = ibs.get_valid_nids()</span>
<span class="sd">            nid_list_ = [const.UNKNOWN_NAME_ROWID if nid &lt;= 0 else nid for nid in nid_list]</span>

<span class="sd">            with ut.Timer(&#39;sql&#39;):</span>
<span class="sd">                #aids_list1 = ibs.get_name_aids(nid_list, enable_unknown_fix=False)</span>
<span class="sd">                aids_list1 = ibs.db.get(const.ANNOTATION_TABLE, (ANNOT_ROWID,), nid_list_, id_colname=NAME_ROWID, unpack_scalars=False)</span>

<span class="sd">            with ut.Timer(&#39;hackquery + group&#39;):</span>
<span class="sd">                opstr = &#39;&#39;&#39;</span>
<span class="sd">                SELECT annot_rowid, name_rowid</span>
<span class="sd">                FROM annotations</span>
<span class="sd">                WHERE name_rowid IN</span>
<span class="sd">                    (%s)</span>
<span class="sd">                    ORDER BY name_rowid ASC, annot_rowid ASC</span>
<span class="sd">                &#39;&#39;&#39; % (&#39;, &#39;.join(map(str, nid_list)))</span>
<span class="sd">                pair_list = ibs.db.connection.execute(opstr).fetchall()</span>
<span class="sd">                aids = np.array(ut.get_list_column(pair_list, 0))</span>
<span class="sd">                nids = np.array(ut.get_list_column(pair_list, 1))</span>
<span class="sd">                unique_nids, groupx = vt.group_indices(nids)</span>
<span class="sd">                grouped_aids_ = vt.apply_grouping(aids, groupx)</span>
<span class="sd">                aids_list5 = [sorted(arr.tolist()) for arr in grouped_aids_]</span>

<span class="sd">            for aids1, aids5 in zip(aids_list1, aids_list5):</span>
<span class="sd">                if (aids1) != (aids5):</span>
<span class="sd">                    print(aids1)</span>
<span class="sd">                    print(aids5)</span>
<span class="sd">                    print(&#39;-----&#39;)</span>

<span class="sd">            ut.assert_lists_eq(list(map(tuple, aids_list5)), list(map(tuple, aids_list1)))</span>

<span class="sd">            with ut.Timer(&#39;numpy&#39;):</span>
<span class="sd">                # alt method</span>
<span class="sd">                valid_aids = np.array(ibs.get_valid_aids())</span>
<span class="sd">                valid_nids = np.array(ibs.get_annot_name_rowids(valid_aids, distinguish_unknowns=False))</span>
<span class="sd">                aids_list2 = [valid_aids.take(np.flatnonzero(valid_nids == nid)).tolist() for nid in nid_list_]</span>

<span class="sd">            with ut.Timer(&#39;numpy2&#39;):</span>
<span class="sd">                # alt method</span>
<span class="sd">                valid_aids = np.array(ibs.get_valid_aids())</span>
<span class="sd">                valid_nids = np.array(ibs.get_annot_name_rowids(valid_aids, distinguish_unknowns=False))</span>
<span class="sd">                aids_list3 = [valid_aids.take(np.flatnonzero(np.equal(valid_nids, nid))).tolist() for nid in nid_list_]</span>

<span class="sd">            with ut.Timer(&#39;numpy3&#39;):</span>
<span class="sd">                # alt method</span>
<span class="sd">                valid_aids = np.array(ibs.get_valid_aids())</span>
<span class="sd">                valid_nids = np.array(ibs.db.get_all_col_rows(const.ANNOTATION_TABLE, NAME_ROWID))</span>
<span class="sd">                aids_list4 = [valid_aids.take(np.flatnonzero(np.equal(valid_nids, nid))).tolist() for nid in nid_list_]</span>
<span class="sd">            assert aids_list2 == aids_list3</span>
<span class="sd">            assert aids_list3 == aids_list4</span>
<span class="sd">            assert aids_list1 == aids_list2</span>

<span class="sd">            valid_aids = ibs.get_valid_aids()</span>
<span class="sd">            %timeit ibs.db.get_all_col_rows(&#39;annotations&#39;, &#39;rowid&#39;)</span>
<span class="sd">            %timeit ibs.db.get_all_col_rows(&#39;annotations&#39;, &#39;name_rowid&#39;)</span>
<span class="sd">            %timeit ibs.get_annot_name_rowids(valid_aids, distinguish_unknowns=False)</span>
<span class="sd">            %timeit ibs.get_valid_aids()</span>
<span class="sd">            %timeit ibs.get_annot_name_rowids(ibs.get_valid_aids(), distinguish_unknowns=False)</span>
<span class="sd">            valid_nids1 = ibs.get_annot_name_rowids(valid_aids, distinguish_unknowns=False)</span>
<span class="sd">            valid_nids2 = ibs.db.get_all_col_rows(&#39;annotations&#39;, &#39;name_rowid&#39;)</span>
<span class="sd">            assert valid_nids1 == valid_nids2</span>

<span class="sd">        ibs.db.fname</span>
<span class="sd">        ibs.db.fpath</span>

<span class="sd">        import sqlite3</span>

<span class="sd">        con = sqlite3.connect(ibs.db.fpath)</span>

<span class="sd">        opstr = &#39;&#39;&#39;</span>
<span class="sd">        SELECT annot_rowid, name_rowid</span>
<span class="sd">        FROM annotations</span>
<span class="sd">        WHERE name_rowid IN</span>
<span class="sd">            (SELECT name_rowid FROM name)</span>
<span class="sd">            ORDER BY name_rowid ASC, annot_rowid ASC</span>
<span class="sd">        &#39;&#39;&#39;</span>

<span class="sd">        annot_rowid_list = con.execute(opstr).fetchall()</span>
<span class="sd">        aid_list = ut.get_list_column(annot_rowid_list, 0)</span>
<span class="sd">        nid_list = ut.get_list_column(annot_rowid_list, 1)</span>


<span class="sd">        # HACKY HACKY HACK</span>

<span class="sd">        with ut.Timer(&#39;hackquery + group&#39;):</span>
<span class="sd">            #nid_list = ibs.get_valid_nids()[10:15]</span>
<span class="sd">            nid_list = ibs.get_valid_nids()</span>
<span class="sd">            opstr = &#39;&#39;&#39;</span>
<span class="sd">            SELECT annot_rowid, name_rowid</span>
<span class="sd">            FROM annotations</span>
<span class="sd">            WHERE name_rowid IN</span>
<span class="sd">                (%s)</span>
<span class="sd">                ORDER BY name_rowid ASC, annot_rowid ASC</span>
<span class="sd">            &#39;&#39;&#39; % (&#39;, &#39;.join(map(str, nid_list)))</span>
<span class="sd">            pair_list = ibs.db.connection.execute(opstr).fetchall()</span>
<span class="sd">            aids = np.array(ut.get_list_column(pair_list, 0))</span>
<span class="sd">            nids = np.array(ut.get_list_column(pair_list, 1))</span>
<span class="sd">            unique_nids, groupx = vt.group_indices(nids)</span>
<span class="sd">            grouped_aids_ = vt.apply_grouping(aids, groupx)</span>
<span class="sd">            grouped_aids = [arr.tolist() for arr in grouped_aids_]</span>

<span class="sd">        SELECT</span>
<span class="sd">           name_rowid, COUNT(annot_rowid) AS number, GROUP_CONCAT(annot_rowid) AS aid_list</span>
<span class="sd">        FROM annotations</span>
<span class="sd">        WHERE name_rowid in (SELECT name_rowid FROM name)</span>
<span class="sd">         GROUP BY name_rowid</span>
<span class="sd">        ORDER BY name_rowid ASC</span>


<span class="sd">        import vtool as vt</span>
<span class="sd">        vt</span>
<span class="sd">        vt.aid_list[0]</span>


<span class="sd">        annot_rowid_list = con.execute(opstr).fetchall()</span>
<span class="sd">        opstr = &#39;&#39;&#39;</span>
<span class="sd">            SELECT annot_rowid</span>
<span class="sd">            FROM annotations</span>
<span class="sd">            WHERE name_rowid=?</span>
<span class="sd">            &#39;&#39;&#39;</span>

<span class="sd">        cur = ibs.db.connection.cursor()</span>

<span class="sd">        cur = con.execute(&#39;BEGIN IMMEDIATE TRANSACTION&#39;)</span>
<span class="sd">        cur = ibs.db.connection</span>
<span class="sd">        res = [cur.execute(opstr, (nid,)).fetchall() for nid in nid_list_]</span>
<span class="sd">        cur.execute(&#39;COMMIT TRANSACTION&#39;)</span>

<span class="sd">        res = [ibs.db.cur.execute(opstr, (nid,)).fetchall() for nid in nid_list_]</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">get_name_aids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_name_exemplar_aids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_name_exemplar_aids">[docs]</a>    <span class="k">def</span> <span class="nf">get_name_exemplar_aids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list):  a list of list of cids in each name</span>


<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_name_funcs --test-get_name_exemplar_aids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/name/exemplar_aids/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_name_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; nid_list = ibs.get_annot_name_rowids(aid_list)</span>
<span class="sd">            &gt;&gt;&gt; exemplar_aids_list = ibs.get_name_exemplar_aids(nid_list)</span>
<span class="sd">            &gt;&gt;&gt; result = exemplar_aids_list</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [[], [2, 3], [2, 3], [], [5, 6], [5, 6], [7], [8], [], [10], [], [12], [13]]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">get_name_exemplar_aids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_name_gids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_name_gids">[docs]</a>    <span class="k">def</span> <span class="nf">get_name_gids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): the image ids associated with name ids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/name/gids/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_name_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; nid_list = ibs._get_all_known_name_rowids()</span>
<span class="sd">            &gt;&gt;&gt; gids_list = ibs.get_name_gids(nid_list)</span>
<span class="sd">            &gt;&gt;&gt; result = gids_list</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [[2, 3], [5, 6], [7], [8], [10], [12], [13]]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">get_name_gids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_name_uuids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_name_uuids">[docs]</a>    <span class="k">def</span> <span class="nf">get_name_uuids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): uuids_list - name uuids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/name/uuids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">get_name_uuids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_name_notes"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_name_notes">[docs]</a>    <span class="k">def</span> <span class="nf">get_name_notes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): notes_list - name notes</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/name/notes/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">get_name_notes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_name_num_annotations"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_name_num_annotations">[docs]</a>    <span class="k">def</span> <span class="nf">get_name_num_annotations</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list):  the number of annotations for each name</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_name_funcs --test-get_name_num_annotations</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/name/num_annotations/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_name_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; nid_list = ibs._get_all_known_name_rowids()</span>
<span class="sd">            &gt;&gt;&gt; result = get_name_num_annotations(ibs, nid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [2, 2, 1, 1, 1, 1, 1]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">get_name_num_annotations</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_name_num_exemplar_annotations"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_name_num_exemplar_annotations">[docs]</a>    <span class="k">def</span> <span class="nf">get_name_num_exemplar_annotations</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list):  the number of annotations, which are exemplars for each name</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/name/num_exemplar_annotations/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">get_name_num_exemplar_annotations</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_name_temp_flag"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_name_temp_flag">[docs]</a>    <span class="k">def</span> <span class="nf">get_name_temp_flag</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">name_rowid_list</span><span class="p">,</span> <span class="n">eager</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nInput</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        name_temp_flag_list &lt;- name.name_temp_flag[name_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;name_temp_flag&quot; in the &quot;name&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            name_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: name_temp_flag_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = name_temp_flag</span>
<span class="sd">            tbl = name</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_name_funcs --test-get_name_temp_flag</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/name/temp_flag/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_name_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; name_rowid_list = ibs._get_all_name_rowids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; name_temp_flag_list = ibs.get_name_temp_flag(name_rowid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; assert len(name_rowid_list) == len(name_temp_flag_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">get_name_temp_flag</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">name_rowid_list</span><span class="p">,</span> <span class="n">eager</span><span class="p">,</span> <span class="n">nInput</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_name_temp_flag"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_name_temp_flag">[docs]</a>    <span class="k">def</span> <span class="nf">set_name_temp_flag</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">name_rowid_list</span><span class="p">,</span>
            <span class="n">name_temp_flag_list</span><span class="p">,</span>
            <span class="n">duplicate_behavior</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        name_temp_flag_list -&gt; name.name_temp_flag[name_rowid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            name_rowid_list</span>
<span class="sd">            name_temp_flag_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tsetter_native_column</span>
<span class="sd">            tbl = name</span>
<span class="sd">            col = name_temp_flag</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/name/temp_flag/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">set_name_temp_flag</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">name_rowid_list</span><span class="p">,</span> <span class="n">name_temp_flag_list</span><span class="p">,</span> <span class="n">duplicate_behavior</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_name_alias_texts"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_name_alias_texts">[docs]</a>    <span class="k">def</span> <span class="nf">get_name_alias_texts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): name_alias_text_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_name_funcs --test-get_name_texts</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_name_funcs --test-get_name_alias_texts</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/name/alias_texts/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_name_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; name_rowid_list = ibs.get_valid_nids()</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; name_alias_text_list = get_name_alias_texts(ibs, name_rowid_list)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; result = str(name_alias_text_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [None, None, None, None, None, None, None]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">get_name_alias_texts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_name_alias_texts"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_name_alias_texts">[docs]</a>    <span class="k">def</span> <span class="nf">set_name_alias_texts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): name_alias_text_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_name_funcs --test-get_name_texts</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/name/alias_texts/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">set_name_alias_texts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_name_texts"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_name_texts">[docs]</a>    <span class="k">def</span> <span class="nf">get_name_texts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): text names</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_name_funcs --test-get_name_texts</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/name/texts/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_name_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; name_rowid_list = ibs._get_all_known_name_rowids()</span>
<span class="sd">            &gt;&gt;&gt; name_text_list = get_name_texts(ibs, name_rowid_list)</span>
<span class="sd">            &gt;&gt;&gt; result = str(name_text_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [u&#39;easy&#39;, u&#39;hard&#39;, u&#39;jeff&#39;, u&#39;lena&#39;, u&#39;occl&#39;, u&#39;polar&#39;, u&#39;zebra&#39;]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">get_name_texts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_num_names"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_num_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_num_names</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Number of valid names</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_name_funcs --test-get_num_names</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/name/num/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_name_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; result = get_num_names(ibs)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            7</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">get_num_names</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_name_rowids_from_text"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_name_rowids_from_text">[docs]</a>    <span class="k">def</span> <span class="nf">get_name_rowids_from_text</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            name_text_list (list):</span>
<span class="sd">            ensure (bool): adds as new names if non-existant (default = True)</span>

<span class="sd">        Returns:</span>
<span class="sd">            name_rowid_list (list): Creates one if it doesnt exist</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_name_funcs --test-get_name_rowids_from_text:0</span>
<span class="sd">            python -m ibeis.control.manual_name_funcs --test-get_name_rowids_from_text:1</span>

<span class="sd">        TODO:</span>
<span class="sd">            should ensure be defaulted to False?</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/name/rowids_from_text/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_name_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; import utool as ut</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; name_text_list = [u&#39;Fred&#39;, u&#39;Sue&#39;, &#39;____&#39;, u&#39;zebra_grevys&#39;, &#39;TYPO&#39;, &#39;____&#39;]</span>
<span class="sd">            &gt;&gt;&gt; ensure = False</span>
<span class="sd">            &gt;&gt;&gt; name_rowid_list = ibs.get_name_rowids_from_text(name_text_list, ensure)</span>
<span class="sd">            &gt;&gt;&gt; print(ut.list_str(list(zip(name_text_list, name_rowid_list))))</span>
<span class="sd">            &gt;&gt;&gt; ensure = True</span>
<span class="sd">            &gt;&gt;&gt; name_rowid_list = ibs.get_name_rowids_from_text(name_text_list, ensure)</span>
<span class="sd">            &gt;&gt;&gt; print(ut.list_str(list(zip(name_text_list, name_rowid_list))))</span>
<span class="sd">            &gt;&gt;&gt; ibs.print_name_table()</span>
<span class="sd">            &gt;&gt;&gt; result = str(name_rowid_list) + &#39;\n&#39;</span>
<span class="sd">            &gt;&gt;&gt; typo_rowids = ibs.get_name_rowids_from_text([&#39;TYPO&#39;, &#39;Fred&#39;, &#39;Sue&#39;, &#39;zebra_grevys&#39;])</span>
<span class="sd">            &gt;&gt;&gt; ibs.delete_names(typo_rowids)</span>
<span class="sd">            &gt;&gt;&gt; result += str(ibs._get_all_known_name_rowids())</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;----&#39;)</span>
<span class="sd">            &gt;&gt;&gt; ibs.print_name_table()</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [8, 9, 0, 10, 11, 0]</span>
<span class="sd">            [1, 2, 3, 4, 5, 6, 7]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">get_name_rowids_from_text</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_name_rowids_from_text_"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_name_rowids_from_text_">[docs]</a>    <span class="k">def</span> <span class="nf">get_name_rowids_from_text_</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            name_text_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            name_rowid_list (list):</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_name_funcs --test-get_name_rowids_from_text_</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_name_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; import utool as ut  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; name_text_list = [u&#39;Fred&#39;, &#39;easy&#39;, u&#39;Sue&#39;, &#39;____&#39;, u&#39;zebra_grevys&#39;, &#39;TYPO&#39;, &#39;jeff&#39;]</span>
<span class="sd">            &gt;&gt;&gt; name_rowid_list = ibs.get_name_rowids_from_text_(name_text_list)</span>
<span class="sd">            &gt;&gt;&gt; ibs.print_name_table()</span>
<span class="sd">            &gt;&gt;&gt; result = str(name_rowid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [None, 1, None, 0, None, None, 3]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">get_name_rowids_from_text_</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_name_nids_with_gids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_name_nids_with_gids">[docs]</a>    <span class="k">def</span> <span class="nf">get_name_nids_with_gids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">nid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">get_name_nids_with_gids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">nid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_valid_nids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_valid_nids">[docs]</a>    <span class="k">def</span> <span class="nf">get_valid_nids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">imgsetid</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">filter_empty</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
            <span class="n">min_pername</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): all valid names with at least one animal</span>
<span class="sd">            (does not include unknown names)</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/name/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">get_valid_nids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">imgsetid</span><span class="p">,</span> <span class="n">filter_empty</span><span class="p">,</span> <span class="n">min_pername</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_name_notes"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_name_notes">[docs]</a>    <span class="k">def</span> <span class="nf">set_name_notes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets a note for each name (multiple annotations)</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/name/notes/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">set_name_notes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_name_texts"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_name_texts">[docs]</a>    <span class="k">def</span> <span class="nf">set_name_texts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Changes the name text. Does not affect the animals of this name.</span>
<span class="sd">        Effectively just changes the TEXT UUID</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_name_funcs --test-set_name_texts</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/name/texts/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_name_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; nid_list = ibs.get_valid_nids()[0:2]</span>
<span class="sd">            &gt;&gt;&gt; name_list = ibs.get_name_texts(nid_list)</span>
<span class="sd">            &gt;&gt;&gt; # result = set_name_texts(ibs, nid_list, name_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">set_name_texts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_name_sex"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_name_sex">[docs]</a>    <span class="k">def</span> <span class="nf">get_name_sex</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">name_rowid_list</span><span class="p">,</span> <span class="n">eager</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nInput</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        name_sex_list &lt;- name.name_sex[name_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;name_sex&quot; in the &quot;name&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            name_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: name_sex_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = name_sex</span>
<span class="sd">            tbl = name</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/name/sex/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_name_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; name_rowid_list = ibs._get_all_name_rowids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; name_sex_list = ibs.get_name_sex(name_rowid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; assert len(name_rowid_list) == len(name_sex_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">get_name_sex</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">name_rowid_list</span><span class="p">,</span> <span class="n">eager</span><span class="p">,</span> <span class="n">nInput</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_name_sex"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_name_sex">[docs]</a>    <span class="k">def</span> <span class="nf">set_name_sex</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">name_rowid_list</span><span class="p">,</span>
            <span class="n">name_sex_list</span><span class="p">,</span>
            <span class="n">duplicate_behavior</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        name_sex_list -&gt; name.name_sex[name_rowid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            name_rowid_list</span>
<span class="sd">            name_sex_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tsetter_native_column</span>
<span class="sd">            tbl = name</span>
<span class="sd">            col = name_sex</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/name/sex/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">set_name_sex</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">name_rowid_list</span><span class="p">,</span> <span class="n">name_sex_list</span><span class="p">,</span> <span class="n">duplicate_behavior</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_name_sex_text"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_name_sex_text">[docs]</a>    <span class="k">def</span> <span class="nf">get_name_sex_text</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">name_rowid_list</span><span class="p">,</span> <span class="n">eager</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nInput</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/name/sex_text/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">get_name_sex_text</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">name_rowid_list</span><span class="p">,</span> <span class="n">eager</span><span class="p">,</span> <span class="n">nInput</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_name_sex_text"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_name_sex_text">[docs]</a>    <span class="k">def</span> <span class="nf">set_name_sex_text</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">name_rowid_list</span><span class="p">,</span> <span class="n">name_sex_text_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/name/sex_text/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">set_name_sex_text</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">name_rowid_list</span><span class="p">,</span> <span class="n">name_sex_text_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_name_age_months_est_min"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_name_age_months_est_min">[docs]</a>    <span class="k">def</span> <span class="nf">get_name_age_months_est_min</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">name_rowid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/name/age_months_est_min/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">get_name_age_months_est_min</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">name_rowid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_name_age_months_est_max"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_name_age_months_est_max">[docs]</a>    <span class="k">def</span> <span class="nf">get_name_age_months_est_max</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">name_rowid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/name/age_months_est_max/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">get_name_age_months_est_max</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">name_rowid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_name_imgsetids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_name_imgsetids">[docs]</a>    <span class="k">def</span> <span class="nf">get_name_imgsetids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">nid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/name/imgsetids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_name_funcs</span><span class="o">.</span><span class="n">get_name_imgsetids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">nid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.detect_random_forest"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.detect_random_forest">[docs]</a>    <span class="k">def</span> <span class="nf">detect_random_forest</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Runs animal detection in each image. Adds annotations to the database</span>
<span class="sd">        as they are found.</span>

<span class="sd">        Args:</span>
<span class="sd">            gid_list (list): list of image ids to run detection on</span>
<span class="sd">            species (str): string text of the species to identify</span>

<span class="sd">        Returns:</span>
<span class="sd">            aids_list (list): list of lists of annotation ids detected in each</span>
<span class="sd">                image</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.web.apis_detect --test-detect_random_forest --show</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT, GET</span>
<span class="sd">            URL:    /api/detect/random_forest/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.web.apis_detect import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; gid_list = ibs.get_valid_gids()[0:2]</span>
<span class="sd">            &gt;&gt;&gt; species = ibeis.const.TEST_SPECIES.ZEB_PLAIN</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; aids_list = ibs.detect_random_forest(gid_list, species)</span>
<span class="sd">            &gt;&gt;&gt; # Visualize results</span>
<span class="sd">            &gt;&gt;&gt; if ut.show_was_requested():</span>
<span class="sd">            &gt;&gt;&gt;     import plottool as pt</span>
<span class="sd">            &gt;&gt;&gt;     from ibeis.viz import viz_image</span>
<span class="sd">            &gt;&gt;&gt;     for fnum, gid in enumerate(gid_list):</span>
<span class="sd">            &gt;&gt;&gt;         viz_image.show_image(ibs, gid, fnum=fnum)</span>
<span class="sd">            &gt;&gt;&gt;     pt.show_if_requested()</span>
<span class="sd">            &gt;&gt;&gt; # Remove newly detected annotations</span>
<span class="sd">            &gt;&gt;&gt; ibs.delete_annots(ut.flatten(aids_list))</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">apis_detect</span><span class="o">.</span><span class="n">detect_random_forest</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.detect_cnn_yolo_json"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.detect_cnn_yolo_json">[docs]</a>    <span class="k">def</span> <span class="nf">detect_cnn_yolo_json</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Runs animal detection in each image and returns json-ready formatted</span>
<span class="sd">            results, does not return annotations</span>

<span class="sd">        Args:</span>
<span class="sd">            gid_list (list): list of image ids to run detection on</span>

<span class="sd">        Returns:</span>
<span class="sd">            results_dict (list): dict of detection results (not annotations)</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.web.apis_detect --test-detect_cnn_yolo_json</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.web.apis_detect import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; gid_list = ibs.get_valid_gids()[0:2]</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; results_dict = ibs.detect_cnn_yolo_json(gid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(results_dict)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">apis_detect</span><span class="o">.</span><span class="n">detect_cnn_yolo_json</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.detect_cnn_yolo"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.detect_cnn_yolo">[docs]</a>    <span class="k">def</span> <span class="nf">detect_cnn_yolo</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Runs animal detection in each image. Adds annotations to the database</span>
<span class="sd">        as they are found.</span>

<span class="sd">        Args:</span>
<span class="sd">            gid_list (list): list of image ids to run detection on</span>

<span class="sd">        Returns:</span>
<span class="sd">            aids_list (list): list of lists of annotation ids detected in each</span>
<span class="sd">                image</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.web.apis_detect --test-detect_cnn_yolo --show</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT, GET</span>
<span class="sd">            URL:    /api/detect/cnn/yolo/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.web.apis_detect import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; gid_list = ibs.get_valid_gids()[0:2]</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; aids_list = ibs.detect_cnn_yolo(gid_list)</span>
<span class="sd">            &gt;&gt;&gt; # Visualize results</span>
<span class="sd">            &gt;&gt;&gt; if ut.show_was_requested():</span>
<span class="sd">            &gt;&gt;&gt;     import plottool as pt</span>
<span class="sd">            &gt;&gt;&gt;     from ibeis.viz import viz_image</span>
<span class="sd">            &gt;&gt;&gt;     for fnum, gid in enumerate(gid_list):</span>
<span class="sd">            &gt;&gt;&gt;         viz_image.show_image(ibs, gid, fnum=fnum)</span>
<span class="sd">            &gt;&gt;&gt;     pt.show_if_requested()</span>
<span class="sd">            &gt;&gt;&gt; # Remove newly detected annotations</span>
<span class="sd">            &gt;&gt;&gt; ibs.delete_annots(ut.flatten(aids_list))</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">apis_detect</span><span class="o">.</span><span class="n">detect_cnn_yolo</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.commit_detection_results"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.commit_detection_results">[docs]</a>    <span class="k">def</span> <span class="nf">commit_detection_results</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="p">,</span> <span class="n">results_list</span><span class="p">,</span> <span class="n">note</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">apis_detect</span><span class="o">.</span><span class="n">commit_detection_results</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="p">,</span> <span class="n">results_list</span><span class="p">,</span> <span class="n">note</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.has_species_detector"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.has_species_detector">[docs]</a>    <span class="k">def</span> <span class="nf">has_species_detector</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">species_text</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        TODO: extend to use non-constant species</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/detect/species/enabled/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">apis_detect</span><span class="o">.</span><span class="n">has_species_detector</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">species_text</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_species_with_detectors"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_species_with_detectors">[docs]</a>    <span class="k">def</span> <span class="nf">get_species_with_detectors</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/detect/species/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">apis_detect</span><span class="o">.</span><span class="n">get_species_with_detectors</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_working_species"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_working_species">[docs]</a>    <span class="k">def</span> <span class="nf">get_working_species</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/detect/species/working/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">apis_detect</span><span class="o">.</span><span class="n">get_working_species</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
    <span class="k">def</span> <span class="nf">_get_all_lblannot_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblannot_funcs</span><span class="o">.</span><span class="n">_get_all_lblannot_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>

<div class="viewcode-block" id="ExplicitInjectIBEISController.add_annot_relationship"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.add_annot_relationship">[docs]</a>    <span class="k">def</span> <span class="nf">add_annot_relationship</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a relationship between annots and lblannots</span>
<span class="sd">            (annotations and labels of annotations)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblannot_funcs</span><span class="o">.</span><span class="n">add_annot_relationship</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.add_lblannots"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.add_lblannots">[docs]</a>    <span class="k">def</span> <span class="nf">add_lblannots</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Adds new lblannots (labels of annotations)</span>
<span class="sd">        creates a new uuid for any new pair(type, value)</span>
<span class="sd">        #TODO: reverse order of rowid_list value_list in input</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblannot_funcs</span><span class="o">.</span><span class="n">add_lblannots</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_lblannot_rowid_from_superkey"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_lblannot_rowid_from_superkey">[docs]</a>    <span class="k">def</span> <span class="nf">get_lblannot_rowid_from_superkey</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list):  lblannot_rowid_list from the superkey (lbltype, value)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblannot_funcs</span><span class="o">.</span><span class="n">get_lblannot_rowid_from_superkey</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_annot_relations"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_annot_relations">[docs]</a>    <span class="k">def</span> <span class="nf">delete_annot_relations</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Deletes the relationship between an annotation and a label &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblannot_funcs</span><span class="o">.</span><span class="n">delete_annot_relations</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_annot_relations_oftype"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_annot_relations_oftype">[docs]</a>    <span class="k">def</span> <span class="nf">delete_annot_relations_oftype</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Deletes the relationship between an annotation and a label &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblannot_funcs</span><span class="o">.</span><span class="n">delete_annot_relations_oftype</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_lblannots"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_lblannots">[docs]</a>    <span class="k">def</span> <span class="nf">delete_lblannots</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  deletes lblannots from the database &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblannot_funcs</span><span class="o">.</span><span class="n">delete_lblannots</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_alr_annot_rowids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_alr_annot_rowids">[docs]</a>    <span class="k">def</span> <span class="nf">get_alr_annot_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            alrid_list (list of rowids): annot + label relationship rows</span>
<span class="sd">        get the annot_rowid belonging to each relationship &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblannot_funcs</span><span class="o">.</span><span class="n">get_alr_annot_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_alr_annot_rowids_from_lblannot_rowid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_alr_annot_rowids_from_lblannot_rowid">[docs]</a>    <span class="k">def</span> <span class="nf">get_alr_annot_rowids_from_lblannot_rowid</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">lblannot_rowid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This is a 1toM getter</span>

<span class="sd">        Get annotation rowids of labels. There may be more than one annotation</span>
<span class="sd">        per label.</span>

<span class="sd">        Args:</span>
<span class="sd">            lblannot_rowid_list (list): of lblannot (labels of annotations) rowids</span>

<span class="sd">        Returns:</span>
<span class="sd">            aids_list (list): of lists annotation rowids</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblannot_funcs</span><span class="o">.</span><span class="n">get_alr_annot_rowids_from_lblannot_rowid</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">lblannot_rowid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_alr_confidence"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_alr_confidence">[docs]</a>    <span class="k">def</span> <span class="nf">get_alr_confidence</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            alrid_list (list of rowids): annot + label relationship rows</span>
<span class="sd">        Returns:</span>
<span class="sd">            alr_confidence_list (list of rowids): confidence in an annotation relationship</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblannot_funcs</span><span class="o">.</span><span class="n">get_alr_confidence</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_alr_config_rowid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_alr_config_rowid">[docs]</a>    <span class="k">def</span> <span class="nf">get_alr_config_rowid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            alrid_list (list of rowids): annot + label relationship rows</span>
<span class="sd">        Returns:</span>
<span class="sd">            config_rowid_list (list): config_rowid in an annotation relationship</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblannot_funcs</span><span class="o">.</span><span class="n">get_alr_config_rowid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_alr_lblannot_rowids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_alr_lblannot_rowids">[docs]</a>    <span class="k">def</span> <span class="nf">get_alr_lblannot_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            alrid_list (list of rowids): annot + label relationship rows</span>
<span class="sd">        Returns:</span>
<span class="sd">            lblannot_rowids_list (list of rowids): label rowids (of annotations)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblannot_funcs</span><span class="o">.</span><span class="n">get_alr_lblannot_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_alrid_from_superkey"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_alrid_from_superkey">[docs]</a>    <span class="k">def</span> <span class="nf">get_alrid_from_superkey</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            aid_list (list): list of annotation row-ids</span>
<span class="sd">            lblannot_rowid_list (list): list of lblannot row-ids</span>
<span class="sd">            config_rowid_list (list): list of config row-ids</span>
<span class="sd">        Returns:</span>
<span class="sd">            alrid_list (list): annot-label relationship id list</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblannot_funcs</span><span class="o">.</span><span class="n">get_alrid_from_superkey</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_lblannot_value_of_lbltype"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_lblannot_value_of_lbltype">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_lblannot_value_of_lbltype</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            lblannot_value_list (list): a list of strings [&#39;fred&#39;, &#39;sue&#39;, ...] for each chip</span>
<span class="sd">            identifying the animal</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblannot_funcs</span><span class="o">.</span><span class="n">get_annot_lblannot_value_of_lbltype</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_lblannot_lbltypes_rowids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_lblannot_lbltypes_rowids">[docs]</a>    <span class="k">def</span> <span class="nf">get_lblannot_lbltypes_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblannot_funcs</span><span class="o">.</span><span class="n">get_lblannot_lbltypes_rowids</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_lblannot_notes"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_lblannot_notes">[docs]</a>    <span class="k">def</span> <span class="nf">get_lblannot_notes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblannot_funcs</span><span class="o">.</span><span class="n">get_lblannot_notes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_lblannot_rowid_from_uuid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_lblannot_rowid_from_uuid">[docs]</a>    <span class="k">def</span> <span class="nf">get_lblannot_rowid_from_uuid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        UNSAFE</span>

<span class="sd">        Returns:</span>
<span class="sd">            lblannot_rowid_list from the superkey (lbltype, value)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblannot_funcs</span><span class="o">.</span><span class="n">get_lblannot_rowid_from_uuid</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_lblannot_uuids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_lblannot_uuids">[docs]</a>    <span class="k">def</span> <span class="nf">get_lblannot_uuids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblannot_funcs</span><span class="o">.</span><span class="n">get_lblannot_uuids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_lblannot_values"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_lblannot_values">[docs]</a>    <span class="k">def</span> <span class="nf">get_lblannot_values</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            text lblannots</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblannot_funcs</span><span class="o">.</span><span class="n">get_lblannot_values</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_alr_confidence"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_alr_confidence">[docs]</a>    <span class="k">def</span> <span class="nf">set_alr_confidence</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  sets annotation-lblannot-relationship confidence &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblannot_funcs</span><span class="o">.</span><span class="n">set_alr_confidence</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_alr_lblannot_rowids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_alr_lblannot_rowids">[docs]</a>    <span class="k">def</span> <span class="nf">set_alr_lblannot_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Associates whatever annotation is at row(alrid) with a new</span>
<span class="sd">        lblannot_rowid. (effectively changes the label value of the rowid)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblannot_funcs</span><span class="o">.</span><span class="n">set_alr_lblannot_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_lblannot_from_rowid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_lblannot_from_rowid">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_lblannot_from_rowid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Sets items/lblannot_rowids of a list of annotations.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblannot_funcs</span><span class="o">.</span><span class="n">set_annot_lblannot_from_rowid</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_lblannot_from_value"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_lblannot_from_value">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_lblannot_from_value</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Associates the annot and lblannot of a specific type and value</span>
<span class="sd">        Adds the lblannot if it doesnt exist.</span>
<span class="sd">        Wrapper around convenience function for set_annot_from_lblannot_rowid</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblannot_funcs</span><span class="o">.</span><span class="n">set_annot_lblannot_from_value</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_lblannot_notes"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_lblannot_notes">[docs]</a>    <span class="k">def</span> <span class="nf">set_lblannot_notes</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">lblannot_rowid_list</span><span class="p">,</span> <span class="n">value_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates the value for lblannots. Note this change applies to</span>
<span class="sd">        all annotations related to this lblannot_rowid</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblannot_funcs</span><span class="o">.</span><span class="n">set_lblannot_notes</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">lblannot_rowid_list</span><span class="p">,</span> <span class="n">value_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_lblannot_values"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_lblannot_values">[docs]</a>    <span class="k">def</span> <span class="nf">set_lblannot_values</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">lblannot_rowid_list</span><span class="p">,</span> <span class="n">value_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates the value for lblannots. Note this change applies to</span>
<span class="sd">        all annotations related to this lblannot_rowid</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblannot_funcs</span><span class="o">.</span><span class="n">set_lblannot_values</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">lblannot_rowid_list</span><span class="p">,</span> <span class="n">value_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_alrids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_alrids">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_alrids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  FIXME: __name__</span>
<span class="sd">        Get all the relationship ids belonging to the input annotations</span>
<span class="sd">        if lblannot lbltype is specified the relationship ids are filtered to</span>
<span class="sd">        be only of a specific lbltype/category/type</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblannot_funcs</span><span class="o">.</span><span class="n">get_annot_alrids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_alrids_oftype"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_alrids_oftype">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_alrids_oftype</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get all the relationship ids belonging to the input annotations where the</span>
<span class="sd">        relationship ids are filtered to be only of a specific lbltype/category/type</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblannot_funcs</span><span class="o">.</span><span class="n">get_annot_alrids_oftype</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_lblannot_rowids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_lblannot_rowids">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_lblannot_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): the name id of each annotation. &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblannot_funcs</span><span class="o">.</span><span class="n">get_annot_lblannot_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_lblannot_rowids_oftype"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_lblannot_rowids_oftype">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_lblannot_rowids_oftype</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): the name id of each annotation. &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblannot_funcs</span><span class="o">.</span><span class="n">get_annot_lblannot_rowids_oftype</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_empty_imgsetids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_empty_imgsetids">[docs]</a>    <span class="k">def</span> <span class="nf">delete_empty_imgsetids</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Removes imagesets without images</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_gsgrelate_funcs --test-delete_empty_imgsetids</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_gsgrelate_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; result = ibs.delete_empty_imgsetids()</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_gsgrelate_funcs</span><span class="o">.</span><span class="n">delete_empty_imgsetids</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_gsgrids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_gsgrids">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_gsgrids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list):  a list of imageset-image-relationship rowids for each imageid &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_gsgrelate_funcs</span><span class="o">.</span><span class="n">get_image_gsgrids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_gsgr_imageset_relations"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_gsgr_imageset_relations">[docs]</a>    <span class="k">def</span> <span class="nf">delete_gsgr_imageset_relations</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Removes relationship between input imagesets and all images &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_gsgrelate_funcs</span><span class="o">.</span><span class="n">delete_gsgr_imageset_relations</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_gsgr_image_relations"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_gsgr_image_relations">[docs]</a>    <span class="k">def</span> <span class="nf">delete_gsgr_image_relations</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Removes relationship between input images and all imagesets &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_gsgrelate_funcs</span><span class="o">.</span><span class="n">delete_gsgr_image_relations</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.unrelate_images_and_imagesets"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.unrelate_images_and_imagesets">[docs]</a>    <span class="k">def</span> <span class="nf">unrelate_images_and_imagesets</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Seems to unrelate specific image imageset pairs</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            gid_list (list):</span>
<span class="sd">            imgsetid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: gids_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_gsgrelate_funcs --test-unrelate_images_and_imagesets</span>
<span class="sd">            python -c &quot;import utool; print(utool.auto_docstr(&#39;ibeis.control.manual_gsgrelate_funcs&#39;, &#39;delete_gsgr_image_relations&#39;))&quot;</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_gsgrelate_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; # Reset and compute imagesets</span>
<span class="sd">            &gt;&gt;&gt; ibs.delete_all_imagesets()</span>
<span class="sd">            &gt;&gt;&gt; ibs.compute_occurrences()</span>
<span class="sd">            &gt;&gt;&gt; imgsetid_list = ibs.get_valid_imgsetids()</span>
<span class="sd">            &gt;&gt;&gt; gids_list = ibs.get_imageset_gids(imgsetid_list)</span>
<span class="sd">            &gt;&gt;&gt; assert len(imgsetid_list) == 2</span>
<span class="sd">            &gt;&gt;&gt; assert len(gids_list) == 2</span>
<span class="sd">            &gt;&gt;&gt; assert len(gids_list[0]) == 7</span>
<span class="sd">            &gt;&gt;&gt; assert len(gids_list[1]) == 6</span>
<span class="sd">            &gt;&gt;&gt; # Add imageset 2 gids to imageset 1 so an image belongs to multiple imagesets</span>
<span class="sd">            &gt;&gt;&gt; imgset2_gids = gids_list[1][0:1]</span>
<span class="sd">            &gt;&gt;&gt; imgset1_imgsetids = imgsetid_list[0:1]</span>
<span class="sd">            &gt;&gt;&gt; ibs.add_image_relationship(imgset2_gids, imgset1_imgsetids)</span>
<span class="sd">            &gt;&gt;&gt; # Now delete the image from the imageset 2</span>
<span class="sd">            &gt;&gt;&gt; imgset2_imgsetids = imgsetid_list[1:2]</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; ibs.unrelate_images_and_imagesets(imgset2_gids, imgset2_imgsetids)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; ibs.print_egpairs_table()</span>
<span class="sd">            &gt;&gt;&gt; imgsetid_list_ = ibs.get_valid_imgsetids()</span>
<span class="sd">            &gt;&gt;&gt; gids_list_ = ibs.get_imageset_gids(imgsetid_list_)</span>
<span class="sd">            &gt;&gt;&gt; result = str(gids_list_)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            &gt;&gt;&gt; # imgset2_gids should now only be in imageset1</span>
<span class="sd">            &gt;&gt;&gt; assert imgset2_gids[0] in gids_list_[0]</span>
<span class="sd">            &gt;&gt;&gt; assert imgset2_gids[0] not in gids_list_[1]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_gsgrelate_funcs</span><span class="o">.</span><span class="n">unrelate_images_and_imagesets</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_gsgr_rowid_from_superkey"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_gsgr_rowid_from_superkey">[docs]</a>    <span class="k">def</span> <span class="nf">get_gsgr_rowid_from_superkey</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            gsgrid_list (list):  eg-relate-ids from info constrained to be unique (imgsetid, gid) &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_gsgrelate_funcs</span><span class="o">.</span><span class="n">get_gsgr_rowid_from_superkey</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.add_image_relationship"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.add_image_relationship">[docs]</a>    <span class="k">def</span> <span class="nf">add_image_relationship</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Adds a relationship between an image and and imageset &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_gsgrelate_funcs</span><span class="o">.</span><span class="n">add_image_relationship</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
    <span class="k">def</span> <span class="nf">_get_all_species_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): all nids of known animals</span>
<span class="sd">            (does not include unknown names)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_species_funcs</span><span class="o">.</span><span class="n">_get_all_species_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>

<div class="viewcode-block" id="ExplicitInjectIBEISController.get_all_species_texts"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_all_species_texts">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_species_texts</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): all nids of known animals</span>
<span class="sd">            (does not include unknown names)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_species_funcs</span><span class="o">.</span><span class="n">get_all_species_texts</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_all_species_nice"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_all_species_nice">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_species_nice</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): all nids of known animals</span>
<span class="sd">            (does not include unknown names)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_species_funcs</span><span class="o">.</span><span class="n">get_all_species_nice</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.sanitize_species_texts"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.sanitize_species_texts">[docs]</a>    <span class="k">def</span> <span class="nf">sanitize_species_texts</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">species_text_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        changes unknown species to the unknown value</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            species_text_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: species_text_list_</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_species_funcs --test-sanitize_species_texts</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: POST</span>
<span class="sd">            URL:    /api/species/sanitize</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_species_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; species_text_list = [&#39;foo&#39;, &#39;bar&#39;, &#39;zebra_plains&#39;]</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; species_text_list_ = sanitize_species_texts(ibs, species_text_list)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; result = ut.list_str(species_text_list_, nl=False)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [&#39;foo&#39;, &#39;bar&#39;, &#39;zebra_plains&#39;]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_species_funcs</span><span class="o">.</span><span class="n">sanitize_species_texts</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">species_text_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.add_species"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.add_species">[docs]</a>    <span class="k">def</span> <span class="nf">add_species</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a list of species.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: speciesid_list - species rowids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: POST</span>
<span class="sd">            URL:    /api/species/</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_species_funcs --test-add_species</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_species_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; import utool as ut</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; species_text_list = [</span>
<span class="sd">            ...     &#39;jaguar&#39;, &#39;zebra_plains&#39;, &#39;zebra_plains&#39;, &#39;____&#39;, &#39;TYPO&#39;,</span>
<span class="sd">            ...     &#39;____&#39;, &#39;zebra_grevys&#39;, &#39;bear_polar&#39;]</span>
<span class="sd">            &gt;&gt;&gt; species_rowid_list = ibs.add_species(species_text_list)</span>
<span class="sd">            &gt;&gt;&gt; print(ut.list_str(list(zip(species_text_list, species_rowid_list))))</span>
<span class="sd">            &gt;&gt;&gt; ibs.print_species_table()</span>
<span class="sd">            &gt;&gt;&gt; species_text = ibs.get_species_texts(species_rowid_list)</span>
<span class="sd">            &gt;&gt;&gt; # Ensure we leave testdb1 in a clean state</span>
<span class="sd">            &gt;&gt;&gt; ibs.delete_species(ibs.get_species_rowids_from_text([&#39;jaguar&#39;, &#39;TYPO&#39;]))</span>
<span class="sd">            &gt;&gt;&gt; all_species_rowids = ibs._get_all_species_rowids()</span>
<span class="sd">            &gt;&gt;&gt; result =  ut.list_str(species_text, nl=False) + &#39;\n&#39;</span>
<span class="sd">            &gt;&gt;&gt; result += ut.list_str(all_species_rowids, nl=False) + &#39;\n&#39;</span>
<span class="sd">            &gt;&gt;&gt; result += ut.list_str(ibs.get_species_texts(all_species_rowids), nl=False)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [&#39;jaguar&#39;, &#39;zebra_plains&#39;, &#39;zebra_plains&#39;, &#39;____&#39;, &#39;typo&#39;, &#39;____&#39;, &#39;zebra_grevys&#39;, &#39;bear_polar&#39;]</span>
<span class="sd">            [1, 2, 3]</span>
<span class="sd">            [&#39;zebra_plains&#39;, &#39;zebra_grevys&#39;, &#39;bear_polar&#39;]</span>

<span class="sd">        [u&#39;jaguar&#39;, u&#39;zebra_plains&#39;, u&#39;zebra_plains&#39;, &#39;____&#39;, &#39;____&#39;, &#39;____&#39;, u&#39;zebra_grevys&#39;, u&#39;bear_polar&#39;]</span>
<span class="sd">        [8, 9, 10]</span>
<span class="sd">        [u&#39;zebra_plains&#39;, u&#39;zebra_grevys&#39;, u&#39;bear_polar&#39;]</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_species_funcs</span><span class="o">.</span><span class="n">add_species</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_species"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_species">[docs]</a>    <span class="k">def</span> <span class="nf">delete_species</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        deletes species from the database</span>

<span class="sd">        CAREFUL. YOU PROBABLY DO NOT WANT TO USE THIS</span>
<span class="sd">        at least ensure that no annot is associated with any of these species rowids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: DELETE</span>
<span class="sd">            URL:    /api/species/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_species_funcs</span><span class="o">.</span><span class="n">delete_species</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_species_rowids_from_text"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_species_rowids_from_text">[docs]</a>    <span class="k">def</span> <span class="nf">get_species_rowids_from_text</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            species_rowid_list (list): Creates one if it doesnt exist</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_species_funcs --test-get_species_rowids_from_text:0</span>
<span class="sd">            python -m ibeis.control.manual_species_funcs --test-get_species_rowids_from_text:1</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/species/rowids_from_text/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_species_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; import utool as ut</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; species_text_list = [</span>
<span class="sd">            ...     u&#39;jaguar&#39;, u&#39;zebra_plains&#39;, u&#39;zebra_plains&#39;, &#39;____&#39;, &#39;TYPO&#39;,</span>
<span class="sd">            ...     &#39;____&#39;, u&#39;zebra_grevys&#39;, u&#39;bear_polar&#39;]</span>
<span class="sd">            &gt;&gt;&gt; ensure = False</span>
<span class="sd">            &gt;&gt;&gt; species_rowid_list = ibs.get_species_rowids_from_text(species_text_list, ensure)</span>
<span class="sd">            &gt;&gt;&gt; print(ut.list_str(list(zip(species_text_list, species_rowid_list))))</span>
<span class="sd">            &gt;&gt;&gt; ensure = True</span>
<span class="sd">            &gt;&gt;&gt; species_rowid_list = ibs.get_species_rowids_from_text(species_text_list, ensure)</span>
<span class="sd">            &gt;&gt;&gt; print(ut.list_str(list(zip(species_text_list, species_rowid_list))))</span>
<span class="sd">            &gt;&gt;&gt; ibs.print_species_table()</span>
<span class="sd">            &gt;&gt;&gt; species_text = ibs.get_species_texts(species_rowid_list)</span>
<span class="sd">            &gt;&gt;&gt; # Ensure we leave testdb1 in a clean state</span>
<span class="sd">            &gt;&gt;&gt; ibs.delete_species(ibs.get_species_rowids_from_text([&#39;jaguar&#39;, &#39;TYPO&#39;]))</span>
<span class="sd">            &gt;&gt;&gt; all_species_rowids = ibs._get_all_species_rowids()</span>
<span class="sd">            &gt;&gt;&gt; result = ut.list_str(species_text, nl=False) + &#39;\n&#39;</span>
<span class="sd">            &gt;&gt;&gt; result += ut.list_str(all_species_rowids, nl=False) + &#39;\n&#39;</span>
<span class="sd">            &gt;&gt;&gt; result += ut.list_str(ibs.get_species_texts(all_species_rowids), nl=False)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [&#39;jaguar&#39;, &#39;zebra_plains&#39;, &#39;zebra_plains&#39;, &#39;____&#39;, &#39;typo&#39;, &#39;____&#39;, &#39;zebra_grevys&#39;, &#39;bear_polar&#39;]</span>
<span class="sd">            [1, 2, 3]</span>
<span class="sd">            [&#39;zebra_plains&#39;, &#39;zebra_grevys&#39;, &#39;bear_polar&#39;]</span>

<span class="sd">        [u&#39;jaguar&#39;, u&#39;zebra_plains&#39;, u&#39;zebra_plains&#39;, &#39;____&#39;, &#39;____&#39;, &#39;____&#39;, u&#39;zebra_grevys&#39;, u&#39;bear_polar&#39;]</span>
<span class="sd">        [8, 9, 10]</span>
<span class="sd">        [u&#39;zebra_plains&#39;, u&#39;zebra_grevys&#39;, u&#39;bear_polar&#39;]</span>

<span class="sd">        Example1:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_species_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; import utool as ut  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; species_text_list = [</span>
<span class="sd">            ...     u&#39;jaguar&#39;, u&#39;zebra_plains&#39;, u&#39;zebra_plains&#39;, &#39;____&#39;, &#39;TYPO&#39;,</span>
<span class="sd">            ...     &#39;____&#39;, u&#39;zebra_grevys&#39;, u&#39;bear_polar&#39;]</span>
<span class="sd">            &gt;&gt;&gt; ensure = False</span>
<span class="sd">            &gt;&gt;&gt; species_rowid_list = ibs.get_species_rowids_from_text(species_text_list, ensure)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_species_funcs</span><span class="o">.</span><span class="n">get_species_rowids_from_text</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_species_uuids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_species_uuids">[docs]</a>    <span class="k">def</span> <span class="nf">get_species_uuids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): uuids_list - species uuids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/species/uuids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_species_funcs</span><span class="o">.</span><span class="n">get_species_uuids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_species_texts"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_species_texts">[docs]</a>    <span class="k">def</span> <span class="nf">get_species_texts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list: species_text_list text names</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_species_funcs --test-get_species_texts --enableall</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/species/texts/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_species_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; species_rowid_list = ibs._get_all_species_rowids()</span>
<span class="sd">            &gt;&gt;&gt; result = get_species_texts(ibs, species_rowid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [u&#39;zebra_plains&#39;, u&#39;zebra_grevys&#39;, u&#39;bear_polar&#39;]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_species_funcs</span><span class="o">.</span><span class="n">get_species_texts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_species_nice"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_species_nice">[docs]</a>    <span class="k">def</span> <span class="nf">get_species_nice</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list: species_text_list nice names</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_species_funcs --test-get_species_nice --enableall</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/species/nice/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_species_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; ibs._clean_species()</span>
<span class="sd">            &gt;&gt;&gt; species_rowid_list = ibs._get_all_species_rowids()</span>
<span class="sd">            &gt;&gt;&gt; result = get_species_nice(ibs, species_rowid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [u&#39;Zebra (Plains)&#39;, u&quot;Zebra (Grevy&#39;s)&quot;, u&#39;Polar Bear&#39;]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_species_funcs</span><span class="o">.</span><span class="n">get_species_nice</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_species_codes"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_species_codes">[docs]</a>    <span class="k">def</span> <span class="nf">get_species_codes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): code_list - species codes</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/species/codes/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_species_funcs</span><span class="o">.</span><span class="n">get_species_codes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_species_notes"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_species_notes">[docs]</a>    <span class="k">def</span> <span class="nf">get_species_notes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): notes_list - species notes</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/species/notes/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_species_funcs</span><span class="o">.</span><span class="n">get_species_notes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_species_enabled"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_species_enabled">[docs]</a>    <span class="k">def</span> <span class="nf">get_species_enabled</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): &quot;Species Enabled&quot; flag, true if the species is enabled</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/species/enabled/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_species_funcs</span><span class="o">.</span><span class="n">get_species_enabled</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
    <span class="k">def</span> <span class="nf">_set_species_texts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the species nice names</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_species_funcs</span><span class="o">.</span><span class="n">_set_species_texts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_species_nice</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the species nice names</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_species_funcs</span><span class="o">.</span><span class="n">_set_species_nice</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_species_code</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the species nice names</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_species_funcs</span><span class="o">.</span><span class="n">_set_species_code</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<div class="viewcode-block" id="ExplicitInjectIBEISController.set_species_enabled"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_species_enabled">[docs]</a>    <span class="k">def</span> <span class="nf">set_species_enabled</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the species all instances enabled bit</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/species/enabled/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_species_funcs</span><span class="o">.</span><span class="n">set_species_enabled</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_wildbook_target"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_wildbook_target">[docs]</a>    <span class="k">def</span> <span class="nf">get_wildbook_target</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_wildbook_funcs</span><span class="o">.</span><span class="n">get_wildbook_target</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_wildbook_info"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_wildbook_info">[docs]</a>    <span class="k">def</span> <span class="nf">get_wildbook_info</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">tomcat_dpath</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">wb_target</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_wildbook_funcs</span><span class="o">.</span><span class="n">get_wildbook_info</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">tomcat_dpath</span><span class="p">,</span> <span class="n">wb_target</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_wildbook_tomcat_path"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_wildbook_tomcat_path">[docs]</a>    <span class="k">def</span> <span class="nf">get_wildbook_tomcat_path</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">tomcat_dpath</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">wb_target</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_wildbook_funcs</span><span class="o">.</span><span class="n">get_wildbook_tomcat_path</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">tomcat_dpath</span><span class="p">,</span> <span class="n">wb_target</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_wildbook_base_url"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_wildbook_base_url">[docs]</a>    <span class="k">def</span> <span class="nf">get_wildbook_base_url</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">wb_target</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_wildbook_funcs</span><span class="o">.</span><span class="n">get_wildbook_base_url</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">wb_target</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.wildbook_signal_annot_name_changes"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.wildbook_signal_annot_name_changes">[docs]</a>    <span class="k">def</span> <span class="nf">wildbook_signal_annot_name_changes</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">aid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">tomcat_dpath</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">wb_target</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">dryrun</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            aid_list (int):  list of annotation ids(default = None)</span>
<span class="sd">            tomcat_dpath (None): (default = None)</span>
<span class="sd">            wb_target (None): (default = None)</span>
<span class="sd">            dryrun (bool): (default = False)</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_wildbook_funcs --test-wildbook_signal_annot_name_changes:0 --dryrun</span>
<span class="sd">            python -m ibeis.control.manual_wildbook_funcs --test-wildbook_signal_annot_name_changes:1 --dryrun</span>
<span class="sd">            python -m ibeis.control.manual_wildbook_funcs --test-wildbook_signal_annot_name_changes:1</span>
<span class="sd">            python -m ibeis.control.manual_wildbook_funcs --test-wildbook_signal_annot_name_changes:2</span>

<span class="sd">            python -m ibeis --tf wildbook_signal_annot_name_changes:0 --dryrun</span>
<span class="sd">            python -m ibeis --tf wildbook_signal_annot_name_changes:1 --dryrun</span>
<span class="sd">            python -m ibeis --tf wildbook_signal_annot_name_changes:1</span>
<span class="sd">            python -m ibeis --tf wildbook_signal_annot_name_changes:2</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_wildbook_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;PZ_MTEST&#39;)</span>
<span class="sd">            &gt;&gt;&gt; #gid_list = ibs.get_valid_gids()[0:10]</span>
<span class="sd">            &gt;&gt;&gt; gid_list = ibs.get_valid_gids()[3:5]</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ut.flatten(ibs.get_image_aids(gid_list))</span>
<span class="sd">            &gt;&gt;&gt; # Test case where some names change, some do not. There are no new names.</span>
<span class="sd">            &gt;&gt;&gt; old_nid_list = ibs.get_annot_name_rowids(aid_list)</span>
<span class="sd">            &gt;&gt;&gt; new_nid_list = ut.list_roll(old_nid_list, 1)</span>
<span class="sd">            &gt;&gt;&gt; ibs.set_annot_name_rowids(aid_list, new_nid_list)</span>
<span class="sd">            &gt;&gt;&gt; dryrun = ut.get_argflag(&#39;--dryrun&#39;)</span>
<span class="sd">            &gt;&gt;&gt; wb_target, tomcat_dpath = testdata_wildbook_server()</span>
<span class="sd">            &gt;&gt;&gt; result = ibs.wildbook_signal_annot_name_changes(aid_list, tomcat_dpath, wb_target, dryrun)</span>
<span class="sd">            &gt;&gt;&gt; ibs.set_annot_name_rowids(aid_list, old_nid_list)</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_wildbook_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;PZ_MTEST&#39;)</span>
<span class="sd">            &gt;&gt;&gt; #gid_list = ibs.get_valid_gids()[0:10]</span>
<span class="sd">            &gt;&gt;&gt; gid_list = ibs.get_valid_gids()[3:5]</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ut.flatten(ibs.get_image_aids(gid_list))</span>
<span class="sd">            &gt;&gt;&gt; # Test case where all names change to one known name</span>
<span class="sd">            &gt;&gt;&gt; #old_nid_list = ibs.get_annot_name_rowids(aid_list)</span>
<span class="sd">            &gt;&gt;&gt; #new_nid_list = [old_nid_list[0]] * len(old_nid_list)</span>
<span class="sd">            &gt;&gt;&gt; old_nid_list = [1, 2]</span>
<span class="sd">            &gt;&gt;&gt; new_nid_list = [1, 1]</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;old_nid_list = %r&#39; % (old_nid_list,))</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;new_nid_list = %r&#39; % (new_nid_list,))</span>
<span class="sd">            &gt;&gt;&gt; ibs.set_annot_name_rowids(aid_list, new_nid_list)</span>
<span class="sd">            &gt;&gt;&gt; dryrun = ut.get_argflag(&#39;--dryrun&#39;)</span>
<span class="sd">            &gt;&gt;&gt; wb_target, tomcat_dpath = testdata_wildbook_server()</span>
<span class="sd">            &gt;&gt;&gt; result = ibs.wildbook_signal_annot_name_changes(aid_list, tomcat_dpath, wb_target, dryrun)</span>
<span class="sd">            &gt;&gt;&gt; # Undo changes here (not undone in wildbook)</span>
<span class="sd">            &gt;&gt;&gt; #ibs.set_annot_name_rowids(aid_list, old_nid_list)</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_wildbook_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;PZ_MTEST&#39;)</span>
<span class="sd">            &gt;&gt;&gt; gid_list = ibs.get_valid_gids()[3:5]</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ut.flatten(ibs.get_image_aids(gid_list))</span>
<span class="sd">            &gt;&gt;&gt; old_nid_list = [1, 2]</span>
<span class="sd">            &gt;&gt;&gt; ibs.set_annot_name_rowids(aid_list, old_nid_list)</span>
<span class="sd">            &gt;&gt;&gt; # Signal what currently exists (should put them back to normal)</span>
<span class="sd">            &gt;&gt;&gt; dryrun = ut.get_argflag(&#39;--dryrun&#39;)</span>
<span class="sd">            &gt;&gt;&gt; wb_target, tomcat_dpath = testdata_wildbook_server()</span>
<span class="sd">            &gt;&gt;&gt; result = ibs.wildbook_signal_annot_name_changes(aid_list, tomcat_dpath, wb_target, dryrun)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_wildbook_funcs</span><span class="o">.</span><span class="n">wildbook_signal_annot_name_changes</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">tomcat_dpath</span><span class="p">,</span> <span class="n">wb_target</span><span class="p">,</span> <span class="n">dryrun</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.wildbook_signal_imgsetid_list"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.wildbook_signal_imgsetid_list">[docs]</a>    <span class="k">def</span> <span class="nf">wildbook_signal_imgsetid_list</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">imgsetid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">set_shipped_flag</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="n">open_url_on_complete</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="n">tomcat_dpath</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">wb_target</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">dryrun</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Exports specified imagesets to wildbook. This is a synchronous call.</span>

<span class="sd">        Args:</span>
<span class="sd">            imgsetid_list (list): (default = None)</span>
<span class="sd">            set_shipped_flag (bool): (default = True)</span>
<span class="sd">            open_url_on_complete (bool): (default = True)</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/wildbook/signal_imgsetid_list/</span>

<span class="sd">        Ignore:</span>
<span class="sd">            cd $CODE_DIR/Wildbook/tmp</span>

<span class="sd">            # Reset IBEIS database</span>
<span class="sd">            python -m ibeis.tests.reset_testdbs --reset_mtest</span>
<span class="sd">            python -m ibeis --tf reset_mtest</span>

<span class="sd">            # Reset Wildbook database</span>
<span class="sd">            #python -m ibeis.control.manual_wildbook_funcs --exec-reset_local_wildbook</span>
<span class="sd">            python -m ibeis --tf reset_local_wildbook</span>

<span class="sd">            # Install Wildbook</span>
<span class="sd">            #python -m ibeis.control.manual_wildbook_funcs --test-install_wildbook</span>
<span class="sd">            python -m ibeis --tf install_wildbook</span>

<span class="sd">            # Startup Wildbook</span>
<span class="sd">            #python -m ibeis.control.manual_wildbook_funcs --test-startup_wildbook_server</span>
<span class="sd">            python -m ibeis --tf startup_wildbook_server</span>

<span class="sd">            # Login to wildbook</span>
<span class="sd">            #python -m ibeis.control.manual_wildbook_funcs --exec-test_wildbook_login</span>
<span class="sd">            python -m ibeis --tf test_wildbook_login</span>

<span class="sd">            # Ship ImageSets to wildbook</span>
<span class="sd">            #python -m ibeis.control.manual_wildbook_funcs --test-wildbook_signal_imgsetid_list</span>
<span class="sd">            python -m ibeis --tf wildbook_signal_imgsetid_list</span>

<span class="sd">            # Change annotations names to a single name</span>
<span class="sd">            #python -m ibeis.control.manual_wildbook_funcs --test-wildbook_signal_annot_name_changes:1</span>
<span class="sd">            python -m ibeis --tf wildbook_signal_annot_name_changes:1</span>

<span class="sd">            # Change annotations names back to normal</span>
<span class="sd">            #python -m ibeis.control.manual_wildbook_funcs --test-wildbook_signal_annot_name_changes:2</span>
<span class="sd">            python -m ibeis --tf wildbook_signal_annot_name_changes:2</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_wildbook_funcs --test-wildbook_signal_imgsetid_list</span>
<span class="sd">            python -m ibeis.control.manual_wildbook_funcs --test-wildbook_signal_imgsetid_list --dryrun</span>
<span class="sd">            python -m ibeis.control.manual_wildbook_funcs --test-wildbook_signal_imgsetid_list --break</span>

<span class="sd">        SeeAlso:</span>
<span class="sd">            ~/local/build_scripts/init_wildbook.sh</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_wildbook_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; dryrun = ut.get_argflag(&#39;--dryrun&#39;)</span>
<span class="sd">            &gt;&gt;&gt; wb_target, tomcat_dpath = testdata_wildbook_server()</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;PZ_MTEST&#39;)</span>
<span class="sd">            &gt;&gt;&gt; #gid_list = ibs.get_valid_gids()[0:10]</span>
<span class="sd">            &gt;&gt;&gt; gid_list = ibs.get_valid_gids()[3:5]</span>
<span class="sd">            &gt;&gt;&gt; new_imgsetid = ibs.create_new_imageset_from_images(gid_list)  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;new imageset uuid = %r&#39; % (ibs.get_imageset_uuid(new_imgsetid),))</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;new imageset text = %r&#39; % (ibs.get_imageset_text(new_imgsetid),))</span>
<span class="sd">            &gt;&gt;&gt; imgsetid_list = [new_imgsetid]</span>
<span class="sd">            &gt;&gt;&gt; ibs.set_imageset_processed_flags([new_imgsetid], [1])</span>
<span class="sd">            &gt;&gt;&gt; gid_list = ibs.get_imageset_gids(new_imgsetid)</span>
<span class="sd">            &gt;&gt;&gt; ibs.set_image_reviewed(gid_list, [1] * len(gid_list))</span>
<span class="sd">            &gt;&gt;&gt; set_shipped_flag = True</span>
<span class="sd">            &gt;&gt;&gt; open_url_on_complete = True</span>
<span class="sd">            &gt;&gt;&gt; result = ibs.wildbook_signal_imgsetid_list(imgsetid_list, set_shipped_flag, open_url_on_complete, tomcat_dpath, wb_target, dryrun)</span>
<span class="sd">            &gt;&gt;&gt; # cleanup</span>
<span class="sd">            &gt;&gt;&gt; #ibs.delete_imagesets(new_imgsetid)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_wildbook_funcs</span><span class="o">.</span><span class="n">wildbook_signal_imgsetid_list</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">imgsetid_list</span><span class="p">,</span>
            <span class="n">set_shipped_flag</span><span class="p">,</span>
            <span class="n">open_url_on_complete</span><span class="p">,</span>
            <span class="n">tomcat_dpath</span><span class="p">,</span>
            <span class="n">wb_target</span><span class="p">,</span>
            <span class="n">dryrun</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.refresh"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.refresh">[docs]</a>    <span class="k">def</span> <span class="nf">refresh</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        DEPRICATE</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.export_to_hotspotter"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.export_to_hotspotter">[docs]</a>    <span class="k">def</span> <span class="nf">export_to_hotspotter</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">export_to_hotspotter</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_time_statstr"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_time_statstr">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_time_statstr</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_image_time_statstr</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_annotation_bboxes"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_annotation_bboxes">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_annotation_bboxes</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_image_annotation_bboxes</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_annotation_thetas"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_annotation_thetas">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_annotation_thetas</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_image_annotation_thetas</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.filter_junk_annotations"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.filter_junk_annotations">[docs]</a>    <span class="k">def</span> <span class="nf">filter_junk_annotations</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        remove junk annotations from a list</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (int):  list of annotation ids</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: filtered_aid_list</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; filtered_aid_list = filter_junk_annotations(ibs, aid_list)</span>
<span class="sd">            &gt;&gt;&gt; result = str(filtered_aid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">filter_junk_annotations</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.compute_all_chips"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.compute_all_chips">[docs]</a>    <span class="k">def</span> <span class="nf">compute_all_chips</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Executes lazy evaluation of all chips</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">compute_all_chips</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.ensure_annotation_data"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.ensure_annotation_data">[docs]</a>    <span class="k">def</span> <span class="nf">ensure_annotation_data</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">aid_list</span><span class="p">,</span>
            <span class="n">chips</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="n">feats</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="n">featweights</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">ensure_annotation_data</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">chips</span><span class="p">,</span> <span class="n">feats</span><span class="p">,</span> <span class="n">featweights</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.convert_empty_images_to_annotations"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.convert_empty_images_to_annotations">[docs]</a>    <span class="k">def</span> <span class="nf">convert_empty_images_to_annotations</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  images without chips are given an ANNOTATION over the entire image &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">convert_empty_images_to_annotations</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.use_images_as_annotations"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.use_images_as_annotations">[docs]</a>    <span class="k">def</span> <span class="nf">use_images_as_annotations</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">gid_list</span><span class="p">,</span>
            <span class="n">name_list</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">nid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">notes_list</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">adjust_percent</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Adds an annotation the size of the entire image to each image.</span>
<span class="sd">        adjust_percent - shrinks the ANNOTATION by percentage on each side</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">use_images_as_annotations</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="p">,</span> <span class="n">name_list</span><span class="p">,</span> <span class="n">nid_list</span><span class="p">,</span> <span class="n">notes_list</span><span class="p">,</span> <span class="n">adjust_percent</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_been_adjusted"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_been_adjusted">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_been_adjusted</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns if a bounding box has been adjusted from defaults set in</span>
<span class="sd">        use_images_as_annotations Very hacky very heurstic.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_annot_been_adjusted</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.assert_valid_species_texts"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.assert_valid_species_texts">[docs]</a>    <span class="k">def</span> <span class="nf">assert_valid_species_texts</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">species_list</span><span class="p">,</span> <span class="n">iswarning</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">assert_valid_species_texts</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">species_list</span><span class="p">,</span> <span class="n">iswarning</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.assert_singleton_relationship"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.assert_singleton_relationship">[docs]</a>    <span class="k">def</span> <span class="nf">assert_singleton_relationship</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">alrids_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">assert_singleton_relationship</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">alrids_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.assert_valid_gids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.assert_valid_gids">[docs]</a>    <span class="k">def</span> <span class="nf">assert_valid_gids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">veryverbose</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">assert_valid_gids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span> <span class="n">veryverbose</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.assert_valid_aids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.assert_valid_aids">[docs]</a>    <span class="k">def</span> <span class="nf">assert_valid_aids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">aid_list</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
            <span class="n">veryverbose</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
            <span class="n">msg</span><span class="o">=</span><span class="s1">u&#39;&#39;</span><span class="p">,</span>
            <span class="n">auuid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (int):  list of annotation ids</span>
<span class="sd">            verbose (bool):  verbosity flag(default = False)</span>
<span class="sd">            veryverbose (bool): (default = False)</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-assert_valid_aids</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; verbose = False</span>
<span class="sd">            &gt;&gt;&gt; veryverbose = False</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;Asserting multiple&#39;)</span>
<span class="sd">            &gt;&gt;&gt; result = assert_valid_aids(ibs, aid_list, verbose, veryverbose)</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;Asserting single&#39;)</span>
<span class="sd">            &gt;&gt;&gt; result = assert_valid_aids(ibs, aid_list[0:1], verbose, veryverbose)</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;Asserting multiple incorrect&#39;)</span>
<span class="sd">            &gt;&gt;&gt; auuid_list = ibs.get_annot_uuids(aid_list) + [None]</span>
<span class="sd">            &gt;&gt;&gt; try:</span>
<span class="sd">            &gt;&gt;&gt;    result = assert_valid_aids(ibs, aid_list + [0], verbose, veryverbose, auuid_list=auuid_list)</span>
<span class="sd">            &gt;&gt;&gt; except AssertionError:</span>
<span class="sd">            &gt;&gt;&gt;    print(&#39;Correctly got assertion&#39;)</span>
<span class="sd">            &gt;&gt;&gt; else:</span>
<span class="sd">            &gt;&gt;&gt;    assert False, &#39;should have failed&#39;</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;Asserting single incorrect&#39;)</span>
<span class="sd">            &gt;&gt;&gt; try:</span>
<span class="sd">            &gt;&gt;&gt;    result = assert_valid_aids(ibs, [0], verbose, veryverbose)</span>
<span class="sd">            &gt;&gt;&gt; except AssertionError:</span>
<span class="sd">            &gt;&gt;&gt;    print(&#39;Correctly got assertion&#39;)</span>
<span class="sd">            &gt;&gt;&gt; else:</span>
<span class="sd">            &gt;&gt;&gt;    assert False, &#39;should have failed&#39;</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">assert_valid_aids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span> <span class="n">veryverbose</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">auuid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_missing_gids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_missing_gids">[docs]</a>    <span class="k">def</span> <span class="nf">get_missing_gids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Finds gids with broken links to the original data.</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            gid_list (list): (default = None)</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-get_missing_gids --db GZ_Master1</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; #ibs = ibeis.opendb(&#39;GZ_Master1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; gid_list = ibs.get_valid_gids()</span>
<span class="sd">            &gt;&gt;&gt; bad_gids = ibs.get_missing_gids(gid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;#bad_gids = %r / %r&#39; % (len(bad_gids), len(gid_list)))</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_missing_gids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.assert_images_exist"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.assert_images_exist">[docs]</a>    <span class="k">def</span> <span class="nf">assert_images_exist</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">assert_images_exist</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.check_image_consistency"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.check_image_consistency">[docs]</a>    <span class="k">def</span> <span class="nf">check_image_consistency</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            gid_list (list): (default = None)</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-check_image_consistency  --db=GZ_Master1</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; gid_list = None</span>
<span class="sd">            &gt;&gt;&gt; result = check_image_consistency(ibs, gid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">check_image_consistency</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.check_annot_consistency"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.check_annot_consistency">[docs]</a>    <span class="k">def</span> <span class="nf">check_annot_consistency</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs      (IBEISController):</span>
<span class="sd">            aid_list (list):</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-check_annot_consistency</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; result = check_annot_consistency(ibs, aid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">check_annot_consistency</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.check_annot_corrupt_uuids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.check_annot_corrupt_uuids">[docs]</a>    <span class="k">def</span> <span class="nf">check_annot_corrupt_uuids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        # del dtool.__SQLITE__.converters[&#39;UUID&#39;]</span>
<span class="sd">        # import uuid</span>
<span class="sd">        # del dtool.__SQLITE__.adapters[(uuid.UUID, dtool.__SQLITE__.PrepareProtocol)]</span>

<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;PZ_MTEST&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; check_annot_corrupt_uuids(ibs, aid_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">check_annot_corrupt_uuids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.check_name_mapping_consistency"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.check_name_mapping_consistency">[docs]</a>    <span class="k">def</span> <span class="nf">check_name_mapping_consistency</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">nx2_aids</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        checks that all the aids grouped in a name ahave the same name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">check_name_mapping_consistency</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">nx2_aids</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.check_annot_size"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.check_annot_size">[docs]</a>    <span class="k">def</span> <span class="nf">check_annot_size</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">check_annot_size</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.run_integrity_checks"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.run_integrity_checks">[docs]</a>    <span class="k">def</span> <span class="nf">run_integrity_checks</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">embed</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Function to run all database consistency checks &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">run_integrity_checks</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">embed</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.check_annotmatch_consistency"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.check_annotmatch_consistency">[docs]</a>    <span class="k">def</span> <span class="nf">check_annotmatch_consistency</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">check_annotmatch_consistency</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.fix_invalid_annotmatches"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.fix_invalid_annotmatches">[docs]</a>    <span class="k">def</span> <span class="nf">fix_invalid_annotmatches</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">fix_invalid_annotmatches</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.fix_and_clean_database"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.fix_and_clean_database">[docs]</a>    <span class="k">def</span> <span class="nf">fix_and_clean_database</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Function to run all database cleanup scripts</span>

<span class="sd">        Rename to run_cleanup_scripts</span>

<span class="sd">        Break into two funcs:</span>
<span class="sd">            run_cleanup_scripts</span>
<span class="sd">            run_fixit_scripts</span>

<span class="sd">        CONSITENCY CHECKS TODO:</span>
<span class="sd">            * check that annotmatches marked as False do not have the</span>
<span class="sd">              same name for similar viewpoints.</span>
<span class="sd">            * check that photobombs are have different names</span>
<span class="sd">            * warn if scenery matches have the same name</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">fix_and_clean_database</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.fix_exif_data"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.fix_exif_data">[docs]</a>    <span class="k">def</span> <span class="nf">fix_exif_data</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  TODO CALL SCRIPT</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            gid_list (list): list of image ids</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-fix_exif_data</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;lynx&#39;)</span>
<span class="sd">            &gt;&gt;&gt; gid_list = ibs.get_valid_gids()</span>
<span class="sd">            &gt;&gt;&gt; result = fix_exif_data(ibs, gid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">fix_exif_data</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.fix_invalid_nids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.fix_invalid_nids">[docs]</a>    <span class="k">def</span> <span class="nf">fix_invalid_nids</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Make sure that all rowids are greater than 0</span>

<span class="sd">        We can only handle there being a name with rowid 0 if it is UNKNOWN. In this</span>
<span class="sd">        case we safely delete it, but anything more complicated needs to be handled</span>
<span class="sd">        anually</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-fix_invalid_nids</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; result = fix_invalid_nids(ibs)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">fix_invalid_nids</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.fix_invalid_name_texts"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.fix_invalid_name_texts">[docs]</a>    <span class="k">def</span> <span class="nf">fix_invalid_name_texts</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Ensure  that no name text is empty or &#39;____&#39;</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-fix_invalid_names</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; result = fix_invalid_name_texts(ibs)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>

<span class="sd">        ibs.set_name_texts(nid_list[3], &#39;____&#39;)</span>
<span class="sd">        ibs.set_name_texts(nid_list[2], &#39;&#39;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">fix_invalid_name_texts</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.copy_imagesets"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.copy_imagesets">[docs]</a>    <span class="k">def</span> <span class="nf">copy_imagesets</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">imgsetid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            imgsetid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: new_imgsetid_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-copy_imagesets</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; ibs.delete_all_imagesets()</span>
<span class="sd">            &gt;&gt;&gt; ibs.compute_occurrences()</span>
<span class="sd">            &gt;&gt;&gt; imgsetid_list = ibs.get_valid_imgsetids()</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; new_imgsetid_list = copy_imagesets(ibs, imgsetid_list)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; result = str(ibs.get_imageset_text(new_imgsetid_list))</span>
<span class="sd">            &gt;&gt;&gt; assert [2] == list(set(map(len, ibs.get_image_imgsetids(ibs.get_valid_gids()))))</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            &gt;&gt;&gt; ibs.delete_all_imagesets()</span>
<span class="sd">            &gt;&gt;&gt; ibs.compute_occurrences()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">copy_imagesets</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">imgsetid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.fix_unknown_exemplars"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.fix_unknown_exemplars">[docs]</a>    <span class="k">def</span> <span class="nf">fix_unknown_exemplars</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Goes through all of the annotations, and sets their exemplar flag to 0 if it</span>
<span class="sd">        is associated with an unknown annotation</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">fix_unknown_exemplars</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_all_recomputable_data"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_all_recomputable_data">[docs]</a>    <span class="k">def</span> <span class="nf">delete_all_recomputable_data</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Delete all cached data including chips and imagesets</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">delete_all_recomputable_data</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_cache"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_cache">[docs]</a>    <span class="k">def</span> <span class="nf">delete_cache</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">delete_chips</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">delete_imagesets</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Deletes the cache directory in the database directory.</span>
<span class="sd">        Can specify to delete encoutners and chips as well.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">delete_cache</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">delete_chips</span><span class="p">,</span> <span class="n">delete_imagesets</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_cachedir"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_cachedir">[docs]</a>    <span class="k">def</span> <span class="nf">delete_cachedir</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Deletes the cache directory in the database directory.</span>

<span class="sd">        (does not remove chips)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">delete_cachedir</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_qres_cache"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_qres_cache">[docs]</a>    <span class="k">def</span> <span class="nf">delete_qres_cache</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis --tf delete_qres_cache</span>
<span class="sd">            python -m ibeis --tf delete_qres_cache --db PZ_MTEST</span>
<span class="sd">            python -m ibeis --tf delete_qres_cache --db PZ_Master1</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # SCRIPT</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; result = delete_qres_cache(ibs)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">delete_qres_cache</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_neighbor_cache"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_neighbor_cache">[docs]</a>    <span class="k">def</span> <span class="nf">delete_neighbor_cache</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">delete_neighbor_cache</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_all_features"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_all_features">[docs]</a>    <span class="k">def</span> <span class="nf">delete_all_features</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">delete_all_features</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_all_chips"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_all_chips">[docs]</a>    <span class="k">def</span> <span class="nf">delete_all_chips</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">delete_all_chips</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_all_imagesets"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_all_imagesets">[docs]</a>    <span class="k">def</span> <span class="nf">delete_all_imagesets</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">delete_all_imagesets</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_all_annotations"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_all_annotations">[docs]</a>    <span class="k">def</span> <span class="nf">delete_all_annotations</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Carefull with this function. Annotations are not recomputable &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">delete_all_annotations</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_thumbnails"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_thumbnails">[docs]</a>    <span class="k">def</span> <span class="nf">delete_thumbnails</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">delete_thumbnails</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_flann_cachedir"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_flann_cachedir">[docs]</a>    <span class="k">def</span> <span class="nf">delete_flann_cachedir</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">delete_flann_cachedir</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.vd"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.vd">[docs]</a>    <span class="k">def</span> <span class="nf">vd</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">vd</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.view_dbdir"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.view_dbdir">[docs]</a>    <span class="k">def</span> <span class="nf">view_dbdir</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">view_dbdir</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_empty_gids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_empty_gids">[docs]</a>    <span class="k">def</span> <span class="nf">get_empty_gids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">imgsetid</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  returns gid list without any chips &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_empty_gids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">imgsetid</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_vecs_cache"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_vecs_cache">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_vecs_cache</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aids</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        When you have a list with duplicates and you dont want to copy data</span>
<span class="sd">        creates a reference to each data object indexed by a dict</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_annot_vecs_cache</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aids</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_is_hard"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_is_hard">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_is_hard</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CmdLine:</span>
<span class="sd">            ./dev.py --cmd --db PZ_Mothers</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):</span>
<span class="sd">            aid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: is_hard_list</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()[0::2]</span>
<span class="sd">            &gt;&gt;&gt; is_hard_list = get_annot_is_hard(ibs, aid_list)</span>
<span class="sd">            &gt;&gt;&gt; result = str(is_hard_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [False, False, False, False, False, False, False]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_annot_is_hard</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_hard_annot_rowids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_hard_annot_rowids">[docs]</a>    <span class="k">def</span> <span class="nf">get_hard_annot_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_hard_annot_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_easy_annot_rowids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_easy_annot_rowids">[docs]</a>    <span class="k">def</span> <span class="nf">get_easy_annot_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_easy_annot_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_is_hard"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_is_hard">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_is_hard</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">flag_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Hack to mark hard cases in the notes column</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; pz_mothers_hard_aids = [27, 43, 44, 49, 50, 51, 54, 66, 89, 97]</span>
<span class="sd">            &gt;&gt;&gt; aid_list = pz_mothers_hard_aids</span>
<span class="sd">            &gt;&gt;&gt; flag_list = [True] * len(aid_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">set_annot_is_hard</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">flag_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.is_nid_unknown"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.is_nid_unknown">[docs]</a>    <span class="k">def</span> <span class="nf">is_nid_unknown</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">is_nid_unknown</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_names_to_next_name"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_names_to_next_name">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_names_to_next_name</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">set_annot_names_to_next_name</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
    <span class="k">def</span> <span class="nf">_overwrite_annot_species_to_plains</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">_overwrite_annot_species_to_plains</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_overwrite_annot_species_to_grevys</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">_overwrite_annot_species_to_grevys</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_overwrite_annot_species_to_giraffe</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">_overwrite_annot_species_to_giraffe</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_overwrite_all_annot_species_to</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">species</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  THIS OVERWRITES A LOT OF INFO &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">_overwrite_all_annot_species_to</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">species</span><span class="p">)</span>

<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_info"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_info">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_info</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (ibeis.IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (list):  list of annotation rowids</span>
<span class="sd">            default (bool): (default = False)</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: infodict_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-get_annot_info --tb</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()[0:2]</span>
<span class="sd">            &gt;&gt;&gt; default = True</span>
<span class="sd">            &gt;&gt;&gt; infodict_list = ibs.get_annot_info(1, default)</span>
<span class="sd">            &gt;&gt;&gt; result = (&#39;infodict_list = %s&#39; % (ut.obj_str(infodict_list, nl=4),))</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_annot_info</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.update_exemplar_special_imageset"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.update_exemplar_special_imageset">[docs]</a>    <span class="k">def</span> <span class="nf">update_exemplar_special_imageset</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">update_exemplar_special_imageset</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.update_reviewed_unreviewed_image_special_imageset"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.update_reviewed_unreviewed_image_special_imageset">[docs]</a>    <span class="k">def</span> <span class="nf">update_reviewed_unreviewed_image_special_imageset</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates imageset of images that have not been reviewed</span>
<span class="sd">        and that have been reviewed</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">update_reviewed_unreviewed_image_special_imageset</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.update_all_image_special_imageset"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.update_all_image_special_imageset">[docs]</a>    <span class="k">def</span> <span class="nf">update_all_image_special_imageset</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">update_all_image_special_imageset</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_special_imgsetids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_special_imgsetids">[docs]</a>    <span class="k">def</span> <span class="nf">get_special_imgsetids</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_special_imgsetids</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_ungrouped_gids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_ungrouped_gids">[docs]</a>    <span class="k">def</span> <span class="nf">get_ungrouped_gids</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-get_ungrouped_gids</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; ibs.delete_all_imagesets()</span>
<span class="sd">            &gt;&gt;&gt; ibs.compute_occurrences()</span>
<span class="sd">            &gt;&gt;&gt; ibs.update_special_imagesets()</span>
<span class="sd">            &gt;&gt;&gt; # Now we want to remove some images from a non-special imageset</span>
<span class="sd">            &gt;&gt;&gt; nonspecial_imgsetids = [i for i in ibs.get_valid_imgsetids() if i not in ibs.get_special_imgsetids()]</span>
<span class="sd">            &gt;&gt;&gt; print(&quot;Nonspecial EIDs %r&quot; % nonspecial_imgsetids)</span>
<span class="sd">            &gt;&gt;&gt; images_to_remove = ibs.get_imageset_gids(nonspecial_imgsetids[0:1])[0][0:1]</span>
<span class="sd">            &gt;&gt;&gt; print(&quot;Removing %r&quot; % images_to_remove)</span>
<span class="sd">            &gt;&gt;&gt; ibs.unrelate_images_and_imagesets(images_to_remove,nonspecial_imgsetids[0:1] * len(images_to_remove))</span>
<span class="sd">            &gt;&gt;&gt; ibs.update_special_imagesets()</span>
<span class="sd">            &gt;&gt;&gt; ungr_imgsetid = ibs.get_imageset_imgsetids_from_text(const.UNGROUPED_IMAGES_IMAGESETTEXT)</span>
<span class="sd">            &gt;&gt;&gt; print(&quot;Ungrouped gids %r&quot; % ibs.get_ungrouped_gids())</span>
<span class="sd">            &gt;&gt;&gt; print(&quot;Ungrouped imgsetid %d contains %r&quot; % (ungr_imgsetid, ibs.get_imageset_gids([ungr_imgsetid])))</span>
<span class="sd">            &gt;&gt;&gt; ungr_gids = ibs.get_imageset_gids([ungr_imgsetid])[0]</span>
<span class="sd">            &gt;&gt;&gt; assert(sorted(images_to_remove) == sorted(ungr_gids))</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_ungrouped_gids</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.update_ungrouped_special_imageset"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.update_ungrouped_special_imageset">[docs]</a>    <span class="k">def</span> <span class="nf">update_ungrouped_special_imageset</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-update_ungrouped_special_imageset</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb9&#39;)</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; result = update_ungrouped_special_imageset(ibs)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">update_ungrouped_special_imageset</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.update_special_imagesets"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.update_special_imagesets">[docs]</a>    <span class="k">def</span> <span class="nf">update_special_imagesets</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">update_special_imagesets</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.print_dbinfo"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.print_dbinfo">[docs]</a>    <span class="k">def</span> <span class="nf">print_dbinfo</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">print_dbinfo</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.print_infostr"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.print_infostr">[docs]</a>    <span class="k">def</span> <span class="nf">print_infostr</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">print_infostr</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.print_annotation_table"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.print_annotation_table">[docs]</a>    <span class="k">def</span> <span class="nf">print_annotation_table</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">verbosity</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">exclude_columns</span><span class="o">=</span><span class="p">[],</span>
            <span class="n">include_columns</span><span class="o">=</span><span class="p">[]):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Dumps annotation table to stdout</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):</span>
<span class="sd">            verbosity (int):</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; verbosity = 1</span>
<span class="sd">            &gt;&gt;&gt; print_annotation_table(ibs, verbosity)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">print_annotation_table</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">verbosity</span><span class="p">,</span> <span class="n">exclude_columns</span><span class="p">,</span> <span class="n">include_columns</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.print_annotmatch_table"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.print_annotmatch_table">[docs]</a>    <span class="k">def</span> <span class="nf">print_annotmatch_table</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Dumps annotation match table to stdout</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-print_annotmatch_table</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-print_annotmatch_table --db PZ_Master1</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # SCRIPT</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; result = print_annotmatch_table(ibs)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">print_annotmatch_table</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.print_chip_table"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.print_chip_table">[docs]</a>    <span class="k">def</span> <span class="nf">print_chip_table</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Dumps chip table to stdout &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">print_chip_table</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.print_feat_table"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.print_feat_table">[docs]</a>    <span class="k">def</span> <span class="nf">print_feat_table</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Dumps chip table to stdout &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">print_feat_table</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.print_image_table"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.print_image_table">[docs]</a>    <span class="k">def</span> <span class="nf">print_image_table</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Dumps chip table to stdout &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">print_image_table</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.print_party_table"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.print_party_table">[docs]</a>    <span class="k">def</span> <span class="nf">print_party_table</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Dumps chip table to stdout &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">print_party_table</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.print_lblannot_table"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.print_lblannot_table">[docs]</a>    <span class="k">def</span> <span class="nf">print_lblannot_table</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Dumps lblannot table to stdout &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">print_lblannot_table</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.print_name_table"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.print_name_table">[docs]</a>    <span class="k">def</span> <span class="nf">print_name_table</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Dumps name table to stdout &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">print_name_table</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.print_species_table"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.print_species_table">[docs]</a>    <span class="k">def</span> <span class="nf">print_species_table</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Dumps species table to stdout &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">print_species_table</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.print_alr_table"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.print_alr_table">[docs]</a>    <span class="k">def</span> <span class="nf">print_alr_table</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Dumps alr table to stdout &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">print_alr_table</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.print_config_table"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.print_config_table">[docs]</a>    <span class="k">def</span> <span class="nf">print_config_table</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Dumps config table to stdout &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">print_config_table</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.print_imageset_table"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.print_imageset_table">[docs]</a>    <span class="k">def</span> <span class="nf">print_imageset_table</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Dumps imageset table to stdout</span>

<span class="sd">        Kwargs:</span>
<span class="sd">            exclude_columns (list):</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">print_imageset_table</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.print_egpairs_table"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.print_egpairs_table">[docs]</a>    <span class="k">def</span> <span class="nf">print_egpairs_table</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Dumps egpairs table to stdout &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">print_egpairs_table</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.print_tables"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.print_tables">[docs]</a>    <span class="k">def</span> <span class="nf">print_tables</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">exclude_columns</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">exclude_tables</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">print_tables</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">exclude_columns</span><span class="p">,</span> <span class="n">exclude_tables</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.print_contributor_table"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.print_contributor_table">[docs]</a>    <span class="k">def</span> <span class="nf">print_contributor_table</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">verbosity</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">exclude_columns</span><span class="o">=</span><span class="p">[]):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Dumps annotation table to stdout</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):</span>
<span class="sd">            verbosity (int):</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; verbosity = 1</span>
<span class="sd">            &gt;&gt;&gt; print_contributor_table(ibs, verbosity)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">print_contributor_table</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">verbosity</span><span class="p">,</span> <span class="n">exclude_columns</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.is_aid_unknown"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.is_aid_unknown">[docs]</a>    <span class="k">def</span> <span class="nf">is_aid_unknown</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns if an annotation has been given a name (even if that name is temporary)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">is_aid_unknown</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.batch_rename_consecutive_via_species"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.batch_rename_consecutive_via_species">[docs]</a>    <span class="k">def</span> <span class="nf">batch_rename_consecutive_via_species</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">imgsetid</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  actually sets the new consectuive names&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">batch_rename_consecutive_via_species</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">imgsetid</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_consecutive_newname_list_via_species"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_consecutive_newname_list_via_species">[docs]</a>    <span class="k">def</span> <span class="nf">get_consecutive_newname_list_via_species</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">imgsetid</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Just creates the nams, but does not set them</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-get_consecutive_newname_list_via_species</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; ibs._clean_species()</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; imgsetid = None</span>
<span class="sd">            &gt;&gt;&gt; new_nid_list, new_name_list = get_consecutive_newname_list_via_species(ibs, imgsetid=imgsetid)</span>
<span class="sd">            &gt;&gt;&gt; result = ut.list_str((new_nid_list, new_name_list))</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            (</span>
<span class="sd">                [1, 2, 3, 4, 5, 6, 7],</span>
<span class="sd">                [&#39;IBEIS_PZ_0001&#39;, &#39;IBEIS_PZ_0002&#39;, &#39;IBEIS_UNKNOWN_0001&#39;, &#39;IBEIS_UNKNOWN_0002&#39;, &#39;IBEIS_GZ_0001&#39;, &#39;IBEIS_PB_0001&#39;, &#39;IBEIS_UNKNOWN_0003&#39;],</span>
<span class="sd">            )</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; ibs._clean_species()</span>
<span class="sd">            &gt;&gt;&gt; ibs.delete_all_imagesets()</span>
<span class="sd">            &gt;&gt;&gt; ibs.compute_occurrences()</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; imgsetid = ibs.get_valid_imgsetids()[1]</span>
<span class="sd">            &gt;&gt;&gt; new_nid_list, new_name_list = get_consecutive_newname_list_via_species(ibs, imgsetid=imgsetid)</span>
<span class="sd">            &gt;&gt;&gt; result = ut.list_str((new_nid_list, new_name_list))</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            (</span>
<span class="sd">                [4, 5, 6, 7],</span>
<span class="sd">                [&#39;IBEIS_UNKNOWN_Occurrence_1_0001&#39;, &#39;IBEIS_GZ_Occurrence_1_0001&#39;, &#39;IBEIS_PB_Occurrence_1_0001&#39;, &#39;IBEIS_UNKNOWN_Occurrence_1_0002&#39;],</span>
<span class="sd">            )</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_consecutive_newname_list_via_species</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">imgsetid</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_names_to_same_new_name"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_names_to_same_new_name">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_names_to_same_new_name</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">set_annot_names_to_same_new_name</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_names_to_different_new_names"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_names_to_different_new_names">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_names_to_different_new_names</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">set_annot_names_to_different_new_names</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.make_next_nids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.make_next_nids">[docs]</a>    <span class="k">def</span> <span class="nf">make_next_nids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        makes name and adds it to the database returning the newly added name rowid(s)</span>

<span class="sd">        CAUTION; changes database state</span>

<span class="sd">        SeeAlso:</span>
<span class="sd">            make_next_name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">make_next_nids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.make_next_name"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.make_next_name">[docs]</a>    <span class="k">def</span> <span class="nf">make_next_name</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">num</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">str_format</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
            <span class="n">species_text</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">location_text</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Creates a number of names which are not in the database, but does not</span>
<span class="sd">        add them</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            num (None):</span>
<span class="sd">            str_format (int): either 1 or 2</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: next_name</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-make_next_name</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs1 = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; ibs2 = ibeis.opendb(&#39;PZ_MTEST&#39;)</span>
<span class="sd">            &gt;&gt;&gt; ibs3 = ibeis.opendb(&#39;NAUT_test&#39;)</span>
<span class="sd">            &gt;&gt;&gt; #ibs5 = ibeis.opendb(&#39;GIR_Tanya&#39;)</span>
<span class="sd">            &gt;&gt;&gt; ibs1._clean_species()</span>
<span class="sd">            &gt;&gt;&gt; ibs2._clean_species()</span>
<span class="sd">            &gt;&gt;&gt; ibs3._clean_species()</span>
<span class="sd">            &gt;&gt;&gt; num = None</span>
<span class="sd">            &gt;&gt;&gt; str_format = 2</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; next_name1 = make_next_name(ibs1, num, str_format)</span>
<span class="sd">            &gt;&gt;&gt; next_name2 = make_next_name(ibs2, num, str_format)</span>
<span class="sd">            &gt;&gt;&gt; next_name3 = make_next_name(ibs3, num, str_format)</span>
<span class="sd">            &gt;&gt;&gt; next_name4 = make_next_name(ibs1, num, str_format, const.TEST_SPECIES.ZEB_GREVY)</span>
<span class="sd">            &gt;&gt;&gt; name_list = [next_name1, next_name2, next_name3, next_name4]</span>
<span class="sd">            &gt;&gt;&gt; next_name_list1 = make_next_name(ibs2, 5, str_format)</span>
<span class="sd">            &gt;&gt;&gt; temp_nids = ibs2.add_names([&#39;IBEIS_PZ_0045&#39;, &#39;IBEIS_PZ_0048&#39;])</span>
<span class="sd">            &gt;&gt;&gt; next_name_list2 = make_next_name(ibs2, 5, str_format)</span>
<span class="sd">            &gt;&gt;&gt; ibs2.delete_names(temp_nids)</span>
<span class="sd">            &gt;&gt;&gt; next_name_list3 = make_next_name(ibs2, 5, str_format)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; # FIXME: nautiluses are not working right</span>
<span class="sd">            &gt;&gt;&gt; result = ut.list_str((name_list, next_name_list1, next_name_list2, next_name_list3))</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            (</span>
<span class="sd">                [&#39;IBEIS_UNKNOWN_0008&#39;, &#39;IBEIS_PZ_0042&#39;, &#39;IBEIS_UNKNOWN_0004&#39;, &#39;IBEIS_GZ_0008&#39;],</span>
<span class="sd">                [&#39;IBEIS_PZ_0042&#39;, &#39;IBEIS_PZ_0043&#39;, &#39;IBEIS_PZ_0044&#39;, &#39;IBEIS_PZ_0045&#39;, &#39;IBEIS_PZ_0046&#39;],</span>
<span class="sd">                [&#39;IBEIS_PZ_0044&#39;, &#39;IBEIS_PZ_0046&#39;, &#39;IBEIS_PZ_0047&#39;, &#39;IBEIS_PZ_0049&#39;, &#39;IBEIS_PZ_0050&#39;],</span>
<span class="sd">                [&#39;IBEIS_PZ_0042&#39;, &#39;IBEIS_PZ_0043&#39;, &#39;IBEIS_PZ_0044&#39;, &#39;IBEIS_PZ_0045&#39;, &#39;IBEIS_PZ_0046&#39;],</span>
<span class="sd">            )</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">make_next_name</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">num</span><span class="p">,</span> <span class="n">str_format</span><span class="p">,</span> <span class="n">species_text</span><span class="p">,</span> <span class="n">location_text</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.group_annots_by_name"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.group_annots_by_name">[docs]</a>    <span class="k">def</span> <span class="nf">group_annots_by_name</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">distinguish_unknowns</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This function is probably the fastest of its siblings</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (list):</span>
<span class="sd">            distinguish_unknowns (bool):</span>

<span class="sd">        Returns:</span>
<span class="sd">            tuple: grouped_aids_, unique_nids</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-group_annots_by_name</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; distinguish_unknowns = True</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; grouped_aids_, unique_nids = group_annots_by_name(ibs, aid_list, distinguish_unknowns)</span>
<span class="sd">            &gt;&gt;&gt; result = str([aids.tolist() for aids in grouped_aids_])</span>
<span class="sd">            &gt;&gt;&gt; result += &#39;\n&#39; + str(unique_nids.tolist())</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [[11], [9], [4], [1], [2, 3], [5, 6], [7], [8], [10], [12], [13]]</span>
<span class="sd">            [-11, -9, -4, -1, 1, 2, 3, 4, 5, 6, 7]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">group_annots_by_name</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">distinguish_unknowns</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.group_annots_by_known_names"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.group_annots_by_known_names">[docs]</a>    <span class="k">def</span> <span class="nf">group_annots_by_known_names</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">checks</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        FIXME; rectify this</span>
<span class="sd">        #&gt;&gt;&gt; import ibeis  # NOQA</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-group_annots_by_known_names</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(db=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13]</span>
<span class="sd">            &gt;&gt;&gt; known_aids_list, unknown_aids = group_annots_by_known_names(ibs, aid_list)</span>
<span class="sd">            &gt;&gt;&gt; result = str(known_aids_list) + &#39;\n&#39;</span>
<span class="sd">            &gt;&gt;&gt; result += str(unknown_aids)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [[2, 3], [5, 6], [7], [8], [10], [12], [13]]</span>
<span class="sd">            [11, 9, 4, 1]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">group_annots_by_known_names</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">checks</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_num_annots_per_name"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_num_annots_per_name">[docs]</a>    <span class="k">def</span> <span class="nf">get_num_annots_per_name</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the number of annots per name (IN THIS LIST)</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (int):  list of annotation ids</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-get_num_annots_per_name</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-get_num_annots_per_name --db PZ_Master1</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # UNSTABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids(is_known=True)</span>
<span class="sd">            &gt;&gt;&gt; num_annots_per_name, unique_nids = get_num_annots_per_name(ibs, aid_list)</span>
<span class="sd">            &gt;&gt;&gt; per_name_hist = ut.dict_hist(num_annots_per_name)</span>
<span class="sd">            &gt;&gt;&gt; items = per_name_hist.items()</span>
<span class="sd">            &gt;&gt;&gt; items = sorted(items)[::-1]</span>
<span class="sd">            &gt;&gt;&gt; key_list = ut.get_list_column(items, 0)</span>
<span class="sd">            &gt;&gt;&gt; val_list = ut.get_list_column(items, 1)</span>
<span class="sd">            &gt;&gt;&gt; min_per_name = dict(zip(key_list, np.cumsum(val_list)))</span>
<span class="sd">            &gt;&gt;&gt; result = (&#39;per_name_hist = %s&#39; % (ut.dict_str(per_name_hist),))</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;min_per_name = %s&#39; % (ut.dict_str(min_per_name),))</span>
<span class="sd">            per_name_hist = {</span>
<span class="sd">                1: 5,</span>
<span class="sd">                2: 2,</span>
<span class="sd">            }</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_num_annots_per_name</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annots_per_name_stats"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annots_per_name_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_annots_per_name_stats</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_annots_per_name_stats</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_aids_with_groundtruth"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_aids_with_groundtruth">[docs]</a>    <span class="k">def</span> <span class="nf">get_aids_with_groundtruth</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  returns aids with valid groundtruth &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_aids_with_groundtruth</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_dbnotes_fpath"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_dbnotes_fpath">[docs]</a>    <span class="k">def</span> <span class="nf">get_dbnotes_fpath</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">ensure</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_dbnotes_fpath</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">ensure</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_bbox_area"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_bbox_area">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_bbox_area</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_annot_bbox_area</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_match_text"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_match_text">[docs]</a>    <span class="k">def</span> <span class="nf">get_match_text</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid1</span><span class="p">,</span> <span class="n">aid2</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_match_text</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid1</span><span class="p">,</span> <span class="n">aid2</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_database_species"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_database_species">[docs]</a>    <span class="k">def</span> <span class="nf">get_database_species</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-get_database_species</span>

<span class="sd">        Example1:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; result = ut.list_str(ibs.get_database_species(), nl=False)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [&#39;____&#39;, &#39;bear_polar&#39;, &#39;zebra_grevys&#39;, &#39;zebra_plains&#39;]</span>

<span class="sd">        Example2:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;PZ_MTEST&#39;)</span>
<span class="sd">            &gt;&gt;&gt; result = ut.list_str(ibs.get_database_species(), nl=False)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [&#39;zebra_plains&#39;]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_database_species</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_primary_database_species"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_primary_database_species">[docs]</a>    <span class="k">def</span> <span class="nf">get_primary_database_species</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            aid_list (list):  list of annotation ids (default = None)</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-get_primary_database_species</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = None</span>
<span class="sd">            &gt;&gt;&gt; primary_species = get_primary_database_species(ibs, aid_list)</span>
<span class="sd">            &gt;&gt;&gt; result = primary_species</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;primary_species = %r&#39; % (primary_species,))</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            zebra_plains</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_primary_database_species</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_dominant_species"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_dominant_species">[docs]</a>    <span class="k">def</span> <span class="nf">get_dominant_species</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            aid_list (int):  list of annotation ids</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-get_dominant_species</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; result = get_dominant_species(ibs, aid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            zebra_plains</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_dominant_species</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_database_species_count"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_database_species_count">[docs]</a>    <span class="k">def</span> <span class="nf">get_database_species_count</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-get_database_species_count</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; #print(ut.dict_str(ibeis.opendb(&#39;PZ_Master0&#39;).get_database_species_count()))</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; result = ut.dict_str(ibs.get_database_species_count(), nl=False)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            {&#39;____&#39;: 3, &#39;bear_polar&#39;: 2, &#39;zebra_grevys&#39;: 2, &#39;zebra_plains&#39;: 6}</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_database_species_count</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_match_truth"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_match_truth">[docs]</a>    <span class="k">def</span> <span class="nf">get_match_truth</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid1</span><span class="p">,</span> <span class="n">aid2</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_match_truth</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid1</span><span class="p">,</span> <span class="n">aid2</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_aidpair_truths"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_aidpair_truths">[docs]</a>    <span class="k">def</span> <span class="nf">get_aidpair_truths</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid1_list</span><span class="p">,</span> <span class="n">aid2_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Uses NIDS to verify truth</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid1_list (list):</span>
<span class="sd">            aid2_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[bool]: truth</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-get_aidpair_truths</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid1_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; aid2_list = ut.list_roll(ibs.get_valid_aids(), -1)</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; truth = get_aidpair_truths(ibs, aid1_list, aid2_list)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; result = str(truth)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_aidpair_truths</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid1_list</span><span class="p">,</span> <span class="n">aid2_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_dbinfo_str"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_dbinfo_str">[docs]</a>    <span class="k">def</span> <span class="nf">get_dbinfo_str</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_dbinfo_str</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_infostr"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_infostr">[docs]</a>    <span class="k">def</span> <span class="nf">get_infostr</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Returns sort printable database information</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: infostr</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_infostr</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_dbnotes"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_dbnotes">[docs]</a>    <span class="k">def</span> <span class="nf">get_dbnotes</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  sets notes for an entire database &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_dbnotes</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_dbnotes"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_dbnotes">[docs]</a>    <span class="k">def</span> <span class="nf">set_dbnotes</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">notes</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  sets notes for an entire database &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">set_dbnotes</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">notes</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.annotstr"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.annotstr">[docs]</a>    <span class="k">def</span> <span class="nf">annotstr</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">annotstr</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.merge_names"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.merge_names">[docs]</a>    <span class="k">def</span> <span class="nf">merge_names</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">merge_name</span><span class="p">,</span> <span class="n">other_names</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            merge_name (str):</span>
<span class="sd">            other_names (list):</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-merge_names</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; merge_name = &#39;zebra&#39;</span>
<span class="sd">            &gt;&gt;&gt; other_names = [&#39;occl&#39;, &#39;jeff&#39;]</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; result = merge_names(ibs, merge_name, other_names)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            &gt;&gt;&gt; ibs.print_names_table()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">merge_names</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">merge_name</span><span class="p">,</span> <span class="n">other_names</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_exemplars_from_quality_and_viewpoint"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_exemplars_from_quality_and_viewpoint">[docs]</a>    <span class="k">def</span> <span class="nf">set_exemplars_from_quality_and_viewpoint</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">aid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">exemplars_per_view</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">imgsetid</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">dry_run</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Automatic exemplar selection algorithm based on viewpoint and quality</span>

<span class="sd">        Ignore:</span>
<span class="sd">            # We want to choose the minimum per-item weight w such that</span>
<span class="sd">            # we can&#39;t pack more than N w&#39;s into the knapsack</span>
<span class="sd">            w * (N + 1) &gt; N</span>
<span class="sd">            # and w &lt; 1.0, so we can have wiggle room for preferences</span>
<span class="sd">            # so</span>
<span class="sd">            w * (N + 1) &gt; N</span>
<span class="sd">            w &gt; N / (N + 1)</span>
<span class="sd">            EPS = 1E-9</span>
<span class="sd">            w = N / (N + 1) + EPS</span>

<span class="sd">            # Preference denomiantor should not make any choice of</span>
<span class="sd">            # feasible items infeasible, but give more weight to a few.</span>
<span class="sd">            # delta_w is the wiggle room we have, but we need to choose a number</span>
<span class="sd">            # much less than it.</span>
<span class="sd">            prefdenom = N ** 2</span>
<span class="sd">            maybe its just N + EPS?</span>
<span class="sd">            N ** 2 should work though. Figure out correct value later</span>
<span class="sd">            delta_w = (1 - w)</span>
<span class="sd">            prefdenom = delta_w / N</span>
<span class="sd">            N - (w * N)</span>

<span class="sd">            N = 3</span>
<span class="sd">            EPS = 1E-9</span>
<span class="sd">            w = N / (N + 1) + EPS</span>
<span class="sd">            pref_decimator = N ** 2</span>
<span class="sd">            num_teir1_levels = 3</span>
<span class="sd">            pref_teir1 = w / (num_teir1_levels * pref_decimator)</span>
<span class="sd">            pref_teir2 = pref_teir1 / pref_decimator</span>
<span class="sd">            pref_teir3 = pref_teir2 / pref_decimator</span>

<span class="sd">        References:</span>
<span class="sd">            # implement maximum diversity approximation instead</span>
<span class="sd">            http://www.csbio.unc.edu/mcmillan/pubs/ICDM07_Pan.pdf</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-set_exemplars_from_quality_and_viewpoint</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-set_exemplars_from_quality_and_viewpoint:1</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; #ibs = ibeis.opendb(&#39;PZ_MUGU_19&#39;)</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;PZ_MTEST&#39;)</span>
<span class="sd">            &gt;&gt;&gt; dry_run = True</span>
<span class="sd">            &gt;&gt;&gt; verbose = False</span>
<span class="sd">            &gt;&gt;&gt; old_sum = sum(ibs.get_annot_exemplar_flags(ibs.get_valid_aids()))</span>
<span class="sd">            &gt;&gt;&gt; new_aid_list, new_flag_list = ibs.set_exemplars_from_quality_and_viewpoint(dry_run=dry_run)</span>
<span class="sd">            &gt;&gt;&gt; new_sum = sum(new_flag_list)</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;old_sum = %r&#39; % (old_sum,))</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;new_sum = %r&#39; % (new_sum,))</span>
<span class="sd">            &gt;&gt;&gt; zero_aid_list, zero_flag_list = ibs.set_exemplars_from_quality_and_viewpoint(exemplars_per_view=0, dry_run=dry_run)</span>
<span class="sd">            &gt;&gt;&gt; assert sum(zero_flag_list) == 0</span>
<span class="sd">            &gt;&gt;&gt; result = new_sum</span>

<span class="sd">        Example1:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; dry_run = True</span>
<span class="sd">            &gt;&gt;&gt; verbose = False</span>
<span class="sd">            &gt;&gt;&gt; old_sum = sum(ibs.get_annot_exemplar_flags(ibs.get_valid_aids()))</span>
<span class="sd">            &gt;&gt;&gt; new_aid_list, new_flag_list = ibs.set_exemplars_from_quality_and_viewpoint(dry_run=dry_run)</span>
<span class="sd">            &gt;&gt;&gt; assert len(new_aid_list) == len(new_flag_list)</span>
<span class="sd">            &gt;&gt;&gt; # 2 of the 11 annots are unknown and should not be exemplars</span>
<span class="sd">            &gt;&gt;&gt; ut.assert_eq(len(new_aid_list), 9)</span>

<span class="sd">        Example2:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb2&#39;)</span>
<span class="sd">            &gt;&gt;&gt; dry_run = True</span>
<span class="sd">            &gt;&gt;&gt; verbose = False</span>
<span class="sd">            &gt;&gt;&gt; imgsetid = None</span>
<span class="sd">            &gt;&gt;&gt; new_aid_list, new_flag_list = ibs.set_exemplars_from_quality_and_viewpoint(dry_run=dry_run)</span>
<span class="sd">            &gt;&gt;&gt; old_flag_list = ibs.get_annot_exemplar_flags(new_aid_list)</span>
<span class="sd">            &gt;&gt;&gt; new_exemplar_aids = ut.compress(new_aid_list, new_flag_list)</span>
<span class="sd">            &gt;&gt;&gt; new_exemplar_qualtexts = ibs.get_annot_quality_texts(new_exemplar_aids)</span>
<span class="sd">            &gt;&gt;&gt; assert &#39;junk&#39; not in new_exemplar_qualtexts, &#39;should not have junk exemplars&#39;</span>
<span class="sd">            &gt;&gt;&gt; assert &#39;poor&#39; not in new_exemplar_qualtexts, &#39;should not have poor exemplars&#39;</span>
<span class="sd">            &gt;&gt;&gt; #assert len(new_aid_list) == len(new_flag_list)</span>
<span class="sd">            &gt;&gt;&gt; # 2 of the 11 annots are unknown and should not be exemplars</span>
<span class="sd">            &gt;&gt;&gt; #ut.assert_eq(len(new_aid_list), 9)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">set_exemplars_from_quality_and_viewpoint</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">exemplars_per_view</span><span class="p">,</span> <span class="n">imgsetid</span><span class="p">,</span> <span class="n">dry_run</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_prioritized_name_subset"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_prioritized_name_subset">[docs]</a>    <span class="k">def</span> <span class="nf">get_prioritized_name_subset</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">annots_per_name</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        TODO: this needs to be integrated more cleanly with a nonhacky way of</span>
<span class="sd">        getting a subset of exemplars. Currently ther is duplicate code in guiback</span>
<span class="sd">        and here to use left side only when custom filter is on.</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-get_prioritized_name_subset</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb2&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; annots_per_name = 2</span>
<span class="sd">            &gt;&gt;&gt; aid_subset = get_prioritized_name_subset(ibs, aid_list, annots_per_name)</span>
<span class="sd">            &gt;&gt;&gt; qualtexts = ibs.get_annot_quality_texts(aid_subset)</span>
<span class="sd">            &gt;&gt;&gt; yawtexts = ibs.get_annot_yaw_texts(aid_subset)</span>
<span class="sd">            &gt;&gt;&gt; assert &#39;junk&#39; not in qualtexts</span>
<span class="sd">            &gt;&gt;&gt; assert &#39;right&#39; not in yawtexts</span>
<span class="sd">            &gt;&gt;&gt; result = len(aid_subset)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            28</span>

<span class="sd">        Exeample:</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb2&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ut.compress(aid_list, ibs.is_aid_unknown(aid_list))</span>
<span class="sd">            &gt;&gt;&gt; annots_per_name = 2</span>
<span class="sd">            &gt;&gt;&gt; aid_subset = get_prioritized_name_subset(ibs, aid_list, annots_per_name)</span>
<span class="sd">            &gt;&gt;&gt; qualtexts = ibs.get_annot_quality_texts(aid_list)</span>
<span class="sd">            &gt;&gt;&gt; yawtexts = ibs.get_annot_yaw_texts(aid_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_prioritized_name_subset</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">annots_per_name</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_quality_viewpoint_subset"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_quality_viewpoint_subset">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_quality_viewpoint_subset</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">annots_per_view</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-get_annot_quality_viewpoint_subset --show</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb2&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; annots_per_view = 2</span>
<span class="sd">            &gt;&gt;&gt; new_aid_list, new_flag_list = get_annot_quality_viewpoint_subset(ibs)</span>
<span class="sd">            &gt;&gt;&gt; result = sum(new_flag_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            38</span>

<span class="sd">        Ignore:</span>
<span class="sd">            nids = ibs.get_annot_nids(new_aid_list)</span>
<span class="sd">            uniquenids, groupxs = ut.group_indices(nids)</span>
<span class="sd">            num_hacked = 0</span>
<span class="sd">            grouped_exemplars = ut.apply_grouping(new_flag_list, groupxs)</span>
<span class="sd">            for exflags, idxs in zip(grouped_exemplars, groupxs):</span>
<span class="sd">                if not any(exflags):</span>
<span class="sd">                    num_hacked += 1</span>
<span class="sd">                    new_flag_list[idxs[0]] = True</span>
<span class="sd">            print(&#39;(exemplars) num_hacked = %r&#39; % (num_hacked,))</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_annot_quality_viewpoint_subset</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">annots_per_view</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.report_sightings"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.report_sightings">[docs]</a>    <span class="k">def</span> <span class="nf">report_sightings</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">complete</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">include_images</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">report_sightings</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">complete</span><span class="p">,</span> <span class="n">include_images</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.report_sightings_str"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.report_sightings_str">[docs]</a>    <span class="k">def</span> <span class="nf">report_sightings_str</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">report_sightings_str</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.check_chip_existence"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.check_chip_existence">[docs]</a>    <span class="k">def</span> <span class="nf">check_chip_existence</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">check_chip_existence</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.is_special_imageset"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.is_special_imageset">[docs]</a>    <span class="k">def</span> <span class="nf">is_special_imageset</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">imgsetid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">is_special_imageset</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">imgsetid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_quality_filterflags"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_quality_filterflags">[docs]</a>    <span class="k">def</span> <span class="nf">get_quality_filterflags</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">minqual</span><span class="p">,</span> <span class="n">unknown_ok</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (int):  list of annotation ids</span>
<span class="sd">            minqual (str): qualtext</span>
<span class="sd">            unknown_ok (bool): (default = False)</span>

<span class="sd">        Returns:</span>
<span class="sd">            iter: qual_flags</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-get_quality_filterflags</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()[0:20]</span>
<span class="sd">            &gt;&gt;&gt; minqual = &#39;junk&#39;</span>
<span class="sd">            &gt;&gt;&gt; unknown_ok = False</span>
<span class="sd">            &gt;&gt;&gt; qual_flags = list(get_quality_filterflags(ibs, aid_list, minqual, unknown_ok))</span>
<span class="sd">            &gt;&gt;&gt; result = (&#39;qual_flags = %s&#39; % (str(qual_flags),))</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_quality_filterflags</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">minqual</span><span class="p">,</span> <span class="n">unknown_ok</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_viewpoint_filterflags"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_viewpoint_filterflags">[docs]</a>    <span class="k">def</span> <span class="nf">get_viewpoint_filterflags</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">valid_yaws</span><span class="p">,</span> <span class="n">unknown_ok</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (int):  list of annotation ids</span>
<span class="sd">            valid_yaws (?):</span>
<span class="sd">            unknown_ok (bool): (default = True)</span>

<span class="sd">        Returns:</span>
<span class="sd">            int: aid_list -  list of annotation ids</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-get_viewpoint_filterflags</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-get_viewpoint_filterflags --db NNP_Master3</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()[0:20]</span>
<span class="sd">            &gt;&gt;&gt; valid_yaws = None</span>
<span class="sd">            &gt;&gt;&gt; unknown_ok = False</span>
<span class="sd">            &gt;&gt;&gt; yaw_flags = list(get_viewpoint_filterflags(ibs, aid_list, valid_yaws, unknown_ok))</span>
<span class="sd">            &gt;&gt;&gt; result = (&#39;yaw_flags = %s&#39; % (str(yaw_flags),))</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_viewpoint_filterflags</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">valid_yaws</span><span class="p">,</span> <span class="n">unknown_ok</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_quality_viewpoint_filterflags"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_quality_viewpoint_filterflags">[docs]</a>    <span class="k">def</span> <span class="nf">get_quality_viewpoint_filterflags</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">minqual</span><span class="p">,</span> <span class="n">valid_yaws</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_quality_viewpoint_filterflags</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">minqual</span><span class="p">,</span> <span class="n">valid_yaws</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_custom_filterflags"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_custom_filterflags">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_custom_filterflags</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_annot_custom_filterflags</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.filter_aids_custom"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.filter_aids_custom">[docs]</a>    <span class="k">def</span> <span class="nf">filter_aids_custom</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (int):  list of annotation ids</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: aid_list_</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-filter_aids_custom</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb2&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; aid_list_ = filter_aids_custom(ibs, aid_list)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; result = str(aid_list_)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">filter_aids_custom</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.flag_aids_count"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.flag_aids_count">[docs]</a>    <span class="k">def</span> <span class="nf">flag_aids_count</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (int):  list of annotation ids</span>
<span class="sd">            pre_unixtime_sort (bool):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list:</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-flag_aids_count</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; gzc_flag_list = flag_aids_count(ibs, aid_list)</span>
<span class="sd">            &gt;&gt;&gt; result = gzc_flag_list</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [False, True, False, False, True, False, True, True, False, True, False, True, True]</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">flag_aids_count</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.filter_aids_count"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.filter_aids_count">[docs]</a>    <span class="k">def</span> <span class="nf">filter_aids_count</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">pre_unixtime_sort</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">filter_aids_count</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">pre_unixtime_sort</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.filterflags_unflat_aids_custom"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.filterflags_unflat_aids_custom">[docs]</a>    <span class="k">def</span> <span class="nf">filterflags_unflat_aids_custom</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aids_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">filterflags_unflat_aids_custom</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aids_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.filter_nids_custom"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.filter_nids_custom">[docs]</a>    <span class="k">def</span> <span class="nf">filter_nids_custom</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">nid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">filter_nids_custom</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">nid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.filter_gids_custom"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.filter_gids_custom">[docs]</a>    <span class="k">def</span> <span class="nf">filter_gids_custom</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">filter_gids_custom</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_name_gps_tracks"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_name_gps_tracks">[docs]</a>    <span class="k">def</span> <span class="nf">get_name_gps_tracks</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">nid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">aid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-get_name_gps_tracks</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; #ibs = ibeis.opendb(&#39;PZ_Master0&#39;)</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; #nid_list = ibs.get_valid_nids()</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; nid_list, gps_track_list, aid_track_list = ibs.get_name_gps_tracks(aid_list=aid_list)</span>
<span class="sd">            &gt;&gt;&gt; nonempty_list = list(map(lambda x: len(x) &gt; 0, gps_track_list))</span>
<span class="sd">            &gt;&gt;&gt; ut.compress(nid_list, nonempty_list)</span>
<span class="sd">            &gt;&gt;&gt; ut.compress(gps_track_list, nonempty_list)</span>
<span class="sd">            &gt;&gt;&gt; ut.compress(aid_track_list, nonempty_list)</span>
<span class="sd">            &gt;&gt;&gt; result = str(aid_track_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [[11], [], [4], [1], [2, 3], [5, 6], [7], [8], [10], [12], [13]]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_name_gps_tracks</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">nid_list</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_unflat_annots_kmdists_list"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_unflat_annots_kmdists_list">[docs]</a>    <span class="k">def</span> <span class="nf">get_unflat_annots_kmdists_list</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aids_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_unflat_annots_kmdists_list</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aids_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_unflat_annots_hourdists_list"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_unflat_annots_hourdists_list">[docs]</a>    <span class="k">def</span> <span class="nf">get_unflat_annots_hourdists_list</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aids_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs = testdata_ibs(&#39;NNP_Master3&#39;)</span>
<span class="sd">            &gt;&gt;&gt; nid_list = get_valid_multiton_nids_custom(ibs)</span>
<span class="sd">            &gt;&gt;&gt; aids_list_ = ibs.get_name_aids(nid_list)</span>
<span class="sd">            &gt;&gt;&gt; aids_list = [ibs.filter_aids_custom(aids) for aids in aids_list_]</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_unflat_annots_hourdists_list</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aids_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_unflat_annots_timedelta_list"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_unflat_annots_timedelta_list">[docs]</a>    <span class="k">def</span> <span class="nf">get_unflat_annots_timedelta_list</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aids_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs = testdata_ibs(&#39;NNP_Master3&#39;)</span>
<span class="sd">            &gt;&gt;&gt; nid_list = get_valid_multiton_nids_custom(ibs)</span>
<span class="sd">            &gt;&gt;&gt; aids_list_ = ibs.get_name_aids(nid_list)</span>
<span class="sd">            &gt;&gt;&gt; aids_list = [ibs.filter_aids_custom(aids) for aids in aids_list_]</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_unflat_annots_timedelta_list</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aids_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_unflat_annots_speeds_list"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_unflat_annots_speeds_list">[docs]</a>    <span class="k">def</span> <span class="nf">get_unflat_annots_speeds_list</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aids_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_unflat_annots_speeds_list</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aids_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_name_speeds"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_name_speeds">[docs]</a>    <span class="k">def</span> <span class="nf">get_name_speeds</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">nid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-get_name_speeds</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs = testdata_ibs(&#39;NNP_Master3&#39;)</span>
<span class="sd">            &gt;&gt;&gt; nid_list = get_valid_multiton_nids_custom(ibs)</span>
<span class="sd">            &gt;&gt;&gt; speeds_list = get_name_speeds(ibs, nid_list)</span>
<span class="sd">            &gt;&gt;&gt; result = str(speeds_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_name_speeds</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">nid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_name_hourdiffs"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_name_hourdiffs">[docs]</a>    <span class="k">def</span> <span class="nf">get_name_hourdiffs</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-get_name_hourdiffs</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs = testdata_ibs(&#39;NNP_Master3&#39;)</span>
<span class="sd">            &gt;&gt;&gt; nid_list = ibs.filter_nids_custom(ibs._get_all_known_nids())</span>
<span class="sd">            &gt;&gt;&gt; hourdiffs_list = ibs.get_name_hourdiffs(nid_list)</span>
<span class="sd">            &gt;&gt;&gt; result = hourdiffs_list</span>
<span class="sd">            &gt;&gt;&gt; print(hourdiffs_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_name_hourdiffs</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_name_max_hourdiff"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_name_max_hourdiff">[docs]</a>    <span class="k">def</span> <span class="nf">get_name_max_hourdiff</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_name_max_hourdiff</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_name_max_speed"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_name_max_speed">[docs]</a>    <span class="k">def</span> <span class="nf">get_name_max_speed</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-get_name_max_speed</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs = testdata_ibs(&#39;NNP_Master3&#39;)</span>
<span class="sd">            &gt;&gt;&gt; nid_list = ibs.filter_nids_custom(ibs._get_all_known_nids())</span>
<span class="sd">            &gt;&gt;&gt; maxspeed_list = ibs.get_name_max_speed(nid_list)</span>
<span class="sd">            &gt;&gt;&gt; result = maxspeed_list</span>
<span class="sd">            &gt;&gt;&gt; print(maxspeed_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_name_max_speed</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.make_next_imageset_text"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.make_next_imageset_text">[docs]</a>    <span class="k">def</span> <span class="nf">make_next_imageset_text</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates what the next imageset name would be but does not add it to the database</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-make_next_imageset_text</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; new_imagesettext = make_next_imageset_text(ibs)</span>
<span class="sd">            &gt;&gt;&gt; result = new_imagesettext</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            New ImageSet 0</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">make_next_imageset_text</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.add_next_imageset"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.add_next_imageset">[docs]</a>    <span class="k">def</span> <span class="nf">add_next_imageset</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a new imageset to the database</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">add_next_imageset</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.create_new_imageset_from_images"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.create_new_imageset_from_images">[docs]</a>    <span class="k">def</span> <span class="nf">create_new_imageset_from_images</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="p">,</span> <span class="n">new_imgsetid</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            gid_list (list):</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-create_new_imageset_from_images</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; gid_list = ibs.get_valid_gids()[::2]</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; new_imgsetid = create_new_imageset_from_images(ibs, gid_list)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; result = new_imgsetid</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">create_new_imageset_from_images</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="p">,</span> <span class="n">new_imgsetid</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.new_imagesets_from_images"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.new_imagesets_from_images">[docs]</a>    <span class="k">def</span> <span class="nf">new_imagesets_from_images</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gids_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            gids_list (list):</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">new_imagesets_from_images</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gids_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.create_new_imageset_from_names"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.create_new_imageset_from_names">[docs]</a>    <span class="k">def</span> <span class="nf">create_new_imageset_from_names</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">nid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            nid_list (list):</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-create_new_imageset_from_names</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; nid_list = ibs._get_all_known_nids()[0:2]</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; new_imgsetid = ibs.create_new_imageset_from_names(nid_list)</span>
<span class="sd">            &gt;&gt;&gt; # clean up</span>
<span class="sd">            &gt;&gt;&gt; ibs.delete_imagesets(new_imgsetid)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; result = new_imgsetid</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">create_new_imageset_from_names</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">nid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.prepare_annotgroup_review"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.prepare_annotgroup_review">[docs]</a>    <span class="k">def</span> <span class="nf">prepare_annotgroup_review</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (int):  list of annotation ids</span>

<span class="sd">        Returns:</span>
<span class="sd">            tuple: (src_ag_rowid, dst_ag_rowid) - source and dest annot groups</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --test-prepare_annotgroup_review</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; result = prepare_annotgroup_review(ibs, aid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">prepare_annotgroup_review</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.remove_groundtrue_aids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.remove_groundtrue_aids">[docs]</a>    <span class="k">def</span> <span class="nf">remove_groundtrue_aids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">ref_aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  removes any aids that are known to match &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">remove_groundtrue_aids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">ref_aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.search_annot_notes"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.search_annot_notes">[docs]</a>    <span class="k">def</span> <span class="nf">search_annot_notes</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">aid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;PZ_Master0&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pattern = [&#39;gash&#39;, &#39;injury&#39;, &#39;scar&#39;, &#39;wound&#39;]</span>
<span class="sd">            &gt;&gt;&gt; valid_aid_list = ibs.search_annot_notes(pattern)</span>
<span class="sd">            &gt;&gt;&gt; print(valid_aid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(ibs.get_annot_notes(valid_aid_list))</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">search_annot_notes</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.filter_aids_to_quality"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.filter_aids_to_quality">[docs]</a>    <span class="k">def</span> <span class="nf">filter_aids_to_quality</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">minqual</span><span class="p">,</span> <span class="n">unknown_ok</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">filter_aids_to_quality</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">minqual</span><span class="p">,</span> <span class="n">unknown_ok</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.filter_aids_to_viewpoint"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.filter_aids_to_viewpoint">[docs]</a>    <span class="k">def</span> <span class="nf">filter_aids_to_viewpoint</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">valid_yaws</span><span class="p">,</span> <span class="n">unknown_ok</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Removes aids that do not have a valid yaw</span>

<span class="sd">        TODO: rename to valid_viewpoint because this func uses category labels</span>

<span class="sd">        valid_yaws = [&#39;primary&#39;, &#39;primary1&#39;, &#39;primary-1&#39;]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">filter_aids_to_viewpoint</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">valid_yaws</span><span class="p">,</span> <span class="n">unknown_ok</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.remove_aids_of_viewpoint"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.remove_aids_of_viewpoint">[docs]</a>    <span class="k">def</span> <span class="nf">remove_aids_of_viewpoint</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">invalid_yaws</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Removes aids that do not have a valid yaw</span>

<span class="sd">        TODO; rename to valid_viewpoint because this func uses category labels</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">remove_aids_of_viewpoint</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">invalid_yaws</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.filter_aids_without_name"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.filter_aids_without_name">[docs]</a>    <span class="k">def</span> <span class="nf">filter_aids_without_name</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">invert</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Remove aids without names</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">filter_aids_without_name</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">invert</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.filter_annots_using_minimum_timedelta"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.filter_annots_using_minimum_timedelta">[docs]</a>    <span class="k">def</span> <span class="nf">filter_annots_using_minimum_timedelta</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">min_timedelta</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Uses a dynamic program to find the maximum number of annotations that are</span>
<span class="sd">        above the minimum timedelta requirement.</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (?):</span>
<span class="sd">            min_timedelta (?):</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-filter_annots_using_minimum_timedelta</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-filter_annots_using_minimum_timedelta --db PZ_Master1</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;PZ_MTEST&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.filter_aids_without_timestamps(aid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;Before&#39;)</span>
<span class="sd">            &gt;&gt;&gt; ibs.print_annot_stats(aid_list, min_name_hourdist=True)</span>
<span class="sd">            &gt;&gt;&gt; min_timedelta = 60 * 60 * 24</span>
<span class="sd">            &gt;&gt;&gt; filtered_aids = filter_annots_using_minimum_timedelta(ibs, aid_list, min_timedelta)</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;After&#39;)</span>
<span class="sd">            &gt;&gt;&gt; ibs.print_annot_stats(filtered_aids, min_name_hourdist=True)</span>
<span class="sd">            &gt;&gt;&gt; ut.quit_if_noshow()</span>
<span class="sd">            &gt;&gt;&gt; ibeis.other.dbinfo.hackshow_names(ibs, aid_list)</span>
<span class="sd">            &gt;&gt;&gt; ibeis.other.dbinfo.hackshow_names(ibs, filtered_aids)</span>
<span class="sd">            &gt;&gt;&gt; ut.show_if_requested()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">filter_annots_using_minimum_timedelta</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">min_timedelta</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.filter_aids_without_timestamps"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.filter_aids_without_timestamps">[docs]</a>    <span class="k">def</span> <span class="nf">filter_aids_without_timestamps</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">invert</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Removes aids without timestamps</span>
<span class="sd">        aid_list = ibs.get_valid_aids()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">filter_aids_without_timestamps</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">invert</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.filter_aids_to_species"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.filter_aids_to_species">[docs]</a>    <span class="k">def</span> <span class="nf">filter_aids_to_species</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">species</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (int):  list of annotation ids</span>
<span class="sd">            species (?):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: aid_list_</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-filter_aids_to_species</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; species = ibeis.const.TEST_SPECIES.ZEB_GREVY</span>
<span class="sd">            &gt;&gt;&gt; aid_list_ = filter_aids_to_species(ibs, aid_list, species)</span>
<span class="sd">            &gt;&gt;&gt; result = &#39;aid_list_ = %r&#39; % (aid_list_,)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            aid_list_ = [9, 10]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">filter_aids_to_species</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">species</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.partition_annots_into_singleton_multiton"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.partition_annots_into_singleton_multiton">[docs]</a>    <span class="k">def</span> <span class="nf">partition_annots_into_singleton_multiton</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        aid_list = aid_list_</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">partition_annots_into_singleton_multiton</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.partition_annots_into_corresponding_groups"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.partition_annots_into_corresponding_groups">[docs]</a>    <span class="k">def</span> <span class="nf">partition_annots_into_corresponding_groups</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list1</span><span class="p">,</span> <span class="n">aid_list2</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Used for grouping one-vs-one training pairs and corerspondence filtering</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (ibeis.control.IBEISControl.IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list1 (int):  list of annotation ids</span>
<span class="sd">            aid_list2 (int):  list of annotation ids</span>

<span class="sd">        Returns:</span>
<span class="sd">            tuple: 4 lists of lists. In the first two each list is a list of aids</span>
<span class="sd">                grouped by names and the names correspond with each other. In the</span>
<span class="sd">                last two are the annots that did not correspond with anything in</span>
<span class="sd">                the other list.</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-partition_annots_into_corresponding_groups</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;PZ_MTEST&#39;)</span>
<span class="sd">            &gt;&gt;&gt; grouped_aids = list(map(list, ibs.group_annots_by_name(ibs.get_valid_aids())[0]))</span>
<span class="sd">            &gt;&gt;&gt; grouped_aids = [aids for aids in grouped_aids if len(aids) &gt; 3]</span>
<span class="sd">            &gt;&gt;&gt; # Get some overlapping groups</span>
<span class="sd">            &gt;&gt;&gt; import copy</span>
<span class="sd">            &gt;&gt;&gt; aids_group1 = copy.deepcopy((ut.get_list_column_slice(grouped_aids[0:5], slice(0, 2))))</span>
<span class="sd">            &gt;&gt;&gt; aids_group2 = copy.deepcopy((ut.get_list_column_slice(grouped_aids[2:7], slice(2, None))))</span>
<span class="sd">            &gt;&gt;&gt; # Ensure there is a singleton in each</span>
<span class="sd">            &gt;&gt;&gt; ut.delete_items_by_index(aids_group1[0], [0])</span>
<span class="sd">            &gt;&gt;&gt; ut.delete_items_by_index(aids_group2[-1], [0])</span>
<span class="sd">            &gt;&gt;&gt; aid_list1 = ut.flatten(aids_group1)</span>
<span class="sd">            &gt;&gt;&gt; aid_list2 = ut.flatten(aids_group2)</span>
<span class="sd">            &gt;&gt;&gt; #aid_list1 = [1, 2, 8, 9, 60]</span>
<span class="sd">            &gt;&gt;&gt; #aid_list2 = [3, 7, 20]</span>
<span class="sd">            &gt;&gt;&gt; groups = partition_annots_into_corresponding_groups(ibs, aid_list1, aid_list2)</span>
<span class="sd">            &gt;&gt;&gt; result = ut.list_str(groups, label_list=[&#39;gt_grouped_aids1&#39;, &#39;gt_grouped_aids2&#39;, &#39;gf_grouped_aids1&#39;, &#39;gf_gropued_aids2&#39;])</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            gt_grouped_aids1 = [[10, 11], [17, 18], [22, 23]]</span>
<span class="sd">            gt_grouped_aids2 = [[12, 13, 14, 15], [19, 20, 21], [24, 25, 26]]</span>
<span class="sd">            gf_grouped_aids1 = [[2], [5, 6]]</span>
<span class="sd">            gf_gropued_aids2 = [[29, 30, 31, 32], [49]]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">partition_annots_into_corresponding_groups</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list1</span><span class="p">,</span> <span class="n">aid_list2</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.dans_lists"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.dans_lists">[docs]</a>    <span class="k">def</span> <span class="nf">dans_lists</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">positives</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">negatives</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">dans_lists</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">positives</span><span class="p">,</span> <span class="n">negatives</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_qual_stats"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_qual_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_qual_stats</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_annot_qual_stats</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_yaw_stats"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_yaw_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_yaw_stats</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_annot_yaw_stats</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_intermediate_viewpoint_stats"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_intermediate_viewpoint_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_intermediate_viewpoint_stats</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; aids = available_aids</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_annot_intermediate_viewpoint_stats</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.group_annots_by_name_dict"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.group_annots_by_name_dict">[docs]</a>    <span class="k">def</span> <span class="nf">group_annots_by_name_dict</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aids</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">group_annots_by_name_dict</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aids</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.group_annots_by_prop"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.group_annots_by_prop">[docs]</a>    <span class="k">def</span> <span class="nf">group_annots_by_prop</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">getter_func</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">group_annots_by_prop</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">getter_func</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.group_annots_by_prop_and_name"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.group_annots_by_prop_and_name">[docs]</a>    <span class="k">def</span> <span class="nf">group_annots_by_prop_and_name</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">getter_func</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">group_annots_by_prop_and_name</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">getter_func</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.group_annots_by_multi_prop"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.group_annots_by_multi_prop">[docs]</a>    <span class="k">def</span> <span class="nf">group_annots_by_multi_prop</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">getter_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Performs heirachical grouping of annotations based on properties</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aids (list):  list of annotation rowids</span>
<span class="sd">            getter_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: multiprop2_aids</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-group_annots_by_multi_prop --db PZ_Master1 --props=yaw_texts,name_rowids --keys1 frontleft</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-group_annots_by_multi_prop</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aids = ibs.get_valid_aids(is_known=True)</span>
<span class="sd">            &gt;&gt;&gt; #getter_list = [ibs.get_annot_name_rowids, ibs.get_annot_yaw_texts]</span>
<span class="sd">            &gt;&gt;&gt; props = ut.get_argval(&#39;--props&#39;, type_=list, default=[&#39;yaw_texts&#39;, &#39;name_rowids&#39;])</span>
<span class="sd">            &gt;&gt;&gt; getter_list = [getattr(ibs, &#39;get_annot_&#39; + prop) for prop in props]</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;getter_list = %r&#39; % (getter_list,))</span>
<span class="sd">            &gt;&gt;&gt; #getter_list = [ibs.get_annot_yaw_texts, ibs.get_annot_name_rowids]</span>
<span class="sd">            &gt;&gt;&gt; multiprop2_aids = group_annots_by_multi_prop(ibs, aids, getter_list)</span>
<span class="sd">            &gt;&gt;&gt; get_dict_values = lambda x: list(x.values())</span>
<span class="sd">            &gt;&gt;&gt; # a bit convoluted</span>
<span class="sd">            &gt;&gt;&gt; keys1 = ut.get_argval(&#39;--keys1&#39;, type_=list, default=list(multiprop2_aids.keys()))</span>
<span class="sd">            &gt;&gt;&gt; multiprop2_num_aids = ut.hmap_vals(len, multiprop2_aids)</span>
<span class="sd">            &gt;&gt;&gt; prop2_num_aids = ut.hmap_vals(get_dict_values, multiprop2_num_aids, max_depth=len(props) - 2)</span>
<span class="sd">            &gt;&gt;&gt; #prop2_num_aids_stats = ut.hmap_vals(ut.get_stats, prop2_num_aids)</span>
<span class="sd">            &gt;&gt;&gt; prop2_num_aids_hist = ut.hmap_vals(ut.dict_hist, prop2_num_aids)</span>
<span class="sd">            &gt;&gt;&gt; prop2_num_aids_cumhist = ut.map_dict_vals(ut.dict_hist_cumsum, prop2_num_aids_hist)</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;prop2_num_aids_hist[%s] = %s&#39; % (keys1,  ut.dict_str(ut.dict_subset(prop2_num_aids_hist, keys1))))</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;prop2_num_aids_cumhist[%s] = %s&#39; % (keys1,  ut.dict_str(ut.dict_subset(prop2_num_aids_cumhist, keys1))))</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">group_annots_by_multi_prop</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">getter_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_stats_dict"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_stats_dict">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_stats_dict</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">aids</span><span class="p">,</span>
            <span class="n">prefix</span><span class="o">=</span><span class="s1">u&#39;&#39;</span><span class="p">,</span>
            <span class="n">forceall</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
            <span class="n">old</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  stats for a set of annots</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (ibeis.IBEISController):  ibeis controller object</span>
<span class="sd">            aids (list):  list of annotation rowids</span>
<span class="sd">            prefix (str): (default = &#39;&#39;)</span>

<span class="sd">        Kwargs:</span>
<span class="sd">            hashid, per_name, per_qual, per_vp, per_name_vpedge, per_image, min_name_hourdist</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: aid_stats_dict</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-get_annot_stats_dict</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-get_annot_stats_dict --db PZ_Master1 --per_name_vpedge=True</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-get_annot_stats_dict --db PZ_Master1 --min_name_hourdist=True</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-get_annot_stats_dict --db GZ_ALL --min_name_hourdist=True --all</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-get_annot_stats_dict --db PZ_Master1 --min_name_hourdist=True --all</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-get_annot_stats_dict --db NNP_MasterGIRM_core --min_name_hourdist=True --all</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aids = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; prefix = &#39;&#39;</span>
<span class="sd">            &gt;&gt;&gt; kwkeys = ut.parse_func_kwarg_keys(get_annot_stats_dict)</span>
<span class="sd">            &gt;&gt;&gt; #default = True if ut.get_argflag(&#39;--all&#39;) else None</span>
<span class="sd">            &gt;&gt;&gt; default = None if ut.get_argflag(&#39;--notall&#39;) else True</span>
<span class="sd">            &gt;&gt;&gt; kwargs = ut.argparse_dict(dict(zip(kwkeys, [default] * len(kwkeys))))</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;kwargs = %r&#39; % (kwargs,))</span>
<span class="sd">            &gt;&gt;&gt; aid_stats_dict = get_annot_stats_dict(ibs, aids, prefix, **kwargs)</span>
<span class="sd">            &gt;&gt;&gt; result = (&#39;aid_stats_dict = %s&#39; % (ut.dict_str(aid_stats_dict, strvals=True, nl=True),))</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_annot_stats_dict</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">forceall</span><span class="p">,</span> <span class="n">old</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.print_annot_stats"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.print_annot_stats">[docs]</a>    <span class="k">def</span> <span class="nf">print_annot_stats</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s1">u&#39;&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">print_annot_stats</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aids</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.compare_nested_props"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.compare_nested_props">[docs]</a>    <span class="k">def</span> <span class="nf">compare_nested_props</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">aids1_list</span><span class="p">,</span>
            <span class="n">aids2_list</span><span class="p">,</span>
            <span class="n">getter_func</span><span class="p">,</span>
            <span class="n">cmp_func</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compares properties of query vs database annotations</span>

<span class="sd">        grouped_qaids = aids1_list</span>
<span class="sd">        grouped_groundtruth_list = aids2_list</span>

<span class="sd">        getter_func = ibs.get_annot_yaws</span>
<span class="sd">        cmp_func = vt.ori_distance</span>

<span class="sd">        getter_func = ibs.get_annot_image_unixtimes_asfloat</span>
<span class="sd">        cmp_func = ut.unixtime_hourdiff</span>

<span class="sd">        ExpandNestedComparisions:</span>
<span class="sd">            import itertools</span>
<span class="sd">            list(map(list, itertools.starmap(ut.iprod, zip(aids1_list, aids2_list))))</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aids1_list (list):</span>
<span class="sd">            aids2_list (list):</span>
<span class="sd">            getter_func (?):</span>
<span class="sd">            cmp_func (?):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list of ndarrays:</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-compare_nested_props --show</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;PZ_MTEST&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aids1_list = [ibs.get_valid_aids()[8:11]]</span>
<span class="sd">            &gt;&gt;&gt; aids2_list = [ibs.get_valid_aids()[8:11]]</span>
<span class="sd">            &gt;&gt;&gt; getter_func = ibs.get_annot_image_unixtimes_asfloat</span>
<span class="sd">            &gt;&gt;&gt; cmp_func = ut.unixtime_hourdiff</span>
<span class="sd">            &gt;&gt;&gt; result = compare_nested_props(ibs, aids1_list, aids2_list, getter_func, cmp_func)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            &gt;&gt;&gt; ut.quit_if_noshow()</span>
<span class="sd">            &gt;&gt;&gt; import plottool as pt</span>
<span class="sd">            &gt;&gt;&gt; ut.show_if_requested()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">compare_nested_props</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aids1_list</span><span class="p">,</span> <span class="n">aids2_list</span><span class="p">,</span> <span class="n">getter_func</span><span class="p">,</span> <span class="n">cmp_func</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_per_name_stats"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_per_name_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_per_name_stats</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;   stats about this set of aids &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_annot_per_name_stats</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.print_annotconfig_stats"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.print_annotconfig_stats">[docs]</a>    <span class="k">def</span> <span class="nf">print_annotconfig_stats</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">qaids</span><span class="p">,</span> <span class="n">daids</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        SeeAlso:</span>
<span class="sd">            ibs.get_annotconfig_stats</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">print_annotconfig_stats</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">qaids</span><span class="p">,</span> <span class="n">daids</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annotconfig_stats"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annotconfig_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_annotconfig_stats</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">qaids</span><span class="p">,</span>
            <span class="n">daids</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="n">combined</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets statistics about a query / database set of annotations</span>

<span class="sd">        USEFUL DEVELOPER FUNCTION</span>

<span class="sd">        TODO: this function should return non-string values in dictionaries.</span>
<span class="sd">        The print function should do string conversions</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            qaids (list):  query annotation ids</span>
<span class="sd">            daids (list):  database annotation ids</span>

<span class="sd">        SeeAlso:</span>
<span class="sd">            ibeis.dbinfo.print_qd_info</span>
<span class="sd">            ibs.get_annot_stats_dict</span>
<span class="sd">            ibs.print_annotconfig_stats(qaid_list, daid_list)</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-get_annotconfig_stats --db PZ_MTEST -a default</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-get_annotconfig_stats --db testdb1  -a default</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-get_annotconfig_stats --db PZ_MTEST -a controlled</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-get_annotconfig_stats --db PZ_FlankHack -a default:qaids=allgt</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-get_annotconfig_stats --db PZ_MTEST -a controlled:per_name=2,min_gt=4</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.init import main_helpers</span>
<span class="sd">            &gt;&gt;&gt; kwargs = {&#39;per_enc&#39;: True, &#39;enc_per_name&#39;: True}</span>
<span class="sd">            &gt;&gt;&gt; ibs, qaids, daids = main_helpers.testdata_expanded_aids(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; _ = get_annotconfig_stats(ibs, qaids, daids, **kwargs)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_annotconfig_stats</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">qaids</span><span class="p">,</span> <span class="n">daids</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span> <span class="n">combined</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_dbname_alias"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_dbname_alias">[docs]</a>    <span class="k">def</span> <span class="nf">get_dbname_alias</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        convinience for plots</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_dbname_alias</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.find_unlabeled_name_members"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.find_unlabeled_name_members">[docs]</a>    <span class="k">def</span> <span class="nf">find_unlabeled_name_members</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Find annots where some members of a name have information but others do not.</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-find_unlabeled_name_members --qual</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # SCRIPT</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;PZ_Master1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; defaultdict = dict(ut.parse_func_kwarg_keys(find_unlabeled_name_members, with_vals=True))</span>
<span class="sd">            &gt;&gt;&gt; kwargs = ut.argparse_dict(defaultdict)</span>
<span class="sd">            &gt;&gt;&gt; result = find_unlabeled_name_members(ibs, **kwargs)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">find_unlabeled_name_members</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_pair_lazy_dict"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_pair_lazy_dict">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_pair_lazy_dict</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">qaid</span><span class="p">,</span>
            <span class="n">daid</span><span class="p">,</span>
            <span class="n">qconfig2_</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">dconfig2_</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            qaid (int):  query annotation id</span>
<span class="sd">            daid (?):</span>
<span class="sd">            qconfig2_ (dict): (default = None)</span>
<span class="sd">            dconfig2_ (dict): (default = None)</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-get_annot_pair_lazy_dict</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; qaid, daid = ibs.get_valid_aids()[0:2]</span>
<span class="sd">            &gt;&gt;&gt; qconfig2_ = None</span>
<span class="sd">            &gt;&gt;&gt; dconfig2_ = None</span>
<span class="sd">            &gt;&gt;&gt; result = get_annot_pair_lazy_dict(ibs, qaid, daid, qconfig2_, dconfig2_)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_annot_pair_lazy_dict</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">qaid</span><span class="p">,</span> <span class="n">daid</span><span class="p">,</span> <span class="n">qconfig2_</span><span class="p">,</span> <span class="n">dconfig2_</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_lazy_dict"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_lazy_dict">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_lazy_dict</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid</span><span class="p">,</span> <span class="n">config2_</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (ibeis.IBEISController):  image analysis api</span>
<span class="sd">            aid (int):  annotation id</span>
<span class="sd">            config2_ (dict): (default = None)</span>

<span class="sd">        Returns:</span>
<span class="sd">            ut.LazyDict: metadata</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-get_annot_lazy_dict --show</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid = 1</span>
<span class="sd">            &gt;&gt;&gt; config2_ = None</span>
<span class="sd">            &gt;&gt;&gt; metadata = get_annot_lazy_dict(ibs, aid, config2_)</span>
<span class="sd">            &gt;&gt;&gt; result = (&#39;metadata = %s&#39; % (ut.repr3(metadata),))</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_annot_lazy_dict</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid</span><span class="p">,</span> <span class="n">config2_</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_lazy_dict2"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_lazy_dict2">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_lazy_dict2</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (ibeis.IBEISController):  image analysis api</span>
<span class="sd">            aid (int):  annotation id</span>
<span class="sd">            config (dict): (default = None)</span>

<span class="sd">        Returns:</span>
<span class="sd">            ut.LazyDict: metadata</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.other.ibsfuncs --exec-get_annot_lazy_dict2 --show</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid = 1</span>
<span class="sd">            &gt;&gt;&gt; config = {&#39;dim_size&#39;: 450}</span>
<span class="sd">            &gt;&gt;&gt; metadata = get_annot_lazy_dict2(ibs, aid, config)</span>
<span class="sd">            &gt;&gt;&gt; result = (&#39;metadata = %s&#39; % (ut.repr3(metadata),))</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_annot_lazy_dict2</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.execute_pipeline_test"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.execute_pipeline_test">[docs]</a>    <span class="k">def</span> <span class="nf">execute_pipeline_test</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">qaids</span><span class="p">,</span>
            <span class="n">daids</span><span class="p">,</span>
            <span class="n">pipecfg_name_list</span><span class="o">=</span><span class="p">[</span><span class="s1">u&#39;default&#39;</span><span class="p">]):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">execute_pipeline_test</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">qaids</span><span class="p">,</span> <span class="n">daids</span><span class="p">,</span> <span class="n">pipecfg_name_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_expanded_aids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_expanded_aids">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_expanded_aids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.ibsfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;lynx&#39;)</span>
<span class="sd">            &gt;&gt;&gt; a = [&#39;default:hack_imageset=True&#39;, ]</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.expt import experiment_helpers</span>
<span class="sd">            &gt;&gt;&gt; acfg_list, expanded_aids_list = experiment_helpers.get_annotcfg_list(ibs, [a[0]], use_cache=False)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; filter_kw = dict(been_adjusted=True)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.filter_annots_general(aid_list, filter_kw)</span>
<span class="sd">            &gt;&gt;&gt; qaid_list, daid_list = ibs.get_imageset_expanded_aids()</span>
<span class="sd">            &gt;&gt;&gt; #ibs.query_chips(qaid_list, daid_list)</span>
<span class="sd">            &gt;&gt;&gt; testres = ibs.execute_pipeline_test(qaid_list, daid_list)</span>
<span class="sd">            &gt;&gt;&gt; testres.print_perent_identification_success()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_imageset_expanded_aids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_primary_imageset"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_primary_imageset">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_primary_imageset</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_annot_primary_imageset</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.lookup_annot_vecs_subset"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.lookup_annot_vecs_subset">[docs]</a>    <span class="k">def</span> <span class="nf">lookup_annot_vecs_subset</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">unflat_aids</span><span class="p">,</span>
            <span class="n">unflat_fxs</span><span class="p">,</span>
            <span class="n">annots</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">config2_</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        unflat_aids = naids_list</span>
<span class="sd">        unflat_fxs = nfxs_list</span>
<span class="sd">        annots = data_annots</span>
<span class="sd">        config2_ = data_config2_</span>

<span class="sd">        unflat_aids = cm.filtnorm_aids[0]</span>
<span class="sd">        unflat_fxs  = cm.filtnorm_fxs[0]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">lookup_annot_vecs_subset</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">unflat_aids</span><span class="p">,</span> <span class="n">unflat_fxs</span><span class="p">,</span> <span class="n">annots</span><span class="p">,</span> <span class="n">config2_</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_vecs_subset"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_vecs_subset">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_vecs_subset</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">fxs_list</span><span class="p">,</span> <span class="n">config2_</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_annot_vecs_subset</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">fxs_list</span><span class="p">,</span> <span class="n">config2_</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_fgweights_subset"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_fgweights_subset">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_fgweights_subset</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">fxs_list</span><span class="p">,</span> <span class="n">config2_</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_annot_fgweights_subset</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">fxs_list</span><span class="p">,</span> <span class="n">config2_</span><span class="p">)</span>
</div>
    <span class="k">def</span> <span class="nf">_clean_species</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">_clean_species</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>

<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_encounter_text"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_encounter_text">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_encounter_text</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aids</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Encounter identifier for annotations &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_annot_encounter_text</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aids</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_occurrence_text"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_occurrence_text">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_occurrence_text</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aids</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Occurrence identifier for annotations &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">get_annot_occurrence_text</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aids</span><span class="p">)</span>
</div>
    <span class="k">def</span> <span class="nf">_parse_smart_xml</span><span class="p">(</span><span class="n">back</span><span class="p">,</span> <span class="n">xml_path</span><span class="p">,</span> <span class="n">nTotal</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">_parse_smart_xml</span><span class="p">(</span><span class="n">back</span><span class="p">,</span> <span class="n">xml_path</span><span class="p">,</span> <span class="n">nTotal</span><span class="p">,</span> <span class="n">offset</span><span class="p">)</span>

<div class="viewcode-block" id="ExplicitInjectIBEISController.compute_occurrences_smart"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.compute_occurrences_smart">[docs]</a>    <span class="k">def</span> <span class="nf">compute_occurrences_smart</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="p">,</span> <span class="n">smart_xml_fpath</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to load and process a SMART patrol XML file</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">compute_occurrences_smart</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="p">,</span> <span class="n">smart_xml_fpath</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.temp_group_annot_occurrences"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.temp_group_annot_occurrences">[docs]</a>    <span class="k">def</span> <span class="nf">temp_group_annot_occurrences</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">temp_group_annot_occurrences</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.compute_occurrences"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.compute_occurrences">[docs]</a>    <span class="k">def</span> <span class="nf">compute_occurrences</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clusters ungrouped images into imagesets representing occurrences</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.IBEISControl --test-compute_occurrences</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.IBEISControl import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; ibs.compute_occurrences()</span>
<span class="sd">            &gt;&gt;&gt; ibs.update_special_imagesets()</span>
<span class="sd">            &gt;&gt;&gt; # Now we want to remove some images from a non-special imageset</span>
<span class="sd">            &gt;&gt;&gt; nonspecial_imgsetids = [i for i in ibs.get_valid_imgsetids() if i not in ibs.get_special_imgsetids()]</span>
<span class="sd">            &gt;&gt;&gt; images_to_remove = ibs.get_imageset_gids(nonspecial_imgsetids[0:1])[0][0:1]</span>
<span class="sd">            &gt;&gt;&gt; ibs.unrelate_images_and_imagesets(images_to_remove,nonspecial_imgsetids[0:1] * len(images_to_remove))</span>
<span class="sd">            &gt;&gt;&gt; ibs.update_special_imagesets()</span>
<span class="sd">            &gt;&gt;&gt; ungr_imgsetid = ibs.get_imageset_imgsetids_from_text(const.UNGROUPED_IMAGES_IMAGESETTEXT)</span>
<span class="sd">            &gt;&gt;&gt; ungr_gids = ibs.get_imageset_gids([ungr_imgsetid])[0]</span>
<span class="sd">            &gt;&gt;&gt; #Now let&#39;s make sure that when we recompute imagesets, our non-special imgsetid remains the same</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;PRE COMPUTE: ImageSets are %r&#39; % ibs.get_valid_imgsetids())</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;Containing: %r&#39; % ibs.get_imageset_gids(ibs.get_valid_imgsetids()))</span>
<span class="sd">            &gt;&gt;&gt; ibs.compute_occurrences()</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;COMPUTE: New imagesets are %r&#39; % ibs.get_valid_imgsetids())</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;Containing: %r&#39; % ibs.get_imageset_gids(ibs.get_valid_imgsetids()))</span>
<span class="sd">            &gt;&gt;&gt; ibs.update_special_imagesets()</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;UPDATE SPECIAL: New imagesets are %r&#39; % ibs.get_valid_imgsetids())</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;Containing: %r&#39; % ibs.get_imageset_gids(ibs.get_valid_imgsetids()))</span>
<span class="sd">            &gt;&gt;&gt; assert(images_to_remove[0] not in ibs.get_imageset_gids(nonspecial_imgsetids[0:1])[0])</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">compute_occurrences</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_neuralnet_dir"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_neuralnet_dir">[docs]</a>    <span class="k">def</span> <span class="nf">get_neuralnet_dir</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_plugin</span><span class="o">.</span><span class="n">get_neuralnet_dir</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_verified_aid_pairs"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_verified_aid_pairs">[docs]</a>    <span class="k">def</span> <span class="nf">get_verified_aid_pairs</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis_cnn.train import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;NNP_Master3&#39;)</span>
<span class="sd">            &gt;&gt;&gt; verified_aid1_list, verified_aid2_list = get_verified_aid_pairs(ibs)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_plugin</span><span class="o">.</span><span class="n">get_verified_aid_pairs</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.detect_annot_zebra_background_mask"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.detect_annot_zebra_background_mask">[docs]</a>    <span class="k">def</span> <span class="nf">detect_annot_zebra_background_mask</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">species</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">config2_</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (int):  list of annotation ids</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: mask_list</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_plugin</span><span class="o">.</span><span class="n">detect_annot_zebra_background_mask</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">species</span><span class="p">,</span> <span class="n">config2_</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.detect_annot_whale_fluke_background_mask"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.detect_annot_whale_fluke_background_mask">[docs]</a>    <span class="k">def</span> <span class="nf">detect_annot_whale_fluke_background_mask</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">species</span><span class="o">=</span><span class="s1">u&#39;whale_fluke&#39;</span><span class="p">,</span> <span class="n">config2_</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (int):  list of annotation ids</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: mask_list</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_plugin</span><span class="o">.</span><span class="n">detect_annot_whale_fluke_background_mask</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">species</span><span class="p">,</span> <span class="n">config2_</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.generate_species_background_mask"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.generate_species_background_mask">[docs]</a>    <span class="k">def</span> <span class="nf">generate_species_background_mask</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">chip_fpath_list</span><span class="p">,</span> <span class="n">species</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (int):  list of annotation ids</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: species_viewpoint_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis_cnn._plugin --exec-generate_species_background_mask --show --db PZ_Master1</span>
<span class="sd">            python -m ibeis_cnn --tf generate_species_background_mask --show --db PZ_Master1 --aid 9970</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; import ibeis_cnn</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; from ibeis_cnn._plugin import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ut.get_argval((&#39;--aids&#39;, &#39;--aid&#39;), type_=list, default=ibs.get_valid_aids()[0:10])</span>
<span class="sd">            &gt;&gt;&gt; chip_fpath_list = ibs.get_annot_chip_fpath(aid_list)</span>
<span class="sd">            &gt;&gt;&gt; species = ibs.const.TEST_SPECIES.ZEB_PLAIN</span>
<span class="sd">            &gt;&gt;&gt; mask_list = generate_species_background_mask(ibs, chip_fpath_list, species)</span>
<span class="sd">            &gt;&gt;&gt; ut.quit_if_noshow()</span>
<span class="sd">            &gt;&gt;&gt; import plottool as pt</span>
<span class="sd">            &gt;&gt;&gt; iteract_obj = pt.interact_multi_image.MultiImageInteraction(mask_list, nPerPage=4)</span>
<span class="sd">            &gt;&gt;&gt; #pt.imshow(mask_list[0])</span>
<span class="sd">            &gt;&gt;&gt; ut.show_if_requested()</span>

<span class="sd">            #&gt;&gt;&gt; from ibeis_cnn.draw_results import *  # NOQA</span>
<span class="sd">            #&gt;&gt;&gt; from ibeis_cnn import ingest_data</span>
<span class="sd">            #&gt;&gt;&gt; data, labels = ingest_data.testdata_patchmatch2()</span>
<span class="sd">            #&gt;&gt;&gt; flat_metadata = {&#39;fs&#39;: np.arange(len(labels))}</span>
<span class="sd">            #&gt;&gt;&gt; result = interact_siamsese_data_patches(labels, data, flat_metadata)</span>
<span class="sd">            #&gt;&gt;&gt; ut.show_if_requested()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_plugin</span><span class="o">.</span><span class="n">generate_species_background_mask</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">chip_fpath_list</span><span class="p">,</span> <span class="n">species</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.generate_species_background"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.generate_species_background">[docs]</a>    <span class="k">def</span> <span class="nf">generate_species_background</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">chip_list</span><span class="p">,</span> <span class="n">species</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">nInput</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        TODO: Use this as the primary function</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis_cnn._plugin --exec-generate_species_background --show</span>
<span class="sd">            python -m ibeis_cnn._plugin --exec-generate_species_background --db GZ_Master1 --species=zebra_grevys --save cnn_detect_results_gz.png --diskshow --clipwhite</span>
<span class="sd">            python -m ibeis_cnn._plugin --exec-generate_species_background --db PZ_Master1 --species=zebra_plains --save cnn_detect_results_pz.png --diskshow --clipwhite</span>
<span class="sd">            python -m ibeis_cnn._plugin --exec-generate_species_background --db PZ_Master1 --show</span>
<span class="sd">            python -m ibeis_cnn._plugin --exec-generate_species_background --db GZ_Master1 --show</span>
<span class="sd">            python -m ibeis_cnn._plugin --exec-generate_species_background --db GIRM_Master1 --show --species=giraffe_masai</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; import ibeis_cnn</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; from ibeis_cnn._plugin import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()[0:8]</span>
<span class="sd">            &gt;&gt;&gt; species = ut.get_argval(&#39;--species&#39;, type_=str, default=None)</span>
<span class="sd">            &gt;&gt;&gt; config2_ = None</span>
<span class="sd">            &gt;&gt;&gt; nInput = len(aid_list)</span>
<span class="sd">            &gt;&gt;&gt; chip_iter = ibs.get_annot_chips(aid_list, verbose=True, config2_=config2_, eager=False)</span>
<span class="sd">            &gt;&gt;&gt; mask_iter = generate_species_background(ibs, chip_iter, species=species, nInput=nInput)</span>
<span class="sd">            &gt;&gt;&gt; mask_list = list(mask_iter)</span>
<span class="sd">            &gt;&gt;&gt; ut.quit_if_noshow()</span>
<span class="sd">            &gt;&gt;&gt; import plottool as pt</span>
<span class="sd">            &gt;&gt;&gt; import vtool as vt</span>
<span class="sd">            &gt;&gt;&gt; chip_list = ibs.get_annot_chips(aid_list, verbose=True, config2_=config2_, eager=True)</span>
<span class="sd">            &gt;&gt;&gt; stacked_list = [vt.stack_images(chip, mask)[0] for chip, mask in  zip(chip_list, mask_list)]</span>
<span class="sd">            &gt;&gt;&gt; iteract_obj = pt.interact_multi_image.MultiImageInteraction(stacked_list, nPerPage=4)</span>
<span class="sd">            &gt;&gt;&gt; #hough_cpath = ibs.get_annot_probchip_fpath(aid_list, config2_=config2_)</span>
<span class="sd">            &gt;&gt;&gt; #iteract_obj2 = pt.interact_multi_image.MultiImageInteraction(hough_cpath, nPerPage=4)</span>
<span class="sd">            &gt;&gt;&gt; #pt.imshow(mask_list[0])</span>
<span class="sd">            &gt;&gt;&gt; ut.show_if_requested()</span>

<span class="sd">        Ignore:</span>
<span class="sd">            #&gt;&gt;&gt; from ibeis_cnn.draw_results import *  # NOQA</span>
<span class="sd">            #&gt;&gt;&gt; from ibeis_cnn import ingest_data</span>
<span class="sd">            #&gt;&gt;&gt; data, labels = ingest_data.testdata_patchmatch2()</span>
<span class="sd">            #&gt;&gt;&gt; flat_metadata = {&#39;fs&#39;: np.arange(len(labels))}</span>
<span class="sd">            #&gt;&gt;&gt; result = interact_siamsese_data_patches(labels, data, flat_metadata)</span>
<span class="sd">            #&gt;&gt;&gt; ut.show_if_requested()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_plugin</span><span class="o">.</span><span class="n">generate_species_background</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">chip_list</span><span class="p">,</span> <span class="n">species</span><span class="p">,</span> <span class="n">nInput</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.fix_annot_species_viewpoint_quality_cnn"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.fix_annot_species_viewpoint_quality_cnn">[docs]</a>    <span class="k">def</span> <span class="nf">fix_annot_species_viewpoint_quality_cnn</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">min_conf</span><span class="o">=</span><span class="mf">0.8</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (int):  list of annotation ids</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_plugin</span><span class="o">.</span><span class="n">fix_annot_species_viewpoint_quality_cnn</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">min_conf</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.detect_annot_species_viewpoint_cnn"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.detect_annot_species_viewpoint_cnn">[docs]</a>    <span class="k">def</span> <span class="nf">detect_annot_species_viewpoint_cnn</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (int):  list of annotation ids</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: species_viewpoint_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis_cnn._plugin --exec-detect_annot_species_viewpoint_cnn</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis_cnn._plugin import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; species_viewpoint_list = detect_annot_species_viewpoint_cnn(ibs, aid_list)</span>
<span class="sd">            &gt;&gt;&gt; result = (&#39;species_viewpoint_list = %s&#39; % (str(species_viewpoint_list),))</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_plugin</span><span class="o">.</span><span class="n">detect_annot_species_viewpoint_cnn</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.validate_annot_species_viewpoint_cnn"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.validate_annot_species_viewpoint_cnn">[docs]</a>    <span class="k">def</span> <span class="nf">validate_annot_species_viewpoint_cnn</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (int):  list of annotation ids</span>
<span class="sd">            verbose (bool):  verbosity flag(default = False)</span>

<span class="sd">        Returns:</span>
<span class="sd">            tuple: (bad_species_list, bad_viewpoint_list)</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis_cnn._plugin --exec-validate_annot_species_viewpoint_cnn --db PZ_FlankHack</span>
<span class="sd">            python -m ibeis_cnn._plugin --exec-validate_annot_species_viewpoint_cnn --db GZ_Master1</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis_cnn._plugin import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; verbose = False</span>
<span class="sd">            &gt;&gt;&gt; (bad_species_list, bad_viewpoint_list) = validate_annot_species_viewpoint_cnn(ibs, aid_list, verbose)</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;bad_species_list = %s&#39; % (bad_species_list,))</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;bad_species_list = %s&#39; % (bad_viewpoint_list,))</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>

<span class="sd">         Ignore:</span>
<span class="sd">            bad_viewpoint_list_ = [item for item in bad_viewpoint_list if item[2] is not None and item[0] &gt; 1200]</span>
<span class="sd">            grouped_dict = ut.group_items(bad_viewpoint_list, ut.get_list_column(bad_viewpoint_list_, 3))</span>
<span class="sd">            grouped_list = grouped_dict.values()</span>
<span class="sd">            regrouped_items = ut.flatten(ut.sortedby(grouped_list, map(len, grouped_list)))</span>
<span class="sd">            candidate_aid_list = ut.get_list_column(regrouped_items, 0)</span>
<span class="sd">            print(&#39;candidate_aid_list = %r&#39; % (candidate_aid_list,))</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_plugin</span><span class="o">.</span><span class="n">validate_annot_species_viewpoint_cnn</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.detect_yolo"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.detect_yolo">[docs]</a>    <span class="k">def</span> <span class="nf">detect_yolo</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            gid_list (int):  list of image ids</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: aid_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis_cnn._plugin --exec-detect_yolo</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis_cnn._plugin import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;PZ_MTEST&#39;)</span>
<span class="sd">            &gt;&gt;&gt; gid_list = ibs.get_valid_gids()</span>
<span class="sd">            &gt;&gt;&gt; aid_list = detect_yolo(ibs, gid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(aid_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_plugin</span><span class="o">.</span><span class="n">detect_yolo</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.detect_image_cnn"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.detect_image_cnn">[docs]</a>    <span class="k">def</span> <span class="nf">detect_image_cnn</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid</span><span class="p">,</span> <span class="n">confidence</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">extraction</span><span class="o">=</span><span class="s1">u&#39;bing&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            gid (?):</span>
<span class="sd">            confidence (float): (default = 0.9)</span>
<span class="sd">            extraction (str): (default = &#39;bing&#39;)</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis_cnn._plugin --exec-detect_image_cnn</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis_cnn._plugin import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; from ibeis_cnn._plugin import _suggest_random_candidate_regions, _suggest_bing_candidate_regions  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; gid = 1</span>
<span class="sd">            &gt;&gt;&gt; confidence = 0.9</span>
<span class="sd">            &gt;&gt;&gt; extraction = &#39;bing&#39;</span>
<span class="sd">            &gt;&gt;&gt; result = detect_image_cnn(ibs, gid, confidence, extraction)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_plugin</span><span class="o">.</span><span class="n">detect_image_cnn</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid</span><span class="p">,</span> <span class="n">confidence</span><span class="p">,</span> <span class="n">extraction</span><span class="p">)</span>
</div>
    <span class="k">def</span> <span class="nf">_get_all_annotmatch_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  all_annotmatch_rowids &lt;- annotmatch.get_all_rowids()</span>

<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): unfiltered annotmatch_rowids</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tider_all_rowids</span>
<span class="sd">            tbl = annotmatch</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control._autogen_annotmatch_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_annotmatch()</span>
<span class="sd">            &gt;&gt;&gt; ibs._get_all_annotmatch_rowids()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_autogen_annotmatch_funcs</span><span class="o">.</span><span class="n">_get_all_annotmatch_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>

<div class="viewcode-block" id="ExplicitInjectIBEISController.add_annotmatch"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.add_annotmatch">[docs]</a>    <span class="k">def</span> <span class="nf">add_annotmatch</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">aid1_list</span><span class="p">,</span>
            <span class="n">aid2_list</span><span class="p">,</span>
            <span class="n">annotmatch_truth_list</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">annotmatch_confidence_list</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">annotmatch_tag_text_list</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">annotmatch_reviewed_list</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">annotmatch_reviewer_list</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">annotmatch_posixtime_modified_list</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">annotmatch_pairwise_prob_list</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">config_hashid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            returns annotmatch_rowid_list of added (or already existing annotmatchs)</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tadder_native</span>
<span class="sd">            tbl = annotmatch</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_autogen_annotmatch_funcs</span><span class="o">.</span><span class="n">add_annotmatch</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">aid1_list</span><span class="p">,</span>
            <span class="n">aid2_list</span><span class="p">,</span>
            <span class="n">annotmatch_truth_list</span><span class="p">,</span>
            <span class="n">annotmatch_confidence_list</span><span class="p">,</span>
            <span class="n">annotmatch_tag_text_list</span><span class="p">,</span>
            <span class="n">annotmatch_reviewed_list</span><span class="p">,</span>
            <span class="n">annotmatch_reviewer_list</span><span class="p">,</span>
            <span class="n">annotmatch_posixtime_modified_list</span><span class="p">,</span>
            <span class="n">annotmatch_pairwise_prob_list</span><span class="p">,</span>
            <span class="n">config_hashid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_annotmatch"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_annotmatch">[docs]</a>    <span class="k">def</span> <span class="nf">delete_annotmatch</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">annotmatch_rowid_list</span><span class="p">,</span> <span class="n">config2_</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  annotmatch.delete(annotmatch_rowid_list)</span>

<span class="sd">        delete annotmatch rows</span>

<span class="sd">        Args:</span>
<span class="sd">            annotmatch_rowid_list</span>

<span class="sd">        Returns:</span>
<span class="sd">            int: num_deleted</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tdeleter_native_tbl</span>
<span class="sd">            tbl = annotmatch</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control._autogen_annotmatch_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_annotmatch()</span>
<span class="sd">            &gt;&gt;&gt; annotmatch_rowid_list = ibs._get_all_annotmatch_rowids()[:2]</span>
<span class="sd">            &gt;&gt;&gt; num_deleted = ibs.delete_annotmatch(annotmatch_rowid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;num_deleted = %r&#39; % (num_deleted,))</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_autogen_annotmatch_funcs</span><span class="o">.</span><span class="n">delete_annotmatch</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">annotmatch_rowid_list</span><span class="p">,</span> <span class="n">config2_</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annotmatch_aid1"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annotmatch_aid1">[docs]</a>    <span class="k">def</span> <span class="nf">get_annotmatch_aid1</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  aid1_list &lt;- annotmatch.aid1[annotmatch_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;aid1&quot; in the &quot;annotmatch&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            annotmatch_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: aid1_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = aid1</span>
<span class="sd">            tbl = annotmatch</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control._autogen_annotmatch_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_annotmatch()</span>
<span class="sd">            &gt;&gt;&gt; annotmatch_rowid_list = ibs._get_all_annotmatch_rowids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; aid1_list = ibs.get_annotmatch_aid1(annotmatch_rowid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; assert len(annotmatch_rowid_list) == len(aid1_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_autogen_annotmatch_funcs</span><span class="o">.</span><span class="n">get_annotmatch_aid1</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annotmatch_aid2"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annotmatch_aid2">[docs]</a>    <span class="k">def</span> <span class="nf">get_annotmatch_aid2</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  aid2_list &lt;- annotmatch.aid2[annotmatch_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;aid2&quot; in the &quot;annotmatch&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            annotmatch_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: aid2_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = aid2</span>
<span class="sd">            tbl = annotmatch</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control._autogen_annotmatch_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_annotmatch()</span>
<span class="sd">            &gt;&gt;&gt; annotmatch_rowid_list = ibs._get_all_annotmatch_rowids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; aid2_list = ibs.get_annotmatch_aid2(annotmatch_rowid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; assert len(annotmatch_rowid_list) == len(aid2_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_autogen_annotmatch_funcs</span><span class="o">.</span><span class="n">get_annotmatch_aid2</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annotmatch_confidence"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annotmatch_confidence">[docs]</a>    <span class="k">def</span> <span class="nf">get_annotmatch_confidence</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  annotmatch_confidence_list &lt;- annotmatch.annotmatch_confidence[annotmatch_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;annotmatch_confidence&quot; in the &quot;annotmatch&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            annotmatch_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: annotmatch_confidence_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = annotmatch_confidence</span>
<span class="sd">            tbl = annotmatch</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control._autogen_annotmatch_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_annotmatch()</span>
<span class="sd">            &gt;&gt;&gt; annotmatch_rowid_list = ibs._get_all_annotmatch_rowids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; annotmatch_confidence_list = ibs.get_annotmatch_confidence(annotmatch_rowid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; assert len(annotmatch_rowid_list) == len(annotmatch_confidence_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_autogen_annotmatch_funcs</span><span class="o">.</span><span class="n">get_annotmatch_confidence</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annotmatch_config_hashid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annotmatch_config_hashid">[docs]</a>    <span class="k">def</span> <span class="nf">get_annotmatch_config_hashid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  config_hashid_list &lt;- annotmatch.config_hashid[annotmatch_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;config_hashid&quot; in the &quot;annotmatch&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            annotmatch_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: config_hashid_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = config_hashid</span>
<span class="sd">            tbl = annotmatch</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control._autogen_annotmatch_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_annotmatch()</span>
<span class="sd">            &gt;&gt;&gt; annotmatch_rowid_list = ibs._get_all_annotmatch_rowids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; config_hashid_list = ibs.get_annotmatch_config_hashid(annotmatch_rowid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; assert len(annotmatch_rowid_list) == len(config_hashid_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_autogen_annotmatch_funcs</span><span class="o">.</span><span class="n">get_annotmatch_config_hashid</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annotmatch_pairwise_prob"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annotmatch_pairwise_prob">[docs]</a>    <span class="k">def</span> <span class="nf">get_annotmatch_pairwise_prob</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  annotmatch_pairwise_prob_list &lt;- annotmatch.annotmatch_pairwise_prob[annotmatch_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;annotmatch_pairwise_prob&quot; in the &quot;annotmatch&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            annotmatch_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: annotmatch_pairwise_prob_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = annotmatch_pairwise_prob</span>
<span class="sd">            tbl = annotmatch</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control._autogen_annotmatch_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_annotmatch()</span>
<span class="sd">            &gt;&gt;&gt; annotmatch_rowid_list = ibs._get_all_annotmatch_rowids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; annotmatch_pairwise_prob_list = ibs.get_annotmatch_pairwise_prob(annotmatch_rowid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; assert len(annotmatch_rowid_list) == len(annotmatch_pairwise_prob_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_autogen_annotmatch_funcs</span><span class="o">.</span><span class="n">get_annotmatch_pairwise_prob</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annotmatch_posixtime_modified"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annotmatch_posixtime_modified">[docs]</a>    <span class="k">def</span> <span class="nf">get_annotmatch_posixtime_modified</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  annotmatch_posixtime_modified_list &lt;- annotmatch.annotmatch_posixtime_modified[annotmatch_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;annotmatch_posixtime_modified&quot; in the &quot;annotmatch&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            annotmatch_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: annotmatch_posixtime_modified_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = annotmatch_posixtime_modified</span>
<span class="sd">            tbl = annotmatch</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control._autogen_annotmatch_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_annotmatch()</span>
<span class="sd">            &gt;&gt;&gt; annotmatch_rowid_list = ibs._get_all_annotmatch_rowids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; annotmatch_posixtime_modified_list = ibs.get_annotmatch_posixtime_modified(annotmatch_rowid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; assert len(annotmatch_rowid_list) == len(annotmatch_posixtime_modified_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_autogen_annotmatch_funcs</span><span class="o">.</span><span class="n">get_annotmatch_posixtime_modified</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annotmatch_reviewed"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annotmatch_reviewed">[docs]</a>    <span class="k">def</span> <span class="nf">get_annotmatch_reviewed</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  annotmatch_reviewed_list &lt;- annotmatch.annotmatch_reviewed[annotmatch_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;annotmatch_reviewed&quot; in the &quot;annotmatch&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            annotmatch_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: annotmatch_reviewed_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = annotmatch_reviewed</span>
<span class="sd">            tbl = annotmatch</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control._autogen_annotmatch_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_annotmatch()</span>
<span class="sd">            &gt;&gt;&gt; annotmatch_rowid_list = ibs._get_all_annotmatch_rowids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; annotmatch_reviewed_list = ibs.get_annotmatch_reviewed(annotmatch_rowid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; assert len(annotmatch_rowid_list) == len(annotmatch_reviewed_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_autogen_annotmatch_funcs</span><span class="o">.</span><span class="n">get_annotmatch_reviewed</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annotmatch_reviewer"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annotmatch_reviewer">[docs]</a>    <span class="k">def</span> <span class="nf">get_annotmatch_reviewer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  annotmatch_reviewer_list &lt;- annotmatch.annotmatch_reviewer[annotmatch_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;annotmatch_reviewer&quot; in the &quot;annotmatch&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            annotmatch_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: annotmatch_reviewer_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = annotmatch_reviewer</span>
<span class="sd">            tbl = annotmatch</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control._autogen_annotmatch_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_annotmatch()</span>
<span class="sd">            &gt;&gt;&gt; annotmatch_rowid_list = ibs._get_all_annotmatch_rowids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; annotmatch_reviewer_list = ibs.get_annotmatch_reviewer(annotmatch_rowid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; assert len(annotmatch_rowid_list) == len(annotmatch_reviewer_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_autogen_annotmatch_funcs</span><span class="o">.</span><span class="n">get_annotmatch_reviewer</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annotmatch_rowid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annotmatch_rowid">[docs]</a>    <span class="k">def</span> <span class="nf">get_annotmatch_rowid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  annotmatch_rowid_list &lt;- annotmatch.annotmatch_rowid[annotmatch_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;annotmatch_rowid&quot; in the &quot;annotmatch&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            annotmatch_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: annotmatch_rowid_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = annotmatch_rowid</span>
<span class="sd">            tbl = annotmatch</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control._autogen_annotmatch_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_annotmatch()</span>
<span class="sd">            &gt;&gt;&gt; annotmatch_rowid_list = ibs._get_all_annotmatch_rowids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; annotmatch_rowid_list = ibs.get_annotmatch_rowid(annotmatch_rowid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; assert len(annotmatch_rowid_list) == len(annotmatch_rowid_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_autogen_annotmatch_funcs</span><span class="o">.</span><span class="n">get_annotmatch_rowid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annotmatch_rowid_from_superkey"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annotmatch_rowid_from_superkey">[docs]</a>    <span class="k">def</span> <span class="nf">get_annotmatch_rowid_from_superkey</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid1_list</span><span class="p">,</span> <span class="n">aid2_list</span><span class="p">,</span> <span class="n">eager</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nInput</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  annotmatch_rowid_list &lt;- annotmatch[aid1_list, aid2_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            superkey lists: aid1_list, aid2_list</span>

<span class="sd">        Returns:</span>
<span class="sd">            annotmatch_rowid_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_native_rowid_from_superkey</span>
<span class="sd">            tbl = annotmatch</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_autogen_annotmatch_funcs</span><span class="o">.</span><span class="n">get_annotmatch_rowid_from_superkey</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid1_list</span><span class="p">,</span> <span class="n">aid2_list</span><span class="p">,</span> <span class="n">eager</span><span class="p">,</span> <span class="n">nInput</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annotmatch_tag_text"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annotmatch_tag_text">[docs]</a>    <span class="k">def</span> <span class="nf">get_annotmatch_tag_text</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  annotmatch_tag_text_list &lt;- annotmatch.annotmatch_tag_text[annotmatch_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;annotmatch_tag_text&quot; in the &quot;annotmatch&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            annotmatch_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: annotmatch_tag_text_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = annotmatch_tag_text</span>
<span class="sd">            tbl = annotmatch</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control._autogen_annotmatch_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_annotmatch()</span>
<span class="sd">            &gt;&gt;&gt; annotmatch_rowid_list = ibs._get_all_annotmatch_rowids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; annotmatch_tag_text_list = ibs.get_annotmatch_tag_text(annotmatch_rowid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; assert len(annotmatch_rowid_list) == len(annotmatch_tag_text_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_autogen_annotmatch_funcs</span><span class="o">.</span><span class="n">get_annotmatch_tag_text</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annotmatch_truth"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annotmatch_truth">[docs]</a>    <span class="k">def</span> <span class="nf">get_annotmatch_truth</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  annotmatch_truth_list &lt;- annotmatch.annotmatch_truth[annotmatch_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;annotmatch_truth&quot; in the &quot;annotmatch&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            annotmatch_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: annotmatch_truth_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = annotmatch_truth</span>
<span class="sd">            tbl = annotmatch</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control._autogen_annotmatch_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_annotmatch()</span>
<span class="sd">            &gt;&gt;&gt; annotmatch_rowid_list = ibs._get_all_annotmatch_rowids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; annotmatch_truth_list = ibs.get_annotmatch_truth(annotmatch_rowid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; assert len(annotmatch_rowid_list) == len(annotmatch_truth_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_autogen_annotmatch_funcs</span><span class="o">.</span><span class="n">get_annotmatch_truth</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annotmatch_confidence"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annotmatch_confidence">[docs]</a>    <span class="k">def</span> <span class="nf">set_annotmatch_confidence</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  annotmatch_confidence_list -&gt; annotmatch.annotmatch_confidence[annotmatch_rowid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            annotmatch_rowid_list</span>
<span class="sd">            annotmatch_confidence_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tsetter_native_column</span>
<span class="sd">            tbl = annotmatch</span>
<span class="sd">            col = annotmatch_confidence</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_autogen_annotmatch_funcs</span><span class="o">.</span><span class="n">set_annotmatch_confidence</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annotmatch_config_hashid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annotmatch_config_hashid">[docs]</a>    <span class="k">def</span> <span class="nf">set_annotmatch_config_hashid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  config_hashid_list -&gt; annotmatch.config_hashid[annotmatch_rowid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            annotmatch_rowid_list</span>
<span class="sd">            config_hashid_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tsetter_native_column</span>
<span class="sd">            tbl = annotmatch</span>
<span class="sd">            col = config_hashid</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_autogen_annotmatch_funcs</span><span class="o">.</span><span class="n">set_annotmatch_config_hashid</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annotmatch_pairwise_prob"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annotmatch_pairwise_prob">[docs]</a>    <span class="k">def</span> <span class="nf">set_annotmatch_pairwise_prob</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  annotmatch_pairwise_prob_list -&gt; annotmatch.annotmatch_pairwise_prob[annotmatch_rowid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            annotmatch_rowid_list</span>
<span class="sd">            annotmatch_pairwise_prob_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tsetter_native_column</span>
<span class="sd">            tbl = annotmatch</span>
<span class="sd">            col = annotmatch_pairwise_prob</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_autogen_annotmatch_funcs</span><span class="o">.</span><span class="n">set_annotmatch_pairwise_prob</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annotmatch_posixtime_modified"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annotmatch_posixtime_modified">[docs]</a>    <span class="k">def</span> <span class="nf">set_annotmatch_posixtime_modified</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  annotmatch_posixtime_modified_list -&gt; annotmatch.annotmatch_posixtime_modified[annotmatch_rowid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            annotmatch_rowid_list</span>
<span class="sd">            annotmatch_posixtime_modified_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tsetter_native_column</span>
<span class="sd">            tbl = annotmatch</span>
<span class="sd">            col = annotmatch_posixtime_modified</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_autogen_annotmatch_funcs</span><span class="o">.</span><span class="n">set_annotmatch_posixtime_modified</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annotmatch_reviewed"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annotmatch_reviewed">[docs]</a>    <span class="k">def</span> <span class="nf">set_annotmatch_reviewed</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  annotmatch_reviewed_list -&gt; annotmatch.annotmatch_reviewed[annotmatch_rowid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            annotmatch_rowid_list</span>
<span class="sd">            annotmatch_reviewed_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tsetter_native_column</span>
<span class="sd">            tbl = annotmatch</span>
<span class="sd">            col = annotmatch_reviewed</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_autogen_annotmatch_funcs</span><span class="o">.</span><span class="n">set_annotmatch_reviewed</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annotmatch_reviewer"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annotmatch_reviewer">[docs]</a>    <span class="k">def</span> <span class="nf">set_annotmatch_reviewer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  annotmatch_reviewer_list -&gt; annotmatch.annotmatch_reviewer[annotmatch_rowid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            annotmatch_rowid_list</span>
<span class="sd">            annotmatch_reviewer_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tsetter_native_column</span>
<span class="sd">            tbl = annotmatch</span>
<span class="sd">            col = annotmatch_reviewer</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_autogen_annotmatch_funcs</span><span class="o">.</span><span class="n">set_annotmatch_reviewer</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annotmatch_tag_text"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annotmatch_tag_text">[docs]</a>    <span class="k">def</span> <span class="nf">set_annotmatch_tag_text</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  annotmatch_tag_text_list -&gt; annotmatch.annotmatch_tag_text[annotmatch_rowid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            annotmatch_rowid_list</span>
<span class="sd">            annotmatch_tag_text_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tsetter_native_column</span>
<span class="sd">            tbl = annotmatch</span>
<span class="sd">            col = annotmatch_tag_text</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_autogen_annotmatch_funcs</span><span class="o">.</span><span class="n">set_annotmatch_tag_text</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annotmatch_truth"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annotmatch_truth">[docs]</a>    <span class="k">def</span> <span class="nf">set_annotmatch_truth</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  annotmatch_truth_list -&gt; annotmatch.annotmatch_truth[annotmatch_rowid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            annotmatch_rowid_list</span>
<span class="sd">            annotmatch_truth_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tsetter_native_column</span>
<span class="sd">            tbl = annotmatch</span>
<span class="sd">            col = annotmatch_truth</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_autogen_annotmatch_funcs</span><span class="o">.</span><span class="n">set_annotmatch_truth</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.export_to_xml"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.export_to_xml">[docs]</a>    <span class="k">def</span> <span class="nf">export_to_xml</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">offset</span><span class="o">=</span><span class="s1">u&#39;auto&#39;</span><span class="p">,</span>
            <span class="n">enforce_yaw</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
            <span class="n">target_size</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>
            <span class="n">purge</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">detectfuncs</span><span class="o">.</span><span class="n">export_to_xml</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="n">enforce_yaw</span><span class="p">,</span> <span class="n">target_size</span><span class="p">,</span> <span class="n">purge</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.imageset_train_test_split"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.imageset_train_test_split">[docs]</a>    <span class="k">def</span> <span class="nf">imageset_train_test_split</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">train_split</span><span class="o">=</span><span class="mf">0.8</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">detectfuncs</span><span class="o">.</span><span class="n">imageset_train_test_split</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">train_split</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.detect_distributions"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.detect_distributions">[docs]</a>    <span class="k">def</span> <span class="nf">detect_distributions</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">detectfuncs</span><span class="o">.</span><span class="n">detect_distributions</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.detect_precision_recall_algo_display"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.detect_precision_recall_algo_display">[docs]</a>    <span class="k">def</span> <span class="nf">detect_precision_recall_algo_display</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">min_overlap</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">detectfuncs</span><span class="o">.</span><span class="n">detect_precision_recall_algo_display</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">min_overlap</span><span class="p">,</span> <span class="n">figsize</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.classifier_precision_recall_algo"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.classifier_precision_recall_algo">[docs]</a>    <span class="k">def</span> <span class="nf">classifier_precision_recall_algo</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">detectfuncs</span><span class="o">.</span><span class="n">classifier_precision_recall_algo</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.classifier_precision_recall_algo_display"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.classifier_precision_recall_algo_display">[docs]</a>    <span class="k">def</span> <span class="nf">classifier_precision_recall_algo_display</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">21</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">detectfuncs</span><span class="o">.</span><span class="n">classifier_precision_recall_algo_display</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">figsize</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.detect_precision_recall_algo_display_animate"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.detect_precision_recall_algo_display_animate">[docs]</a>    <span class="k">def</span> <span class="nf">detect_precision_recall_algo_display_animate</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">detectfuncs</span><span class="o">.</span><span class="n">detect_precision_recall_algo_display_animate</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.detect_write_detection_all"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.detect_write_detection_all">[docs]</a>    <span class="k">def</span> <span class="nf">detect_write_detection_all</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">detectfuncs</span><span class="o">.</span><span class="n">detect_write_detection_all</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.redownload_detection_models"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.redownload_detection_models">[docs]</a>    <span class="k">def</span> <span class="nf">redownload_detection_models</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -c &quot;from ibeis.algo.detect import grabmodels; grabmodels.redownload_models()&quot;</span>
<span class="sd">            python -c &quot;import utool, ibeis.algo; utool.view_directory(ibeis.algo.detect.grabmodels._expand_modeldir())&quot;</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.other.detectfuncs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; result = redownload_detection_models(ibs)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">detectfuncs</span><span class="o">.</span><span class="n">redownload_detection_models</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.view_model_dir"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.view_model_dir">[docs]</a>    <span class="k">def</span> <span class="nf">view_model_dir</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">detectfuncs</span><span class="o">.</span><span class="n">view_model_dir</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.fix_horizontal_bounding_boxes_to_orient"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.fix_horizontal_bounding_boxes_to_orient">[docs]</a>    <span class="k">def</span> <span class="nf">fix_horizontal_bounding_boxes_to_orient</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid</span><span class="p">,</span> <span class="n">bbox_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">detectfuncs</span><span class="o">.</span><span class="n">fix_horizontal_bounding_boxes_to_orient</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">gid</span><span class="p">,</span> <span class="n">bbox_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_recognition_query_aids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_recognition_query_aids">[docs]</a>    <span class="k">def</span> <span class="nf">get_recognition_query_aids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">is_known</span><span class="p">,</span> <span class="n">species</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        DEPCIRATE</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/query/recognition_query_aids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">apis_query</span><span class="o">.</span><span class="n">get_recognition_query_aids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">is_known</span><span class="p">,</span> <span class="n">species</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.query_chips_simple_dict"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.query_chips_simple_dict">[docs]</a>    <span class="k">def</span> <span class="nf">query_chips_simple_dict</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Runs query_chips, but returns a json compatible dictionary</span>

<span class="sd">        Args:</span>
<span class="sd">            same as query_chips</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/query/chips/simple_dict/</span>

<span class="sd">        SeeAlso:</span>
<span class="sd">            query_chips</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.web.apis_query --test-query_chips_simple_dict:0</span>
<span class="sd">            python -m ibeis.web.apis_query --test-query_chips_simple_dict:1</span>

<span class="sd">            python -m ibeis.web.apis_query --test-query_chips_simple_dict:0 --humpbacks</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # WEB_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.IBEISControl import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; #qaid = ibs.get_valid_aids()[0:3]</span>
<span class="sd">            &gt;&gt;&gt; qaids = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; daids = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; dict_list = ibs.query_chips_simple_dict(qaids, daids)</span>
<span class="sd">            &gt;&gt;&gt; qgids = ibs.get_annot_image_rowids(qaids)</span>
<span class="sd">            &gt;&gt;&gt; qnids = ibs.get_annot_name_rowids(qaids)</span>
<span class="sd">            &gt;&gt;&gt; for dict_, qgid, qnid in zip(dict_list, qgids, qnids):</span>
<span class="sd">            &gt;&gt;&gt;     dict_[&#39;qgid&#39;] = qgid</span>
<span class="sd">            &gt;&gt;&gt;     dict_[&#39;qnid&#39;] = qnid</span>
<span class="sd">            &gt;&gt;&gt;     dict_[&#39;dgid_list&#39;] = ibs.get_annot_image_rowids(dict_[&#39;daid_list&#39;])</span>
<span class="sd">            &gt;&gt;&gt;     dict_[&#39;dnid_list&#39;] = ibs.get_annot_name_rowids(dict_[&#39;daid_list&#39;])</span>
<span class="sd">            &gt;&gt;&gt;     dict_[&#39;dgname_list&#39;] = ibs.get_image_gnames(dict_[&#39;dgid_list&#39;])</span>
<span class="sd">            &gt;&gt;&gt;     dict_[&#39;qgname&#39;] = ibs.get_image_gnames(dict_[&#39;qgid&#39;])</span>
<span class="sd">            &gt;&gt;&gt; result  = ut.list_str(dict_list, nl=2, precision=2, hack_liststr=True)</span>
<span class="sd">            &gt;&gt;&gt; result = result.replace(&#39;u\&#39;&#39;, &#39;&quot;&#39;).replace(&#39;\&#39;&#39;, &#39;&quot;&#39;)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # WEB_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.IBEISControl import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import time</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; import requests</span>
<span class="sd">            &gt;&gt;&gt; # Start up the web instance</span>
<span class="sd">            &gt;&gt;&gt; web_instance = ibeis.opendb_in_background(db=&#39;testdb1&#39;, web=True, browser=False)</span>
<span class="sd">            &gt;&gt;&gt; time.sleep(.5)</span>
<span class="sd">            &gt;&gt;&gt; baseurl = &#39;http://127.0.1.1:5000&#39;</span>
<span class="sd">            &gt;&gt;&gt; data = dict(qaid_list=[1])</span>
<span class="sd">            &gt;&gt;&gt; resp = requests.get(baseurl + &#39;/api/query/chips/simple_dict/&#39;, data=data)</span>
<span class="sd">            &gt;&gt;&gt; print(resp)</span>
<span class="sd">            &gt;&gt;&gt; web_instance.terminate()</span>
<span class="sd">            &gt;&gt;&gt; json_dict = resp.json()</span>
<span class="sd">            &gt;&gt;&gt; cmdict_list = json_dict[&#39;response&#39;]</span>
<span class="sd">            &gt;&gt;&gt; assert &#39;score_list&#39; in cmdict_list[0]</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">apis_query</span><span class="o">.</span><span class="n">query_chips_simple_dict</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.query_chips_dict"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.query_chips_dict">[docs]</a>    <span class="k">def</span> <span class="nf">query_chips_dict</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Runs query_chips, but returns a json compatible dictionary</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/query/chips/dict/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">apis_query</span><span class="o">.</span><span class="n">query_chips_dict</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.query_chips"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.query_chips">[docs]</a>    <span class="k">def</span> <span class="nf">query_chips</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">qaid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">daid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">cfgdict</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">use_cache</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">use_bigcache</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">qreq_</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">return_request</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
            <span class="n">save_qcache</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">prog_hook</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">return_cm_dict</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
            <span class="n">return_cm_simple_dict</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Submits a query request to the hotspotter recognition pipeline. Returns</span>
<span class="sd">        a list of QueryResult objects.</span>

<span class="sd">        Note:</span>
<span class="sd">            In the future the QueryResult objects will be replaced by ChipMatch</span>
<span class="sd">            objects</span>

<span class="sd">        Args:</span>
<span class="sd">            qaid_list (list): a list of annotation ids to be submitted as</span>
<span class="sd">                queries</span>
<span class="sd">            daid_list (list): a list of annotation ids used as the database</span>
<span class="sd">                that will be searched</span>
<span class="sd">            cfgdict (dict): dictionary of configuration options used to create</span>
<span class="sd">                a new QueryRequest if not already specified</span>
<span class="sd">            use_cache (bool): turns on/off chip match cache (default: True)</span>
<span class="sd">            use_bigcache (bool): turns one/off chunked chip match cache (default:</span>
<span class="sd">                True)</span>
<span class="sd">            qreq_ (QueryRequest): optional, a QueryRequest object that</span>
<span class="sd">                overrides all previous settings</span>
<span class="sd">            return_request (bool): returns the request which will be created if</span>
<span class="sd">                one is not already specified</span>
<span class="sd">            verbose (bool): default=False, turns on verbose printing</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: a list of ChipMatch objects containing the matching</span>
<span class="sd">                annotations, scores, and feature matches</span>

<span class="sd">        Returns(2):</span>
<span class="sd">            tuple: (cm_list, qreq_) - a list of query results and optionally the</span>
<span class="sd">                QueryRequest object used</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/query/chips/</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.web.apis_query --test-query_chips</span>

<span class="sd">            # Test speed of single query</span>
<span class="sd">            python -m ibeis --tf IBEISController.query_chips --db PZ_Master1 \</span>
<span class="sd">                -a default:qindex=0:1,dindex=0:500 --nocache-hs</span>

<span class="sd">            python -m ibeis --tf IBEISController.query_chips --db PZ_Master1 \</span>
<span class="sd">                -a default:qindex=0:1,dindex=0:3000 --nocache-hs</span>

<span class="sd">            python -m ibeis.web.apis_query --test-query_chips:1 --show</span>
<span class="sd">            python -m ibeis.web.apis_query --test-query_chips:2 --show</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # SLOW_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.IBEISControl import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; qreq_ = ibeis.testdata_qreq_()</span>
<span class="sd">            &gt;&gt;&gt; ibs = qreq_.ibs</span>
<span class="sd">            &gt;&gt;&gt; cm_list = qreq_.execute()</span>
<span class="sd">            &gt;&gt;&gt; cm = cm_list[0]</span>
<span class="sd">            &gt;&gt;&gt; ut.quit_if_noshow()</span>
<span class="sd">            &gt;&gt;&gt; cm.ishow_analysis(qreq_)</span>
<span class="sd">            &gt;&gt;&gt; ut.show_if_requested()</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # SLOW_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; #from ibeis.all_imports import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.IBEISControl import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; qaid_list = [1]</span>
<span class="sd">            &gt;&gt;&gt; daid_list = [1, 2, 3, 4, 5]</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.test_main(db=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; qreq_ = ibs.new_query_request(qaid_list, daid_list)</span>
<span class="sd">            &gt;&gt;&gt; cm = ibs.query_chips(qaid_list, daid_list, use_cache=False, qreq_=qreq_)[0]</span>
<span class="sd">            &gt;&gt;&gt; ut.quit_if_noshow()</span>
<span class="sd">            &gt;&gt;&gt; cm.ishow_analysis(qreq_)</span>
<span class="sd">            &gt;&gt;&gt; ut.show_if_requested()</span>

<span class="sd">        Example1:</span>
<span class="sd">            &gt;&gt;&gt; # SLOW_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; #from ibeis.all_imports import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.IBEISControl import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; qaid_list = [1]</span>
<span class="sd">            &gt;&gt;&gt; daid_list = [1, 2, 3, 4, 5]</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.test_main(db=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; cfgdict = {&#39;pipeline_root&#39;:&#39;BC_DTW&#39;}</span>
<span class="sd">            &gt;&gt;&gt; qreq_ = ibs.new_query_request(qaid_list, daid_list, cfgdict=cfgdict, verbose=True)</span>
<span class="sd">            &gt;&gt;&gt; cm = ibs.query_chips(qaid_list, daid_list, use_cache=False, qreq_=qreq_)[0]</span>
<span class="sd">            &gt;&gt;&gt; ut.quit_if_noshow()</span>
<span class="sd">            &gt;&gt;&gt; cm.ishow_analysis(qreq_)</span>
<span class="sd">            &gt;&gt;&gt; ut.show_if_requested()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">apis_query</span><span class="o">.</span><span class="n">query_chips</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">qaid_list</span><span class="p">,</span>
            <span class="n">daid_list</span><span class="p">,</span>
            <span class="n">cfgdict</span><span class="p">,</span>
            <span class="n">use_cache</span><span class="p">,</span>
            <span class="n">use_bigcache</span><span class="p">,</span>
            <span class="n">qreq_</span><span class="p">,</span>
            <span class="n">return_request</span><span class="p">,</span>
            <span class="n">verbose</span><span class="p">,</span>
            <span class="n">save_qcache</span><span class="p">,</span>
            <span class="n">prog_hook</span><span class="p">,</span>
            <span class="n">return_cm_dict</span><span class="p">,</span>
            <span class="n">return_cm_simple_dict</span><span class="p">)</span>
</div>
    <span class="k">def</span> <span class="nf">_get_all_known_lblannot_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">_lbltype</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): all nids of known animals</span>
<span class="sd">            (does not include unknown names) &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lbltype_funcs</span><span class="o">.</span><span class="n">_get_all_known_lblannot_rowids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">_lbltype</span><span class="p">)</span>

<div class="viewcode-block" id="ExplicitInjectIBEISController.add_lbltype"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.add_lbltype">[docs]</a>    <span class="k">def</span> <span class="nf">add_lbltype</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Adds a label type and its default value</span>
<span class="sd">        Should only be called at the begining of the program.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lbltype_funcs</span><span class="o">.</span><span class="n">add_lbltype</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_lbltype_rowid_from_text"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_lbltype_rowid_from_text">[docs]</a>    <span class="k">def</span> <span class="nf">get_lbltype_rowid_from_text</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            lbltype_rowid (list): lbltype_rowid where the lbltype_text is given</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lbltype_funcs</span><span class="o">.</span><span class="n">get_lbltype_rowid_from_text</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_lbltype_default"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_lbltype_default">[docs]</a>    <span class="k">def</span> <span class="nf">get_lbltype_default</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lbltype_funcs</span><span class="o">.</span><span class="n">get_lbltype_default</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_lbltype_text"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_lbltype_text">[docs]</a>    <span class="k">def</span> <span class="nf">get_lbltype_text</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lbltype_funcs</span><span class="o">.</span><span class="n">get_lbltype_text</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.add_contributors"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.add_contributors">[docs]</a>    <span class="k">def</span> <span class="nf">add_contributors</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a list of contributors.</span>

<span class="sd">        Returns:</span>
<span class="sd">            contrib_id_list (list): contributor rowids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: POST</span>
<span class="sd">            URL:    /api/contributor/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">add_contributors</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.add_version"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.add_version">[docs]</a>    <span class="k">def</span> <span class="nf">add_version</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds an algorithm / actor configuration as a string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">add_version</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.add_config"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.add_config">[docs]</a>    <span class="k">def</span> <span class="nf">add_config</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds an algorithm / actor configuration as a string</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: POST</span>
<span class="sd">            URL:    /api/config/</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            cfgsuffix_list (list):</span>
<span class="sd">            contrib_rowid_list (list): (default = None)</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: config_rowid_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_meta_funcs --exec-add_config</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_meta_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; cfgsuffix_list = [&#39;_CHIP(sz450)&#39;]</span>
<span class="sd">            &gt;&gt;&gt; contrib_rowid_list = None</span>
<span class="sd">            &gt;&gt;&gt; config_rowid_list = add_config(ibs, cfgsuffix_list, contrib_rowid_list)</span>
<span class="sd">            &gt;&gt;&gt; result = (&#39;config_rowid_list = %s&#39; % (str(config_rowid_list),))</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">add_config</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.ensure_config_rowid_from_suffix"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.ensure_config_rowid_from_suffix">[docs]</a>    <span class="k">def</span> <span class="nf">ensure_config_rowid_from_suffix</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">ensure_config_rowid_from_suffix</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_metadata_value"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_metadata_value">[docs]</a>    <span class="k">def</span> <span class="nf">set_metadata_value</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets metadata key, value pairs</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/metadata/value/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">set_metadata_value</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_database_version"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_database_version">[docs]</a>    <span class="k">def</span> <span class="nf">set_database_version</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">db</span><span class="p">,</span> <span class="n">version</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the specified database&#39;s version from the controller</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">set_database_version</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">db</span><span class="p">,</span> <span class="n">version</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_config_contributor_rowid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_config_contributor_rowid">[docs]</a>    <span class="k">def</span> <span class="nf">set_config_contributor_rowid</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">config_rowid_list</span><span class="p">,</span> <span class="n">contrib_rowid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the config&#39;s contributor rowid</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/config/contributor_rowid/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">set_config_contributor_rowid</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">config_rowid_list</span><span class="p">,</span> <span class="n">contrib_rowid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.add_new_temp_contributor"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.add_new_temp_contributor">[docs]</a>    <span class="k">def</span> <span class="nf">add_new_temp_contributor</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">user_prompt</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
            <span class="n">offset</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">autolocate</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: POST</span>
<span class="sd">            URL:    /api/contributor/new_temp/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">add_new_temp_contributor</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">user_prompt</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="n">autolocate</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.ensure_contributor_rowids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.ensure_contributor_rowids">[docs]</a>    <span class="k">def</span> <span class="nf">ensure_contributor_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">user_prompt</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">autolocate</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            user_prompt (bool):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list:</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_meta_funcs --test-ensure_contributor_rowids</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_meta_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(db=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; gid_list = ibs.get_valid_gids()</span>
<span class="sd">            &gt;&gt;&gt; ibs.delete_contributors(ibs.get_valid_contrib_rowids())</span>
<span class="sd">            &gt;&gt;&gt; contrib_rowid_list1 = ibs.get_image_contributor_rowid(gid_list)</span>
<span class="sd">            &gt;&gt;&gt; assert ut.allsame(contrib_rowid_list1)</span>
<span class="sd">            &gt;&gt;&gt; ut.assert_eq(contrib_rowid_list1[0], None)</span>
<span class="sd">            &gt;&gt;&gt; user_prompt = ut.get_argflag(&#39;--user-prompt&#39;)</span>
<span class="sd">            &gt;&gt;&gt; autolocate = ut.get_argflag(&#39;--user-prompt&#39;)</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; result = ensure_contributor_rowids(ibs, user_prompt, autolocate)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; ibs.print_contributor_table()</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            &gt;&gt;&gt; contrib_rowid_list2 = ibs.get_image_contributor_rowid(gid_list)</span>
<span class="sd">            &gt;&gt;&gt; assert ut.allsame(contrib_rowid_list2)</span>
<span class="sd">            &gt;&gt;&gt; ut.assert_eq(contrib_rowid_list2[0], 1)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">ensure_contributor_rowids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">user_prompt</span><span class="p">,</span> <span class="n">autolocate</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_all_uncontributed_images"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_all_uncontributed_images">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_uncontributed_images</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/contributor/all_uncontributed_images/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">get_all_uncontributed_images</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_all_uncontributed_configs"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_all_uncontributed_configs">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_uncontributed_configs</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/contributor/all_uncontributed_configs/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">get_all_uncontributed_configs</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_config_contributor_unassigned"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_config_contributor_unassigned">[docs]</a>    <span class="k">def</span> <span class="nf">set_config_contributor_unassigned</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">contrib_rowid</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/config/contributor_unassigned/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">set_config_contributor_unassigned</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">contrib_rowid</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.ensure_imageset_configs_populated"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.ensure_imageset_configs_populated">[docs]</a>    <span class="k">def</span> <span class="nf">ensure_imageset_configs_populated</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">ensure_imageset_configs_populated</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_contributor_rowid_from_uuid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_contributor_rowid_from_uuid">[docs]</a>    <span class="k">def</span> <span class="nf">get_contributor_rowid_from_uuid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            contrib_rowid_list (list):  a contributor</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/contributor/rowid_from_uuid/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">get_contributor_rowid_from_uuid</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_contributor_rowid_from_tag"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_contributor_rowid_from_tag">[docs]</a>    <span class="k">def</span> <span class="nf">get_contributor_rowid_from_tag</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            contrib_rowid_list (list):  a contributor</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/contributor/rowid_from_tag/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">get_contributor_rowid_from_tag</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_contributor_uuid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_contributor_uuid">[docs]</a>    <span class="k">def</span> <span class="nf">get_contributor_uuid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            contrib_uuid_list (list):  a contributor&#39;s uuid</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/contributor/uuid/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">get_contributor_uuid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
    <span class="k">def</span> <span class="nf">_get_all_contributor_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        all_contributor_rowids &lt;- contributor.get_all_rowids()</span>

<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): unfiltered contributor_rowids</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tider_all_rowids</span>
<span class="sd">            tbl = contributor</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_meta_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, qreq_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; ibs._get_all_contributor_rowids()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">_get_all_contributor_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>

<div class="viewcode-block" id="ExplicitInjectIBEISController.get_contributor_tag"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_contributor_tag">[docs]</a>    <span class="k">def</span> <span class="nf">get_contributor_tag</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        contributor_tag_list &lt;- contributor.contributor_tag[contributor_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;contributor_tag&quot; in the &quot;contributor&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            contributor_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: contributor_tag_list -  a contributor&#39;s tag</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = contributor_tag</span>
<span class="sd">            tbl = contributor</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.templates.template_generator --key contributor  --Tcfg with_api_cache=False with_deleters=False</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/contributor/tag/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_meta_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, qreq_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; contributor_rowid_list = ibs._get_all_contributor_rowids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; contributor_tag_list = ibs.get_contributor_tag(contributor_rowid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; assert len(contributor_rowid_list) == len(contributor_tag_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">get_contributor_tag</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_contributor_first_name"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_contributor_first_name">[docs]</a>    <span class="k">def</span> <span class="nf">get_contributor_first_name</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            contrib_name_first_list (list):  a contributor&#39;s first name</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/contributor/first_name/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">get_contributor_first_name</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_contributor_last_name"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_contributor_last_name">[docs]</a>    <span class="k">def</span> <span class="nf">get_contributor_last_name</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            contrib_name_last_list (list):  a contributor&#39;s last name</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/contributor/last_name/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">get_contributor_last_name</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_contributor_name_string"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_contributor_name_string">[docs]</a>    <span class="k">def</span> <span class="nf">get_contributor_name_string</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            contrib_name_list (list):  a contributor&#39;s full name</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/contributor/name_string/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">get_contributor_name_string</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_contributor_city"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_contributor_city">[docs]</a>    <span class="k">def</span> <span class="nf">get_contributor_city</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            contrib_city_list (list):  a contributor&#39;s location - city</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/contributor/city/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">get_contributor_city</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_contributor_state"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_contributor_state">[docs]</a>    <span class="k">def</span> <span class="nf">get_contributor_state</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list):  a contributor&#39;s location - state</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/contributor/state/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">get_contributor_state</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_contributor_country"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_contributor_country">[docs]</a>    <span class="k">def</span> <span class="nf">get_contributor_country</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            contrib_country_list (list):  a contributor&#39;s location - country</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/contributor/country/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">get_contributor_country</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_contributor_zip"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_contributor_zip">[docs]</a>    <span class="k">def</span> <span class="nf">get_contributor_zip</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            contrib_zip_list (list):  a contributor&#39;s location - zip</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/contributor/zip/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">get_contributor_zip</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_contributor_location_string"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_contributor_location_string">[docs]</a>    <span class="k">def</span> <span class="nf">get_contributor_location_string</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            contrib_list (list):  a contributor&#39;s location</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/contributor/location_string/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">get_contributor_location_string</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_contributor_note"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_contributor_note">[docs]</a>    <span class="k">def</span> <span class="nf">get_contributor_note</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            contrib_note_list (list):  a contributor&#39;s note</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/contributor/note/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">get_contributor_note</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_contributor_config_rowids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_contributor_config_rowids">[docs]</a>    <span class="k">def</span> <span class="nf">get_contributor_config_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            config_rowid_list (list):  config rowids for a contributor</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/contributor/config_rowids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">get_contributor_config_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_contributor_imgsetids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_contributor_imgsetids">[docs]</a>    <span class="k">def</span> <span class="nf">get_contributor_imgsetids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            imgsetid_list (list):  imgsetids for a contributor</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/contributor/imgsetids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">get_contributor_imgsetids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_contributor_gids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_contributor_gids">[docs]</a>    <span class="k">def</span> <span class="nf">get_contributor_gids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        TODO: Template 1_M reverse getter</span>

<span class="sd">        Returns:</span>
<span class="sd">            gid_list (list):  gids for a contributor</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/contributor/gids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">get_contributor_gids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_config_rowid_from_suffix"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_config_rowid_from_suffix">[docs]</a>    <span class="k">def</span> <span class="nf">get_config_rowid_from_suffix</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets an algorithm configuration as a string</span>

<span class="sd">        DEPRICATE</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/contributor/config_rowid_from_suffix/</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            cfgsuffix_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: gid_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_meta_funcs --exec-get_config_rowid_from_suffix</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">get_config_rowid_from_suffix</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_config_contributor_rowid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_config_contributor_rowid">[docs]</a>    <span class="k">def</span> <span class="nf">get_config_contributor_rowid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            cfgsuffix_list (list):  contributor&#39;s rowid for algorithm configs</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/contributor/config_rowid/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">get_config_contributor_rowid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_config_suffixes"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_config_suffixes">[docs]</a>    <span class="k">def</span> <span class="nf">get_config_suffixes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            cfgsuffix_list (list):  suffixes for algorithm configs</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/contributor/config_suffixes/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">get_config_suffixes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_contributors"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_contributors">[docs]</a>    <span class="k">def</span> <span class="nf">delete_contributors</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        deletes contributors from the database and all information associated</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: DELETE</span>
<span class="sd">            URL:    /api/contributor/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">delete_contributors</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
    <span class="k">def</span> <span class="nf">_get_all_contrib_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list):  all unfiltered contrib_rowid (contributor rowid)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">_get_all_contrib_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>

<div class="viewcode-block" id="ExplicitInjectIBEISController.get_valid_contrib_rowids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_valid_contrib_rowids">[docs]</a>    <span class="k">def</span> <span class="nf">get_valid_contrib_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list):  list of all contributor ids</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: contrib_rowids_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_meta_funcs --test-get_valid_contrib_rowids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/contributor/valid_rowids/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_meta_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; contrib_rowids_list = get_valid_contrib_rowids(ibs)</span>
<span class="sd">            &gt;&gt;&gt; result = str(contrib_rowids_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">get_valid_contrib_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_metadata_value"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_metadata_value">[docs]</a>    <span class="k">def</span> <span class="nf">get_metadata_value</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/metadata/value/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">get_metadata_value</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_metadata_rowid_from_metadata_key"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_metadata_rowid_from_metadata_key">[docs]</a>    <span class="k">def</span> <span class="nf">get_metadata_rowid_from_metadata_key</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/metadata/rowid_from_metadata_key/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">get_metadata_rowid_from_metadata_key</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_database_version"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_database_version">[docs]</a>    <span class="k">def</span> <span class="nf">get_database_version</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">db</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the specified database version from the controller</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/core/dbversion/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">get_database_version</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">db</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.add_metadata"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.add_metadata">[docs]</a>    <span class="k">def</span> <span class="nf">add_metadata</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds metadata</span>

<span class="sd">        Returns:</span>
<span class="sd">            metadata_rowid_list (list): metadata rowids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: POST</span>
<span class="sd">            URL:    /api/metadata/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">add_metadata</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_configs"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_configs">[docs]</a>    <span class="k">def</span> <span class="nf">delete_configs</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        deletes images from the database that belong to fids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: DELETE</span>
<span class="sd">            URL:    /api/config/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">delete_configs</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
    <span class="k">def</span> <span class="nf">_init_config</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Loads the database&#39;s algorithm configuration</span>

<span class="sd">        TODO: per-species config</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">_init_config</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_init_burned_in_species</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">_init_burned_in_species</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_load_named_config</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">cfgname</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">_load_named_config</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">cfgname</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_default_config</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">cfgname</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">new</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Resets the databases&#39;s algorithm configuration</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            cfgname (None):</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_meta_funcs --test-_default_config</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.algo.Config import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_meta_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; assert not hasattr(ibs.cfg.query_cfg.flann_cfg, &#39;badparam&#39;)</span>
<span class="sd">            &gt;&gt;&gt; ibs.cfg.query_cfg.flann_cfg.badparam = True</span>
<span class="sd">            &gt;&gt;&gt; assert ibs.cfg.query_cfg.flann_cfg.cb_index == .4</span>
<span class="sd">            &gt;&gt;&gt; ibs.cfg.query_cfg.flann_cfg.cb_index = .5</span>
<span class="sd">            &gt;&gt;&gt; assert ibs.cfg.query_cfg.flann_cfg.cb_index == .5</span>
<span class="sd">            &gt;&gt;&gt; assert hasattr(ibs.cfg.query_cfg.flann_cfg, &#39;badparam&#39;)</span>
<span class="sd">            &gt;&gt;&gt; # bad params is not initially removed but when you specify new it is</span>
<span class="sd">            &gt;&gt;&gt; ibs._default_config(new=False)</span>
<span class="sd">            &gt;&gt;&gt; assert ibs.cfg.query_cfg.flann_cfg.cb_index == .4</span>
<span class="sd">            &gt;&gt;&gt; assert hasattr(ibs.cfg.query_cfg.flann_cfg, &#39;badparam&#39;)</span>
<span class="sd">            &gt;&gt;&gt; # bad param should be removed when config is defaulted</span>
<span class="sd">            &gt;&gt;&gt; ibs._default_config(new=True)</span>
<span class="sd">            &gt;&gt;&gt; assert not hasattr(ibs.cfg.query_cfg.flann_cfg, &#39;badparam&#39;)</span>

<span class="sd">        cfg = ibs.cfg</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">_default_config</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">cfgname</span><span class="p">,</span> <span class="n">new</span><span class="p">)</span>

<div class="viewcode-block" id="ExplicitInjectIBEISController.update_query_cfg"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.update_query_cfg">[docs]</a>    <span class="k">def</span> <span class="nf">update_query_cfg</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates query config only. Configs needs a restructure very badly</span>
<span class="sd">        DEPRICATE</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/query/cfg/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">update_query_cfg</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_valid_configids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_valid_configids">[docs]</a>    <span class="k">def</span> <span class="nf">get_valid_configids</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/config/valid_rowids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_meta_funcs</span><span class="o">.</span><span class="n">get_valid_configids</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.new_query_request"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.new_query_request">[docs]</a>    <span class="k">def</span> <span class="nf">new_query_request</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">qaid_list</span><span class="p">,</span>
            <span class="n">daid_list</span><span class="p">,</span>
            <span class="n">cfgdict</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        alias for ibeis.algo.hots.query_request.new_ibeis_query_request</span>

<span class="sd">        Args:</span>
<span class="sd">            qaid_list (list):</span>
<span class="sd">            daid_list (list):</span>
<span class="sd">            cfgdict (None):</span>
<span class="sd">            verbose (bool):</span>

<span class="sd">        Returns:</span>
<span class="sd">            QueryRequest: qreq_ -  hyper-parameters</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_ibeiscontrol_funcs --test-new_query_request</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_ibeiscontrol_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; daid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; qaid_list = daid_list[0:2]</span>
<span class="sd">            &gt;&gt;&gt; cfgdict = {}</span>
<span class="sd">            &gt;&gt;&gt; verbose = True</span>
<span class="sd">            &gt;&gt;&gt; qreq_ = new_query_request(ibs, qaid_list, daid_list, cfgdict, verbose)</span>
<span class="sd">            &gt;&gt;&gt; qreq_.set_external_qaid_mask(qaid_list[1:2])</span>
<span class="sd">            &gt;&gt;&gt; print(qreq_.get_external_qaids())</span>
<span class="sd">            &gt;&gt;&gt; result = str(qreq_.get_query_hashid())</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            _QSUUIDS((1)nozvwbdokngephfk)</span>

<span class="sd">            _QSUUIDS((1)nztoqb6&amp;7apjltd1)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_ibeiscontrol_funcs</span><span class="o">.</span><span class="n">new_query_request</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">qaid_list</span><span class="p">,</span> <span class="n">daid_list</span><span class="p">,</span> <span class="n">cfgdict</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.new_query_params"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.new_query_params">[docs]</a>    <span class="k">def</span> <span class="nf">new_query_params</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">cfgdict</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        convinience method while configs are still in a state of disarray.</span>
<span class="sd">        Converts ibs.cfg.query_cfg into a QueryParams object</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            cfgdict (dict): (default = None)</span>

<span class="sd">        Returns:</span>
<span class="sd">            QueryParams: qparams -  query hyper-parameters</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_ibeiscontrol_funcs --exec-new_query_params</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_ibeiscontrol_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; cfgdict = None</span>
<span class="sd">            &gt;&gt;&gt; qparams = new_query_params(ibs, cfgdict)</span>
<span class="sd">            &gt;&gt;&gt; result = (&#39;qparams = %s&#39; % (str(qparams),))</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_ibeiscontrol_funcs</span><span class="o">.</span><span class="n">new_query_params</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">cfgdict</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_vocab_cfgstr"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_vocab_cfgstr">[docs]</a>    <span class="k">def</span> <span class="nf">get_vocab_cfgstr</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">taids</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">qreq_</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_ibeiscontrol_funcs</span><span class="o">.</span><span class="n">get_vocab_cfgstr</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">taids</span><span class="p">,</span> <span class="n">qreq_</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_vocab_words"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_vocab_words">[docs]</a>    <span class="k">def</span> <span class="nf">get_vocab_words</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">taids</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">qreq_</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Hackyish way of putting vocab generation into the controller.</span>
<span class="sd">        Ideally there would be a preproc_vocab in ibeis.algo.preproc</span>
<span class="sd">        and sql would store this under some config</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_ibeiscontrol_funcs import *   # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_ibeiscontrol_funcs</span><span class="o">.</span><span class="n">get_vocab_words</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">taids</span><span class="p">,</span> <span class="n">qreq_</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_kpts_distinctiveness"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_kpts_distinctiveness">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_kpts_distinctiveness</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">config2_</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        very hacky, but cute way to cache keypoint distinctivness</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (list):</span>
<span class="sd">            dstncvs_normer (None):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: dstncvs_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_ibeiscontrol_funcs --test-get_annot_kpts_distinctiveness</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # SLOW_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_ibeiscontrol_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.algo.hots import distinctiveness_normalizer</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; import numpy as np</span>
<span class="sd">            &gt;&gt;&gt; config2_ = None</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids(species=const.TEST_SPECIES.ZEB_PLAIN)</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; aid_list1 = aid_list[::2]</span>
<span class="sd">            &gt;&gt;&gt; aid_list2 = aid_list[1::3]</span>
<span class="sd">            &gt;&gt;&gt; dstncvs_list1 = get_annot_kpts_distinctiveness(ibs, aid_list1)</span>
<span class="sd">            &gt;&gt;&gt; dstncvs_list2 = get_annot_kpts_distinctiveness(ibs, aid_list2)</span>
<span class="sd">            &gt;&gt;&gt; dstncvs_list = get_annot_kpts_distinctiveness(ibs, aid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(ut.depth_profile(dstncvs_list1))</span>
<span class="sd">            &gt;&gt;&gt; stats_dict = ut.dict_stack([ut.get_stats(dstncvs) for dstncvs in dstncvs_list])</span>
<span class="sd">            &gt;&gt;&gt; print(ut.dict_str(stats_dict))</span>
<span class="sd">            &gt;&gt;&gt; assert np.all(np.array(stats_dict[&#39;min&#39;]) &gt;= 0), &#39;distinctiveness was out of bounds&#39;</span>
<span class="sd">            &gt;&gt;&gt; assert np.all(np.array(stats_dict[&#39;max&#39;]) &lt;= 1), &#39;distinctiveness was out of bounds&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_ibeiscontrol_funcs</span><span class="o">.</span><span class="n">get_annot_kpts_distinctiveness</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">config2_</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.show_annot"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.show_annot">[docs]</a>    <span class="k">def</span> <span class="nf">show_annot</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  viz helper see ibeis.viz.viz_chip.show_chip &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_ibeiscontrol_funcs</span><span class="o">.</span><span class="n">show_annot</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.show_annot_image"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.show_annot_image">[docs]</a>    <span class="k">def</span> <span class="nf">show_annot_image</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  viz helper see ibeis.viz.viz_chip.show_chip &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_ibeiscontrol_funcs</span><span class="o">.</span><span class="n">show_annot_image</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
    <span class="k">def</span> <span class="nf">_get_all_imageset_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list):  all unfiltered imgsetids (imageset rowids)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">_get_all_imageset_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_all_imgsetids</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        alias</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">_get_all_imgsetids</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>

<div class="viewcode-block" id="ExplicitInjectIBEISController.get_valid_imgsetids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_valid_imgsetids">[docs]</a>    <span class="k">def</span> <span class="nf">get_valid_imgsetids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">min_num_gids</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">processed</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">shipped</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list):  list of all imageset ids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_valid_imgsetids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">min_num_gids</span><span class="p">,</span> <span class="n">processed</span><span class="p">,</span> <span class="n">shipped</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.add_imagesets"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.add_imagesets">[docs]</a>    <span class="k">def</span> <span class="nf">add_imagesets</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a list of imagesets.</span>

<span class="sd">        Args:</span>
<span class="sd">            imagesettext_list (list):</span>
<span class="sd">            imageset_uuid_list (list):</span>
<span class="sd">            config_rowid_list (list):</span>
<span class="sd">            notes_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            imgsetid_list (list): added imageset rowids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: POST</span>
<span class="sd">            URL:    /api/imageset/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">add_imagesets</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_imageset_text"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_imageset_text">[docs]</a>    <span class="k">def</span> <span class="nf">set_imageset_text</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets names of imagesets (groups of animals)</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/imageset/text/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">set_imageset_text</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_num_imgs_reviewed"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_num_imgs_reviewed">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_num_imgs_reviewed</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/num_imgs_reviewed/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_imageset_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; # Reset and compute imagesets</span>
<span class="sd">            &gt;&gt;&gt; ibs.delete_all_imagesets()</span>
<span class="sd">            &gt;&gt;&gt; ibs.compute_occurrences()</span>
<span class="sd">            &gt;&gt;&gt; imgsetid_list = ibs.get_valid_imgsetids()</span>
<span class="sd">            &gt;&gt;&gt; num_reviwed_list = ibs.get_imageset_num_imgs_reviewed(imgsetid_list)</span>
<span class="sd">            &gt;&gt;&gt; result = num_reviwed_list</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [0, 0]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_num_imgs_reviewed</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_num_annotmatch_reviewed"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_num_annotmatch_reviewed">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_num_annotmatch_reviewed</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/num_annotmatch_reviewed/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_imageset_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; imgsetid_list = ibs._get_all_imageset_rowids()</span>
<span class="sd">            &gt;&gt;&gt; num_annots_reviewed_list = ibs.get_imageset_num_annotmatch_reviewed(imgsetid_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_num_annotmatch_reviewed</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_num_names_with_exemplar"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_num_names_with_exemplar">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_num_names_with_exemplar</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/num_names_with_exemplar/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_imageset_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; imgsetid_list = ibs._get_all_imageset_rowids()</span>
<span class="sd">            &gt;&gt;&gt; num_annots_reviewed_list = ibs.get_imageset_num_annotmatch_reviewed(imgsetid_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_num_names_with_exemplar</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_fraction_names_with_exemplar"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_fraction_names_with_exemplar">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_fraction_names_with_exemplar</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/fraction_names_with_exemplar/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_imageset_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb2&#39;)</span>
<span class="sd">            &gt;&gt;&gt; imgsetid_list = ibs._get_all_imageset_rowids()</span>
<span class="sd">            &gt;&gt;&gt; fraction_exemplared_names_list = ibs.get_imageset_fraction_names_with_exemplar(imgsetid_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_fraction_names_with_exemplar</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_fraction_annotmatch_reviewed"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_fraction_annotmatch_reviewed">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_fraction_annotmatch_reviewed</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/fraction_annotmatch_reviewed/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_fraction_annotmatch_reviewed</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_custom_filtered_aids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_custom_filtered_aids">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_custom_filtered_aids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">imgsetid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        hacks to filter aids to only certain views and qualities</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/custom_filtered_aids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_custom_filtered_aids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">imgsetid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_fraction_imgs_reviewed"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_fraction_imgs_reviewed">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_fraction_imgs_reviewed</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/fraction_imgs_reviewed/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_fraction_imgs_reviewed</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_percent_names_with_exemplar_str"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_percent_names_with_exemplar_str">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_percent_names_with_exemplar_str</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/percent_names_with_exemplar_str/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_percent_names_with_exemplar_str</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_percent_imgs_reviewed_str"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_percent_imgs_reviewed_str">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_percent_imgs_reviewed_str</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/percent_imgs_reviewed_str/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_percent_imgs_reviewed_str</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_percent_annotmatch_reviewed_str"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_percent_annotmatch_reviewed_str">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_percent_annotmatch_reviewed_str</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/percent_annotmatch_reviewed_str/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_percent_annotmatch_reviewed_str</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_num_gids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_num_gids">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_num_gids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            nGids_list (list): number of images in each imageset</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/num_gids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_num_gids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_num_aids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_num_aids">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_num_aids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            nGids_list (list): number of images in each imageset</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/num_aids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_num_aids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_aids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_aids">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_aids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            aids_list (list):  a list of list of aids in each imageset</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/aids/</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            imgsetid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: aids_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_imageset_funcs --test-get_imageset_aids</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_imageset_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; ibs.delete_imagesets(ibs.get_valid_imgsetids())</span>
<span class="sd">            &gt;&gt;&gt; ibs.compute_occurrences()</span>
<span class="sd">            &gt;&gt;&gt; imgsetid_list = ibs.get_valid_imgsetids()</span>
<span class="sd">            &gt;&gt;&gt; aids_list = get_imageset_aids(ibs, imgsetid_list)</span>
<span class="sd">            &gt;&gt;&gt; result = (&#39;aids_list = %s&#39; % (str(aids_list),))</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_aids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_gids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_gids">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_gids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            gids_list (list):  a list of list of gids in each imageset</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/gids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_gids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_gsgrids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_gsgrids">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_gsgrids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">imgsetid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">gid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list):  a list of imageset-image-relationship rowids for each encouterid</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/gsgrids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_gsgrids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">imgsetid_list</span><span class="p">,</span> <span class="n">gid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_nids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_nids">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_nids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list):  a list of list of known nids in each imageset</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_imageset_funcs --test-get_imageset_nids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/nids/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_imageset_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; ibs.delete_imagesets(ibs.get_valid_imgsetids())</span>
<span class="sd">            &gt;&gt;&gt; ibs.compute_occurrences()</span>
<span class="sd">            &gt;&gt;&gt; imgsetid_list = ibs.get_valid_imgsetids()</span>
<span class="sd">            &gt;&gt;&gt; nids_list = ibs.get_imageset_nids(imgsetid_list)</span>
<span class="sd">            &gt;&gt;&gt; result = nids_list</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [[1, 2, 3], [4, 5, 6, 7]]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_nids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_uuid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_uuid">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_uuid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): imageset_uuid of each imgsetid in imgsetid_list</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/uuid/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_uuid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_configid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_configid">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_configid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): config_rowid of each imgsetid in imgsetid_list</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/configid/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_configid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_text"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_text">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_text</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): imageset_text of each imgsetid in imgsetid_list</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/text/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_text</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_imgsetids_from_text"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_imgsetids_from_text">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_imgsetids_from_text</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): a list of imgsetids corresponding to each imageset imagesettext</span>
<span class="sd">        #FIXME: make new naming scheme for non-primary-key-getters</span>
<span class="sd">        get_imageset_imgsetids_from_text_from_text</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/imgsetids_from_text/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_imgsetids_from_text</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_note"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_note">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_note</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): imageset_note of each imgsetid in imgsetid_list</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/note/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_note</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_imagesets"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_imagesets">[docs]</a>    <span class="k">def</span> <span class="nf">delete_imagesets</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Removes imagesets and thier relationships (images are not effected)</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: DELETE</span>
<span class="sd">            URL:    /api/imageset/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">delete_imagesets</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_end_time_posix"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_end_time_posix">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_end_time_posix</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        imageset_end_time_posix_list &lt;- imageset.imageset_end_time_posix[imageset_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;imageset_end_time_posix&quot; in the &quot;imageset&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            imageset_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: imageset_end_time_posix_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = imageset_end_time_posix</span>
<span class="sd">            tbl = imageset</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/end_time_posix/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_imageset_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; imageset_rowid_list = ibs._get_all_imageset_rowids()</span>
<span class="sd">            &gt;&gt;&gt; imageset_end_time_posix_list = ibs.get_imageset_end_time_posix(imageset_rowid_list)</span>
<span class="sd">            &gt;&gt;&gt; assert len(imageset_rowid_list) == len(imageset_end_time_posix_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_end_time_posix</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_gps_lats"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_gps_lats">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_gps_lats</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        imageset_gps_lat_list &lt;- imageset.imageset_gps_lat[imageset_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;imageset_gps_lat&quot; in the &quot;imageset&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            imageset_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: imageset_gps_lat_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = imageset_gps_lat</span>
<span class="sd">            tbl = imageset</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/gps_lats/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_imageset_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; imageset_rowid_list = ibs._get_all_imageset_rowids()</span>
<span class="sd">            &gt;&gt;&gt; imageset_gps_lat_list = ibs.get_imageset_gps_lats(imageset_rowid_list)</span>
<span class="sd">            &gt;&gt;&gt; assert len(imageset_rowid_list) == len(imageset_gps_lat_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_gps_lats</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.update_imageset_info"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.update_imageset_info">[docs]</a>    <span class="k">def</span> <span class="nf">update_imageset_info</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">imageset_rowid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        sets start and end time for imagesets</span>

<span class="sd">        FIXME: should not need to bulk update, should be handled as it goes</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/imageset/info/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DOCTEST_DISABLE</span>
<span class="sd">            &gt;&gt;&gt; imageset_rowid_list = ibs.get_valid_imgsetids()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">update_imageset_info</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">imageset_rowid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_gps_lons"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_gps_lons">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_gps_lons</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        imageset_gps_lon_list &lt;- imageset.imageset_gps_lon[imageset_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;imageset_gps_lon&quot; in the &quot;imageset&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            imageset_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: imageset_gps_lon_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = imageset_gps_lon</span>
<span class="sd">            tbl = imageset</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/gps_lons/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_imageset_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; imageset_rowid_list = ibs._get_all_imageset_rowids()</span>
<span class="sd">            &gt;&gt;&gt; imageset_gps_lon_list = ibs.get_imageset_gps_lons(imageset_rowid_list)</span>
<span class="sd">            &gt;&gt;&gt; assert len(imageset_rowid_list) == len(imageset_gps_lon_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_gps_lons</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_notes"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_notes">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_notes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        imageset_note_list &lt;- imageset.imageset_note[imageset_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;imageset_note&quot; in the &quot;imageset&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            imageset_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: imageset_note_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = imageset_note</span>
<span class="sd">            tbl = imageset</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/notes/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_imageset_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; imageset_rowid_list = ibs._get_all_imageset_rowids()</span>
<span class="sd">            &gt;&gt;&gt; imageset_note_list = ibs.get_imageset_notes(imageset_rowid_list)</span>
<span class="sd">            &gt;&gt;&gt; assert len(imageset_rowid_list) == len(imageset_note_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_notes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_processed_flags"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_processed_flags">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_processed_flags</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        imageset_processed_flag_list &lt;- imageset.imageset_processed_flag[imageset_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;imageset_processed_flag&quot; in the &quot;imageset&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            imageset_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: imageset_processed_flag_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = imageset_processed_flag</span>
<span class="sd">            tbl = imageset</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/processed_flags/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_imageset_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; imageset_rowid_list = ibs._get_all_imageset_rowids()</span>
<span class="sd">            &gt;&gt;&gt; imageset_processed_flag_list = ibs.get_imageset_processed_flags(imageset_rowid_list)</span>
<span class="sd">            &gt;&gt;&gt; assert len(imageset_rowid_list) == len(imageset_processed_flag_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_processed_flags</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_shipped_flags"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_shipped_flags">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_shipped_flags</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        imageset_shipped_flag_list &lt;- imageset.imageset_shipped_flag[imageset_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;imageset_shipped_flag&quot; in the &quot;imageset&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            imageset_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: imageset_shipped_flag_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = imageset_shipped_flag</span>
<span class="sd">            tbl = imageset</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/shipped_flags/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_imageset_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; imageset_rowid_list = ibs._get_all_imageset_rowids()</span>
<span class="sd">            &gt;&gt;&gt; imageset_shipped_flag_list = ibs.get_imageset_shipped_flags(imageset_rowid_list)</span>
<span class="sd">            &gt;&gt;&gt; assert len(imageset_rowid_list) == len(imageset_shipped_flag_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_shipped_flags</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_start_time_posix"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_start_time_posix">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_start_time_posix</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        imageset_start_time_posix_list &lt;- imageset.imageset_start_time_posix[imageset_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;imageset_start_time_posix&quot; in the &quot;imageset&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            imageset_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: imageset_start_time_posix_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = imageset_start_time_posix</span>
<span class="sd">            tbl = imageset</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/start_time_posix/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_imageset_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; imageset_rowid_list = ibs._get_all_imageset_rowids()</span>
<span class="sd">            &gt;&gt;&gt; imageset_start_time_posix_list = ibs.get_imageset_start_time_posix(imageset_rowid_list)</span>
<span class="sd">            &gt;&gt;&gt; assert len(imageset_rowid_list) == len(imageset_start_time_posix_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_start_time_posix</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_duration"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_duration">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_duration</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        gets the imageset&#39;s duration</span>

<span class="sd">        Args:</span>
<span class="sd">            imageset_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: imageset_duration</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/duration/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_duration</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_imageset_end_time_posix"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_imageset_end_time_posix">[docs]</a>    <span class="k">def</span> <span class="nf">set_imageset_end_time_posix</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        imageset_end_time_posix_list -&gt; imageset.imageset_end_time_posix[imageset_rowid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            imageset_rowid_list</span>
<span class="sd">            imageset_end_time_posix_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tsetter_native_column</span>
<span class="sd">            tbl = imageset</span>
<span class="sd">            col = imageset_end_time_posix</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/imageset/end_time_posix/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">set_imageset_end_time_posix</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_imageset_gps_lats"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_imageset_gps_lats">[docs]</a>    <span class="k">def</span> <span class="nf">set_imageset_gps_lats</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        imageset_gps_lat_list -&gt; imageset.imageset_gps_lat[imageset_rowid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            imageset_rowid_list</span>
<span class="sd">            imageset_gps_lat_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tsetter_native_column</span>
<span class="sd">            tbl = imageset</span>
<span class="sd">            col = imageset_gps_lat</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/imageset/gps_lats/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">set_imageset_gps_lats</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_imageset_gps_lons"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_imageset_gps_lons">[docs]</a>    <span class="k">def</span> <span class="nf">set_imageset_gps_lons</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        imageset_gps_lon_list -&gt; imageset.imageset_gps_lon[imageset_rowid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            imageset_rowid_list</span>
<span class="sd">            imageset_gps_lon_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tsetter_native_column</span>
<span class="sd">            tbl = imageset</span>
<span class="sd">            col = imageset_gps_lon</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/imageset/gps_lons/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">set_imageset_gps_lons</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_imageset_notes"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_imageset_notes">[docs]</a>    <span class="k">def</span> <span class="nf">set_imageset_notes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        imageset_note_list -&gt; imageset.imageset_note[imageset_rowid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            imageset_rowid_list</span>
<span class="sd">            imageset_note_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tsetter_native_column</span>
<span class="sd">            tbl = imageset</span>
<span class="sd">            col = imageset_note</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/imageset/notes/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">set_imageset_notes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_imageset_processed_flags"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_imageset_processed_flags">[docs]</a>    <span class="k">def</span> <span class="nf">set_imageset_processed_flags</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        imageset_processed_flag_list -&gt; imageset.imageset_processed_flag[imageset_rowid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            imageset_rowid_list</span>
<span class="sd">            imageset_processed_flag_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tsetter_native_column</span>
<span class="sd">            tbl = imageset</span>
<span class="sd">            col = imageset_processed_flag</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/imageset/processed_flags/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">set_imageset_processed_flags</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_imageset_shipped_flags"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_imageset_shipped_flags">[docs]</a>    <span class="k">def</span> <span class="nf">set_imageset_shipped_flags</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        imageset_shipped_flag_list -&gt; imageset.imageset_shipped_flag[imageset_rowid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            imageset_rowid_list</span>
<span class="sd">            imageset_shipped_flag_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tsetter_native_column</span>
<span class="sd">            tbl = imageset</span>
<span class="sd">            col = imageset_shipped_flag</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/imageset/shipped_flags/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">set_imageset_shipped_flags</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_imageset_start_time_posix"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_imageset_start_time_posix">[docs]</a>    <span class="k">def</span> <span class="nf">set_imageset_start_time_posix</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        imageset_start_time_posix_list -&gt; imageset.imageset_start_time_posix[imageset_rowid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            imageset_rowid_list</span>
<span class="sd">            imageset_start_time_posix_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tsetter_native_column</span>
<span class="sd">            tbl = imageset</span>
<span class="sd">            col = imageset_start_time_posix</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/imageset/start_time_posix/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">set_imageset_start_time_posix</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_smart_waypoint_ids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_smart_waypoint_ids">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_smart_waypoint_ids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">imageset_rowid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        imageset_smart_waypoint_id_list &lt;- imageset.imageset_smart_waypoint_id[imageset_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;imageset_smart_waypoint_id&quot; in the &quot;imageset&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            imageset_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: imageset_smart_waypoint_id_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = imageset_smart_waypoint_id</span>
<span class="sd">            tbl = imageset</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/smart_waypoint_ids/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_imageset_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; imageset_rowid_list = ibs._get_all_imageset_rowids()</span>
<span class="sd">            &gt;&gt;&gt; imageset_smart_waypoint_id_list = ibs.get_imageset_smart_waypoint_ids(imageset_rowid_list)</span>
<span class="sd">            &gt;&gt;&gt; assert len(imageset_rowid_list) == len(imageset_smart_waypoint_id_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_smart_waypoint_ids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">imageset_rowid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_imageset_smart_xml_fnames"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_imageset_smart_xml_fnames">[docs]</a>    <span class="k">def</span> <span class="nf">get_imageset_smart_xml_fnames</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">imageset_rowid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        imageset_smart_xml_fname_list &lt;- imageset.imageset_smart_xml_fname[imageset_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;imageset_smart_xml_fname&quot; in the &quot;imageset&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            imageset_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: imageset_smart_xml_fname_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = imageset_smart_xml_fname</span>
<span class="sd">            tbl = imageset</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/imageset/smart_xml_fnames/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_imageset_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; imageset_rowid_list = ibs._get_all_imageset_rowids()</span>
<span class="sd">            &gt;&gt;&gt; imageset_smart_xml_fname_list = ibs.get_imageset_smart_xml_fnames(imageset_rowid_list)</span>
<span class="sd">            &gt;&gt;&gt; assert len(imageset_rowid_list) == len(imageset_smart_xml_fname_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">get_imageset_smart_xml_fnames</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">imageset_rowid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_imageset_smart_waypoint_ids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_imageset_smart_waypoint_ids">[docs]</a>    <span class="k">def</span> <span class="nf">set_imageset_smart_waypoint_ids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">imageset_rowid_list</span><span class="p">,</span>
            <span class="n">imageset_smart_waypoint_id_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        imageset_smart_waypoint_id_list -&gt; imageset.imageset_smart_waypoint_id[imageset_rowid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            imageset_rowid_list</span>
<span class="sd">            imageset_smart_waypoint_id_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tsetter_native_column</span>
<span class="sd">            tbl = imageset</span>
<span class="sd">            col = imageset_smart_waypoint_id</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/imageset/smart_waypoint_ids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">set_imageset_smart_waypoint_ids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">imageset_rowid_list</span><span class="p">,</span> <span class="n">imageset_smart_waypoint_id_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_imageset_smart_xml_fnames"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_imageset_smart_xml_fnames">[docs]</a>    <span class="k">def</span> <span class="nf">set_imageset_smart_xml_fnames</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">imageset_rowid_list</span><span class="p">,</span>
            <span class="n">imageset_smart_xml_fname_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        imageset_smart_xml_fname_list -&gt; imageset.imageset_smart_xml_fname[imageset_rowid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            imageset_rowid_list</span>
<span class="sd">            imageset_smart_xml_fname_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tsetter_native_column</span>
<span class="sd">            tbl = imageset</span>
<span class="sd">            col = imageset_smart_xml_fname</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/imageset/smart_xml_fnames/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_imageset_funcs</span><span class="o">.</span><span class="n">set_imageset_smart_xml_fnames</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">imageset_rowid_list</span><span class="p">,</span> <span class="n">imageset_smart_xml_fname_list</span><span class="p">)</span>
</div>
    <span class="k">def</span> <span class="nf">_get_all_annotgroup_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  all_annotgroup_rowids &lt;- annotgroup.get_all_rowids()</span>

<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): unfiltered annotgroup_rowids</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tider_all_rowids</span>
<span class="sd">            tbl = annotgroup</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annotgroup_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; ibs._get_all_annotgroup_rowids()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annotgroup_funcs</span><span class="o">.</span><span class="n">_get_all_annotgroup_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>

<div class="viewcode-block" id="ExplicitInjectIBEISController.add_annotgroup"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.add_annotgroup">[docs]</a>    <span class="k">def</span> <span class="nf">add_annotgroup</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">annotgroup_uuid_list</span><span class="p">,</span>
            <span class="n">annotgroup_text_list</span><span class="p">,</span>
            <span class="n">annotgroup_note_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            returns annotgroup_rowid_list of added (or already existing annotgroups)</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tadder_native</span>
<span class="sd">            tbl = annotgroup</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annotgroup_funcs</span><span class="o">.</span><span class="n">add_annotgroup</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">annotgroup_uuid_list</span><span class="p">,</span> <span class="n">annotgroup_text_list</span><span class="p">,</span> <span class="n">annotgroup_note_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_annotgroup"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_annotgroup">[docs]</a>    <span class="k">def</span> <span class="nf">delete_annotgroup</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">annotgroup_rowid_list</span><span class="p">,</span> <span class="n">config2_</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  annotgroup.delete(annotgroup_rowid_list)</span>

<span class="sd">        delete annotgroup rows</span>

<span class="sd">        Args:</span>
<span class="sd">            annotgroup_rowid_list</span>

<span class="sd">        Returns:</span>
<span class="sd">            int: num_deleted</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tdeleter_native_tbl</span>
<span class="sd">            tbl = annotgroup</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annotgroup_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; annotgroup_rowid_list = ibs._get_all_annotgroup_rowids()[:2]</span>
<span class="sd">            &gt;&gt;&gt; num_deleted = ibs.delete_annotgroup(annotgroup_rowid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;num_deleted = %r&#39; % (num_deleted,))</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annotgroup_funcs</span><span class="o">.</span><span class="n">delete_annotgroup</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">annotgroup_rowid_list</span><span class="p">,</span> <span class="n">config2_</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annotgroup_gar_rowids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annotgroup_gar_rowids">[docs]</a>    <span class="k">def</span> <span class="nf">get_annotgroup_gar_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Auto-docstr for &#39;get_annotgroup_gar_rowids&#39;</span>

<span class="sd">            RESTful:</span>
<span class="sd">                Method: GET</span>
<span class="sd">                URL:    /api/annotgroup/gar_rowids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annotgroup_funcs</span><span class="o">.</span><span class="n">get_annotgroup_gar_rowids</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annotgroup_note"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annotgroup_note">[docs]</a>    <span class="k">def</span> <span class="nf">get_annotgroup_note</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  annotgroup_note_list &lt;- annotgroup.annotgroup_note[annotgroup_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;annotgroup_note&quot; in the &quot;annotgroup&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            annotgroup_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: annotgroup_note_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = annotgroup_note</span>
<span class="sd">            tbl = annotgroup</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annotgroup_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; annotgroup_rowid_list = ibs._get_all_annotgroup_rowids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; annotgroup_note_list = ibs.get_annotgroup_note(annotgroup_rowid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; assert len(annotgroup_rowid_list) == len(annotgroup_note_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annotgroup_funcs</span><span class="o">.</span><span class="n">get_annotgroup_note</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annotgroup_rowid_from_superkey"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annotgroup_rowid_from_superkey">[docs]</a>    <span class="k">def</span> <span class="nf">get_annotgroup_rowid_from_superkey</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">annotgroup_text_list</span><span class="p">,</span> <span class="n">eager</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nInput</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  annotgroup_rowid_list &lt;- annotgroup[annotgroup_text_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            superkey lists: annotgroup_text_list</span>

<span class="sd">        Returns:</span>
<span class="sd">            annotgroup_rowid_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_native_rowid_from_superkey</span>
<span class="sd">            tbl = annotgroup</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annotgroup_funcs</span><span class="o">.</span><span class="n">get_annotgroup_rowid_from_superkey</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">annotgroup_text_list</span><span class="p">,</span> <span class="n">eager</span><span class="p">,</span> <span class="n">nInput</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annotgroup_text"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annotgroup_text">[docs]</a>    <span class="k">def</span> <span class="nf">get_annotgroup_text</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  annotgroup_text_list &lt;- annotgroup.annotgroup_text[annotgroup_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;annotgroup_text&quot; in the &quot;annotgroup&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            annotgroup_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: annotgroup_text_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = annotgroup_text</span>
<span class="sd">            tbl = annotgroup</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annotgroup_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; annotgroup_rowid_list = ibs._get_all_annotgroup_rowids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; annotgroup_text_list = ibs.get_annotgroup_text(annotgroup_rowid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; assert len(annotgroup_rowid_list) == len(annotgroup_text_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annotgroup_funcs</span><span class="o">.</span><span class="n">get_annotgroup_text</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annotgroup_uuid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annotgroup_uuid">[docs]</a>    <span class="k">def</span> <span class="nf">get_annotgroup_uuid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  annotgroup_uuid_list &lt;- annotgroup.annotgroup_uuid[annotgroup_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;annotgroup_uuid&quot; in the &quot;annotgroup&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            annotgroup_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: annotgroup_uuid_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = annotgroup_uuid</span>
<span class="sd">            tbl = annotgroup</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annotgroup_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; annotgroup_rowid_list = ibs._get_all_annotgroup_rowids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; annotgroup_uuid_list = ibs.get_annotgroup_uuid(annotgroup_rowid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; assert len(annotgroup_rowid_list) == len(annotgroup_uuid_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annotgroup_funcs</span><span class="o">.</span><span class="n">get_annotgroup_uuid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annotgroup_note"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annotgroup_note">[docs]</a>    <span class="k">def</span> <span class="nf">set_annotgroup_note</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  annotgroup_note_list -&gt; annotgroup.annotgroup_note[annotgroup_rowid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            annotgroup_rowid_list</span>
<span class="sd">            annotgroup_note_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tsetter_native_column</span>
<span class="sd">            tbl = annotgroup</span>
<span class="sd">            col = annotgroup_note</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annotgroup_funcs</span><span class="o">.</span><span class="n">set_annotgroup_note</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annotgroup_uuid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annotgroup_uuid">[docs]</a>    <span class="k">def</span> <span class="nf">set_annotgroup_uuid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  annotgroup_uuid_list -&gt; annotgroup.annotgroup_uuid[annotgroup_rowid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            annotgroup_rowid_list</span>
<span class="sd">            annotgroup_uuid_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tsetter_native_column</span>
<span class="sd">            tbl = annotgroup</span>
<span class="sd">            col = annotgroup_uuid</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annotgroup_funcs</span><span class="o">.</span><span class="n">set_annotgroup_uuid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
    <span class="k">def</span> <span class="nf">_get_all_gids</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        alias</span>

<span class="sd">        Returns:</span>
<span class="sd">            list_ (list):  all unfiltered gids (image rowids)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">_get_all_gids</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_all_image_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        all_image_rowids &lt;- image.get_all_rowids()</span>

<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): unfiltered image_rowids</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tider_all_rowids</span>
<span class="sd">            tbl = image</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_image_funcs --test-_get_all_image_rowids</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_image_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; all_image_rowids = ibs._get_all_image_rowids()</span>
<span class="sd">            &gt;&gt;&gt; result = str(all_image_rowids)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">_get_all_image_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>

<div class="viewcode-block" id="ExplicitInjectIBEISController.get_valid_gids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_valid_gids">[docs]</a>    <span class="k">def</span> <span class="nf">get_valid_gids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">imgsetid</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">require_unixtime</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
            <span class="n">require_gps</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">reviewed</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            imgsetid (None):</span>
<span class="sd">            require_unixtime (bool):</span>
<span class="sd">            reviewed (None):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: gid_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_image_funcs --test-get_valid_gids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_image_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; imgsetid = None</span>
<span class="sd">            &gt;&gt;&gt; require_unixtime = False</span>
<span class="sd">            &gt;&gt;&gt; reviewed = None</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; gid_list = get_valid_gids(ibs, imgsetid, require_unixtime, reviewed)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; result = str(gid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_valid_gids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">imgsetid</span><span class="p">,</span> <span class="n">require_unixtime</span><span class="p">,</span> <span class="n">require_gps</span><span class="p">,</span> <span class="n">reviewed</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.image_base64_api"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.image_base64_api">[docs]</a>    <span class="k">def</span> <span class="nf">image_base64_api</span><span class="p">(</span><span class="n">gid</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">thumbnail</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">fresh</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the base64 encoded image of image &lt;gid&gt;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/&lt;gid&gt;/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">image_base64_api</span><span class="p">(</span>
            <span class="n">gid</span><span class="p">,</span> <span class="n">thumbnail</span><span class="p">,</span> <span class="n">fresh</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_gid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_gid">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_gid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  self verifier</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_image_funcs --exec-get_image_gid</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.IBEISControl import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; gid_list = ibs.get_valid_gids() + [None, -1, 10434320432]</span>
<span class="sd">            &gt;&gt;&gt; gid_list_ = ibs.get_image_gid(gid_list)</span>
<span class="sd">            &gt;&gt;&gt; assert [r is None for r in gid_list_[-3:]]</span>
<span class="sd">            &gt;&gt;&gt; assert [r is not None for r in gid_list_[0:-3]]</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;gid_list_ = %r&#39; % (gid_list_,))</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_gid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_gids_with_aids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_gids_with_aids">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_gids_with_aids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_gids_with_aids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_valid_image_rowids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_valid_image_rowids">[docs]</a>    <span class="k">def</span> <span class="nf">get_valid_image_rowids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">imgsetid</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">require_unixtime</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
            <span class="n">reviewed</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        alias</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/valid_rowids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_valid_image_rowids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">imgsetid</span><span class="p">,</span> <span class="n">require_unixtime</span><span class="p">,</span> <span class="n">reviewed</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_num_images"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_num_images">[docs]</a>    <span class="k">def</span> <span class="nf">get_num_images</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Number of valid images</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/num/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_num_images</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.add_images"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.add_images">[docs]</a>    <span class="k">def</span> <span class="nf">add_images</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a list of image paths to the database.</span>

<span class="sd">        Initially we set the image_uri to exactely the given gpath.</span>
<span class="sd">        Later we change the uri, but keeping it the same here lets</span>
<span class="sd">        us process images asychronously.</span>

<span class="sd">        Args:</span>
<span class="sd">            gpath_list (list): list of image paths to add</span>
<span class="sd">            params_list (list): metadata list for corresponding images that can either be</span>
<span class="sd">                specified outright or can be parsed from the image data directly if None</span>
<span class="sd">            as_annots (bool): if True, an annotation is automatically added for the entire</span>
<span class="sd">                image</span>
<span class="sd">            auto_localize (bool): if None uses the default specified in ibs.cfg</span>
<span class="sd">            ensure (bool): check to see if the images exist on a \*NIX system.  Defaults to</span>
<span class="sd">                True</span>

<span class="sd">        Returns:</span>
<span class="sd">            gid_list (list of rowids): gids are image rowids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: POST</span>
<span class="sd">            URL:    /api/image/path</span>

<span class="sd">        Example0:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; # Test returns None on fail to add</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_image_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; gpath_list = [&#39;doesnotexist.jpg&#39;]</span>
<span class="sd">            &gt;&gt;&gt; assert not ut.checkpath(gpath_list[0])</span>
<span class="sd">            &gt;&gt;&gt; gid_list = ibs.add_images(gpath_list)</span>
<span class="sd">            &gt;&gt;&gt; assert len(gid_list) == len(gpath_list)</span>
<span class="sd">            &gt;&gt;&gt; assert gid_list[0] is None</span>

<span class="sd">        Example1:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTSET</span>
<span class="sd">            &gt;&gt;&gt; # test double add</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_image_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; new_gpath_list = [ut.grab_test_imgpath(&#39;carl.jpg&#39;)]</span>
<span class="sd">            &gt;&gt;&gt; new_gids1 = ibs.add_images(new_gpath_list, auto_localize=False)</span>
<span class="sd">            &gt;&gt;&gt; new_gids2 = ibs.add_images(new_gpath_list, auto_localize=False)</span>
<span class="sd">            &gt;&gt;&gt; #new_gids2 = ibs.add_images(new_gpath_list, auto_localize=True)</span>
<span class="sd">            &gt;&gt;&gt; assert new_gids1 == new_gids2, &#39;should be the same&#39;</span>
<span class="sd">            &gt;&gt;&gt; new_gpath_list2 = ibs.get_image_paths(new_gids1)</span>
<span class="sd">            &gt;&gt;&gt; assert new_gpath_list == new_gpath_list2, &#39;should not move when autolocalize is False&#39;</span>
<span class="sd">            &gt;&gt;&gt; # Clean things up</span>
<span class="sd">            &gt;&gt;&gt; ibs.delete_images(new_gids1)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">add_images</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.localize_images"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.localize_images">[docs]</a>    <span class="k">def</span> <span class="nf">localize_images</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list_</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Moves the images into the ibeis image cache.</span>
<span class="sd">        Images are renamed to img_uuid.ext</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            gid_list_ (list):</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_image_funcs --test-localize_images</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_image_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; gpath_list  = [ut.unixpath(ut.grab_test_imgpath(&#39;carl.jpg&#39;))]</span>
<span class="sd">            &gt;&gt;&gt; gid_list_   = ibs.add_images(gpath_list, auto_localize=False)</span>
<span class="sd">            &gt;&gt;&gt; gpath_list2 = ibs.get_image_paths(gid_list_)</span>
<span class="sd">            &gt;&gt;&gt; ut.assert_eq(gpath_list, gpath_list2, &#39;should not move when autolocalize is False&#39;)</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; result = localize_images(ibs, gid_list_)</span>
<span class="sd">            &gt;&gt;&gt; gpath_list3 = ibs.get_image_paths(gid_list_)</span>
<span class="sd">            &gt;&gt;&gt; assert gpath_list3 != gpath_list2, &#39;should now be different gpath_list3=%r&#39; % (gpath_list3,)</span>
<span class="sd">            &gt;&gt;&gt; gpath3 = gpath_list3[0]</span>
<span class="sd">            &gt;&gt;&gt; rel_gpath3 = ut.relpath_unix(gpath3, ibs.get_workdir())</span>
<span class="sd">            &gt;&gt;&gt; result = rel_gpath3</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            &gt;&gt;&gt; # Clean things up</span>
<span class="sd">            &gt;&gt;&gt; ibs.delete_images(gid_list_)</span>
<span class="sd">            testdb1/_ibsdb/images/f498fa6f-6b24-b4fa-7932-2612144fedd5.jpg</span>

<span class="sd">        Ignore:</span>
<span class="sd">            ibs.vd()</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">localize_images</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list_</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_image_uris"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_image_uris">[docs]</a>    <span class="k">def</span> <span class="nf">set_image_uris</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the image URIs to a new local path.</span>
<span class="sd">        This is used when localizing or unlocalizing images.</span>
<span class="sd">        An absolute path can either be on this machine or on the cloud</span>
<span class="sd">        A relative path is relative to the ibeis image cache on this machine.</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/image/uris/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">set_image_uris</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_image_uris_original"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_image_uris_original">[docs]</a>    <span class="k">def</span> <span class="nf">set_image_uris_original</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the (original) image URIs to a new local path.</span>

<span class="sd">        Args:</span>
<span class="sd">            overwrite (bool): If overwrite, replace the information in the database.</span>
<span class="sd">                This ensures that original uris cannot be accidentally overwritten.</span>
<span class="sd">                Defaults to False.</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/image/uris_original/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">set_image_uris_original</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_image_contributor_rowid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_image_contributor_rowid">[docs]</a>    <span class="k">def</span> <span class="nf">set_image_contributor_rowid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the image contributor rowid</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/image/contributor_rowid/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">set_image_contributor_rowid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_image_reviewed"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_image_reviewed">[docs]</a>    <span class="k">def</span> <span class="nf">set_image_reviewed</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the image all instances found bit</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/image/reviewed/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">set_image_reviewed</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_image_enabled"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_image_enabled">[docs]</a>    <span class="k">def</span> <span class="nf">set_image_enabled</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the image all instances found bit</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/image/enabled/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">set_image_enabled</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_image_notes"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_image_notes">[docs]</a>    <span class="k">def</span> <span class="nf">set_image_notes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the image all instances found bit</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/image/notes/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">set_image_notes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_image_unixtime"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_image_unixtime">[docs]</a>    <span class="k">def</span> <span class="nf">set_image_unixtime</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the image unixtime (does not modify exif yet)</span>
<span class="sd">            alias for set_image_time_posix</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/image/unixtime/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">set_image_unixtime</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_image_time_posix"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_image_time_posix">[docs]</a>    <span class="k">def</span> <span class="nf">set_image_time_posix</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">image_rowid_list</span><span class="p">,</span>
            <span class="n">image_time_posix_list</span><span class="p">,</span>
            <span class="n">duplicate_behavior</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        image_time_posix_list -&gt; image.image_time_posix[image_rowid_list]</span>

<span class="sd">        SeeAlso:</span>
<span class="sd">            set_image_unixtime</span>

<span class="sd">        Args:</span>
<span class="sd">            image_rowid_list</span>
<span class="sd">            image_time_posix_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tsetter_native_column</span>
<span class="sd">            tbl = image</span>
<span class="sd">            col = image_time_posix</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/image/time_posix/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">set_image_time_posix</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">image_rowid_list</span><span class="p">,</span> <span class="n">image_time_posix_list</span><span class="p">,</span> <span class="n">duplicate_behavior</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_image_imagesettext"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_image_imagesettext">[docs]</a>    <span class="k">def</span> <span class="nf">set_image_imagesettext</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the encoutertext of each image</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/image/imagesettext/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">set_image_imagesettext</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_image_imgsetids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_image_imgsetids">[docs]</a>    <span class="k">def</span> <span class="nf">set_image_imgsetids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the encoutertext of each image</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/image/imgsetids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">set_image_imgsetids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_image_gps"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_image_gps">[docs]</a>    <span class="k">def</span> <span class="nf">set_image_gps</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        see get_image_gps for how the gps_list should look.</span>
<span class="sd">            lat and lon should be given in degrees</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/image/gps/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">set_image_gps</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
    <span class="k">def</span> <span class="nf">_set_image_sizes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">_set_image_sizes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<div class="viewcode-block" id="ExplicitInjectIBEISController.set_image_orientation"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_image_orientation">[docs]</a>    <span class="k">def</span> <span class="nf">set_image_orientation</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/image/orientation/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">set_image_orientation</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_images"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_images">[docs]</a>    <span class="k">def</span> <span class="nf">get_images</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): a list of images in numpy matrix form by gid</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            gid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: image_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_image_funcs --test-get_images</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Returns the base64 encoded image of image &lt;gid&gt;  # Documented and routed in ibeis.web app.py</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/&lt;gid&gt;</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_image_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; gid_list = ibs.get_valid_gids()[0:1]</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; image_list = get_images(ibs, gid_list)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; result = str(image_list[0].shape)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            (715, 1047, 3)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_images</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_thumbtup"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_thumbtup">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_thumbtup</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list: thumbtup_list - [(thumb_path, img_path, imgsize, bboxes, thetas)]</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/thumbtup/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_thumbtup</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_thumbpath"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_thumbpath">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_thumbpath</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): the thumbnail path of each gid</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/thumbpath/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_thumbpath</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_uuids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_uuids">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_uuids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): a list of image uuids by gid</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            gid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: image_uuid_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_image_funcs --test-get_image_uuids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/uuids/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_image_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; gid_list = ibs.get_valid_gids()</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; image_uuid_list = ibs.get_image_uuids(gid_list)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; result = ut.list_str(image_uuid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [</span>
<span class="sd">                UUID(&#39;66ec193a-1619-b3b6-216d-1784b4833b61&#39;),</span>
<span class="sd">                UUID(&#39;d8903434-942f-e0f5-d6c2-0dcbe3137bf7&#39;),</span>
<span class="sd">                UUID(&#39;b73b72f4-4acb-c445-e72c-05ce02719d3d&#39;),</span>
<span class="sd">                UUID(&#39;0cd05978-3d83-b2ee-2ac9-798dd571c3b3&#39;),</span>
<span class="sd">                UUID(&#39;0a9bc03d-a75e-8d14-0153-e2949502aba7&#39;),</span>
<span class="sd">                UUID(&#39;2deeff06-5546-c752-15dc-2bd0fdb1198a&#39;),</span>
<span class="sd">                UUID(&#39;a9b70278-a936-c1dd-8a3b-bc1e9a998bf0&#39;),</span>
<span class="sd">                UUID(&#39;42fdad98-369a-2cbc-67b1-983d6d6a3a60&#39;),</span>
<span class="sd">                UUID(&#39;c459d381-fd74-1d99-6215-e42e3f432ea9&#39;),</span>
<span class="sd">                UUID(&#39;33fd9813-3a2b-774b-3fcc-4360d1ae151b&#39;),</span>
<span class="sd">                UUID(&#39;97e8ea74-873f-2092-b372-f928a7be30fa&#39;),</span>
<span class="sd">                UUID(&#39;588bc218-83a5-d400-21aa-d499832632b0&#39;),</span>
<span class="sd">                UUID(&#39;163a890c-36f2-981e-3529-c552b6d668a3&#39;),</span>
<span class="sd">            ]</span>
<span class="sd">            &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_uuids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_contributor_rowid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_contributor_rowid">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_contributor_rowid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        contributor_rowid_list &lt;- image.contributor_rowid[image_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;contributor_rowid&quot; in the &quot;image&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            image_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: contributor_rowid_list - list of image contributor rowids by gid</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = contributor_rowid</span>
<span class="sd">            tbl = image</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/contributor_rowid/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_image_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; image_rowid_list = ibs._get_all_image_rowids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; contributor_rowid_list = ibs.get_image_contributor_rowid(image_rowid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; assert len(image_rowid_list) == len(contributor_rowid_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_contributor_rowid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_exts"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_exts">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_exts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): a list of image uuids by gid</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/exts/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_exts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_uris"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_uris">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_uris</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): a list of image uris relative to the image dir by gid</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/uris/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_uris</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_uris_original"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_uris_original">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_uris_original</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): a list of (original) image uris relative to the image dir by gid</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/uris_original/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_uris_original</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_gids_from_uuid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_gids_from_uuid">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_gids_from_uuid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): a list of original image names</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/gids_from_uuid/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_gids_from_uuid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_missing_uuid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_missing_uuid">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_missing_uuid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): a list of missing image uuids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/missing_uuid/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_missing_uuid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_paths"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_paths">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_paths</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            gid_list (list): a list of image absolute paths to img_dir</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: gpath_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_image_funcs --test-get_image_paths</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/paths/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_image_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; #gid_list = ibs.get_valid_gids()</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; #gpath_list = get_image_paths(ibs, gid_list)</span>
<span class="sd">            &gt;&gt;&gt; new_gpath = ut.unixpath(ut.grab_test_imgpath(&#39;carl.jpg&#39;))</span>
<span class="sd">            &gt;&gt;&gt; gid_list = ibs.add_images([new_gpath], auto_localize=False)</span>
<span class="sd">            &gt;&gt;&gt; new_gpath_list = get_image_paths(ibs, gid_list)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; ut.assert_eq(new_gpath, new_gpath_list[0])</span>
<span class="sd">            &gt;&gt;&gt; result = str(new_gpath_list)</span>
<span class="sd">            &gt;&gt;&gt; # clean up the database!</span>
<span class="sd">            &gt;&gt;&gt; ibs.delete_images(gid_list)</span>
<span class="sd">            &gt;&gt;&gt; # ibs.delete_images(new_gids)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_paths</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_detectpaths"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_detectpaths">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_detectpaths</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): a list of image paths resized to a constant area for detection</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/detectpaths/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_detectpaths</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_gnames"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_gnames">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_gnames</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            gid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: gname_list - a list of original image names</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_image_funcs --test-get_image_gnames</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/gnames/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_image_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; gid_list = ibs.get_valid_gids()</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; gname_list = get_image_gnames(ibs, gid_list)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; result = ut.list_str(gname_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [</span>
<span class="sd">                &#39;easy1.JPG&#39;,</span>
<span class="sd">                &#39;easy2.JPG&#39;,</span>
<span class="sd">                &#39;easy3.JPG&#39;,</span>
<span class="sd">                &#39;hard1.JPG&#39;,</span>
<span class="sd">                &#39;hard2.JPG&#39;,</span>
<span class="sd">                &#39;hard3.JPG&#39;,</span>
<span class="sd">                &#39;jeff.png&#39;,</span>
<span class="sd">                &#39;lena.jpg&#39;,</span>
<span class="sd">                &#39;occl1.JPG&#39;,</span>
<span class="sd">                &#39;occl2.JPG&#39;,</span>
<span class="sd">                &#39;polar1.jpg&#39;,</span>
<span class="sd">                &#39;polar2.jpg&#39;,</span>
<span class="sd">                &#39;zebra.jpg&#39;,</span>
<span class="sd">            ]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_gnames</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_sizes"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_sizes">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_sizes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): a list of (width, height) tuples</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/sizes/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_sizes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_widths"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_widths">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_widths</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): a list of (width, height) tuples</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/widths/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_widths</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_heights"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_heights">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_heights</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): a list of (width, height) tuples</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/heights/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_heights</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_unixtime"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_unixtime">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_unixtime</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): a list of times that the images were taken by gid.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): -1 if no timedata exists for a given gid</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/unixtime/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_unixtime</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">input_</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_datetime"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_datetime">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_datetime</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_datetime</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_gps"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_gps">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_gps</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            gps_list (list): -1 if no timedata exists for a given gid</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/gps/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_gps</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_lat"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_lat">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_lat</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/lat/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_lat</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_lon"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_lon">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_lon</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/lon/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_lon</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_orientation"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_orientation">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_orientation</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/orientation/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_orientation</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_orientation_str"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_orientation_str">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_orientation_str</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/orientation_str/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_orientation_str</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_enabled"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_enabled">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_enabled</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): &quot;Image Enabled&quot; flag, true if the image is enabled</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/enabled/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_enabled</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_reviewed"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_reviewed">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_reviewed</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): &quot;All Instances Found&quot; flag, true if all objects of interest</span>
<span class="sd">        (animals) have an ANNOTATION in the image</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/reviewed/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_reviewed</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_detect_confidence"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_detect_confidence">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_detect_confidence</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): image detection confidence as the max of ANNOTATION confidences</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/detect_confidence/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_detect_confidence</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_notes"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_notes">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_notes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): image notes</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/notes/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_notes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_nids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_nids">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_nids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            gid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: nids_list - the name ids associated with an image id</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_image_funcs --test-get_image_nids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/nids/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_image_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; gid_list = ibs.get_valid_gids()</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; nids_list = ibs.get_image_nids(gid_list)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; result = str(nids_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_nids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_species_rowids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_species_rowids">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_species_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): the name ids associated with an image id</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/species_rowids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_species_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_imgsetids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_imgsetids">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_imgsetids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): a list of imageset ids for each image by gid</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/imgsetids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_imgsetids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_imagesettext"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_imagesettext">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_imagesettext</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): a list of imagesettexts for each image by gid</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/imagesettext/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_imagesettext</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_aids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_aids">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_aids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): a list of aids for each image by gid</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            gid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: aids_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_image_funcs --test-get_image_aids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/aids/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_image_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; gid_list = ibs.get_annot_gids(ibs.get_valid_aids())</span>
<span class="sd">            &gt;&gt;&gt; gid_list = gid_list + gid_list[::5]</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; aids_list = get_image_aids(ibs, gid_list)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; result = str(aids_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [[1], [2], [3], [4], [5], [6], [7], [8], [9], [10], [11], [12], [13], [1], [6], [11]]</span>


<span class="sd">        Ignore:</span>
<span class="sd">            print(&#39;len(gid_list) = %r&#39; % (len(gid_list),))</span>
<span class="sd">            print(&#39;len(input_list) = %r&#39; % (len(input_list),))</span>
<span class="sd">            print(&#39;len(pair_list) = %r&#39; % (len(pair_list),))</span>
<span class="sd">            print(&#39;len(aidscol) = %r&#39; % (len(aidscol),))</span>
<span class="sd">            print(&#39;len(gidscol) = %r&#39; % (len(gidscol),))</span>
<span class="sd">            print(&#39;len(unique_gids) = %r&#39; % (len(unique_gids),))</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_aids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_aids_of_species"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_aids_of_species">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_aids_of_species</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): a list of aids for each image by gid filtered by species</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/aids_of_species/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_aids_of_species</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_num_annotations"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_num_annotations">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_num_annotations</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): the number of chips in each image</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/num_annotations/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_num_annotations</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_images"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_images">[docs]</a>    <span class="k">def</span> <span class="nf">delete_images</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        deletes images from the database that belong to gids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: DELETE</span>
<span class="sd">            URL:    /api/image/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # UNPORTED_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; gpath_list = grabdata.get_test_gpaths(ndata=None)[0:4]</span>
<span class="sd">            &gt;&gt;&gt; gid_list = ibs.add_images(gpath_list)</span>
<span class="sd">            &gt;&gt;&gt; bbox_list = [(0, 0, 100, 100)] * len(gid_list)</span>
<span class="sd">            &gt;&gt;&gt; name_list = [&#39;a&#39;, &#39;b&#39;, &#39;a&#39;, &#39;d&#39;]</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.add_annots(gid_list, bbox_list=bbox_list, name_list=name_list)</span>
<span class="sd">            &gt;&gt;&gt; gid = gid_list[0]</span>
<span class="sd">            &gt;&gt;&gt; assert gid is not None, &quot;gid is None&quot;</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_image_aids(gid)</span>
<span class="sd">            &gt;&gt;&gt; assert len(aid_list) == 1, &quot;Length of aid_list=%r&quot; % (len(aid_list),)</span>
<span class="sd">            &gt;&gt;&gt; aid = aid_list[0]</span>
<span class="sd">            &gt;&gt;&gt; assert aid is not None, &quot;aid is None&quot;</span>
<span class="sd">            &gt;&gt;&gt; cid = ibs.get_annot_chip_rowids(aid, ensure=False)</span>
<span class="sd">            &gt;&gt;&gt; fid = ibs.get_annot_feat_rowids(aid, ensure=False)</span>
<span class="sd">            &gt;&gt;&gt; assert cid is None, &quot;cid=%r should be None&quot; % (cid,)</span>
<span class="sd">            &gt;&gt;&gt; assert fid is None, &quot;fid=%r should be None&quot; % (fid,)</span>
<span class="sd">            &gt;&gt;&gt; cid = ibs.get_annot_chip_rowids(aid, ensure=True)</span>
<span class="sd">            &gt;&gt;&gt; fid = ibs.get_annot_feat_rowids(aid, ensure=True)</span>
<span class="sd">            &gt;&gt;&gt; assert cid is not None, &quot;cid should be computed&quot;</span>
<span class="sd">            &gt;&gt;&gt; assert fid is not None, &quot;fid should be computed&quot;</span>
<span class="sd">            &gt;&gt;&gt; gthumbpath = ibs.get_image_thumbpath(gid)</span>
<span class="sd">            &gt;&gt;&gt; athumbpath = ibs.get_annot_chip_thumbpath(aid)</span>
<span class="sd">            &gt;&gt;&gt; ibs.delete_images(gid)</span>
<span class="sd">            &gt;&gt;&gt; all_gids = ibs.get_valid_gids()</span>
<span class="sd">            &gt;&gt;&gt; all_aids = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; all_cids = ibs.get_valid_cids()</span>
<span class="sd">            &gt;&gt;&gt; all_fids = ibs.get_valid_fids()</span>
<span class="sd">            &gt;&gt;&gt; assert gid not in all_gids, &quot;gid still exists&quot;</span>
<span class="sd">            &gt;&gt;&gt; assert aid not in all_aids, &quot;rid %r still exists&quot; % aid</span>
<span class="sd">            &gt;&gt;&gt; assert fid not in all_fids, &quot;fid %r still exists&quot; % fid</span>
<span class="sd">            &gt;&gt;&gt; assert cid not in all_cids, &quot;cid %r still exists&quot; % cid</span>
<span class="sd">            &gt;&gt;&gt; assert not utool.checkpath(gthumbpath), &quot;Thumbnail still exists&quot;</span>
<span class="sd">            &gt;&gt;&gt; assert not utool.checkpath(athumbpath), &quot;ANNOTATION Thumbnail still exists&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">delete_images</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_image_thumbs"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_image_thumbs">[docs]</a>    <span class="k">def</span> <span class="nf">delete_image_thumbs</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Removes image thumbnails from disk</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: DELETE</span>
<span class="sd">            URL:    /api/image/thumbs/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # UNPORTED_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; gpath_list = grabdata.get_test_gpaths(ndata=None)[0:4]</span>
<span class="sd">            &gt;&gt;&gt; gid_list = ibs.add_images(gpath_list)</span>
<span class="sd">            &gt;&gt;&gt; bbox_list = [(0, 0, 100, 100)] * len(gid_list)</span>
<span class="sd">            &gt;&gt;&gt; name_list = [&#39;a&#39;, &#39;b&#39;, &#39;a&#39;, &#39;d&#39;]</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.add_annots(gid_list, bbox_list=bbox_list, name_list=name_list)</span>
<span class="sd">            &gt;&gt;&gt; assert len(aid_list) != 0, &quot;No annotations added&quot;</span>
<span class="sd">            &gt;&gt;&gt; thumbpath_list = ibs.get_image_thumbpath(gid_list)</span>
<span class="sd">            &gt;&gt;&gt; gpath_list = ibs.get_image_paths(gid_list)</span>
<span class="sd">            &gt;&gt;&gt; ibs.delete_image_thumbs(gid_list)</span>
<span class="sd">            &gt;&gt;&gt; assert utool.is_list(thumbpath_list), &quot;thumbpath_list is not a list&quot;</span>
<span class="sd">            &gt;&gt;&gt; assert utool.is_list(gpath_list), &quot;gpath_list is not a list&quot;</span>
<span class="sd">            &gt;&gt;&gt; for path in thumbpath_list:</span>
<span class="sd">            &gt;&gt;&gt;     assert not utool.checkpath(path), &quot;Thumbnail not deleted&quot;</span>
<span class="sd">            &gt;&gt;&gt; for path in gpath_list:</span>
<span class="sd">            &gt;&gt;&gt;     utool.assertpath(path)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">delete_image_thumbs</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_timedelta_posix"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_timedelta_posix">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_timedelta_posix</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">image_rowid_list</span><span class="p">,</span> <span class="n">eager</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        image_timedelta_posix_list &lt;- image.image_timedelta_posix[image_rowid_list]</span>

<span class="sd">        # TODO: INTEGRATE THIS FUNCTION. CURRENTLY OFFSETS ARE ENCODIED DIRECTLY IN UNIXTIME</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;image_timedelta_posix&quot; in the &quot;image&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            image_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: image_timedelta_posix_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = image_timedelta_posix</span>
<span class="sd">            tbl = image</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/timedelta_posix/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_image_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; image_rowid_list = ibs._get_all_image_rowids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; image_timedelta_posix_list = ibs.get_image_timedelta_posix(image_rowid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; assert len(image_rowid_list) == len(image_timedelta_posix_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_timedelta_posix</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">image_rowid_list</span><span class="p">,</span> <span class="n">eager</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_image_timedelta_posix"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_image_timedelta_posix">[docs]</a>    <span class="k">def</span> <span class="nf">set_image_timedelta_posix</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">image_rowid_list</span><span class="p">,</span>
            <span class="n">image_timedelta_posix_list</span><span class="p">,</span>
            <span class="n">duplicate_behavior</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        image_timedelta_posix_list -&gt; image.image_timedelta_posix[image_rowid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            image_rowid_list</span>
<span class="sd">            image_timedelta_posix_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tsetter_native_column</span>
<span class="sd">            tbl = image</span>
<span class="sd">            col = image_timedelta_posix</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/image/timedelta_posix/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">set_image_timedelta_posix</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">image_rowid_list</span><span class="p">,</span> <span class="n">image_timedelta_posix_list</span><span class="p">,</span> <span class="n">duplicate_behavior</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_location_codes"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_location_codes">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_location_codes</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">image_rowid_list</span><span class="p">,</span> <span class="n">eager</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        image_location_code_list &lt;- image.image_location_code[image_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;image_location_code&quot; in the &quot;image&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            image_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: image_location_code_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = image_location_code</span>
<span class="sd">            tbl = image</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/location_codes/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_image_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; image_rowid_list = ibs._get_all_image_rowids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; image_location_code_list = ibs.get_image_location_codes(image_rowid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; assert len(image_rowid_list) == len(image_location_code_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_location_codes</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">image_rowid_list</span><span class="p">,</span> <span class="n">eager</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_image_location_codes"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_image_location_codes">[docs]</a>    <span class="k">def</span> <span class="nf">set_image_location_codes</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">image_rowid_list</span><span class="p">,</span>
            <span class="n">image_location_code_list</span><span class="p">,</span>
            <span class="n">duplicate_behavior</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        image_location_code_list -&gt; image.image_location_code[image_rowid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            image_rowid_list</span>
<span class="sd">            image_location_code_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tsetter_native_column</span>
<span class="sd">            tbl = image</span>
<span class="sd">            col = image_location_code</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/image/location_codes/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">set_image_location_codes</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">image_rowid_list</span><span class="p">,</span> <span class="n">image_location_code_list</span><span class="p">,</span> <span class="n">duplicate_behavior</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_party_rowids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_party_rowids">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_party_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        party_rowid_list &lt;- image.party_rowid[image_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;party_rowid&quot; in the &quot;image&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            image_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: party_rowid_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = party_rowid</span>
<span class="sd">            tbl = image</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/party_rowids/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_image_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; image_rowid_list = ibs._get_all_image_rowids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; party_rowid_list = ibs.get_image_party_rowids(image_rowid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; assert len(image_rowid_list) == len(party_rowid_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_party_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_party_tag"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_party_tag">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_party_tag</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        party_tag_list &lt;- image.party_tag[image_rowid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            image_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: party_tag_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_extern</span>
<span class="sd">            tbl = image</span>
<span class="sd">            externtbl = party</span>
<span class="sd">            externcol = party_tag</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/party_tag/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_image_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; image_rowid_list = ibs._get_all_image_rowids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; party_tag_list = ibs.get_image_party_tag(image_rowid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; assert len(image_rowid_list) == len(party_tag_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_party_tag</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_image_party_rowids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_image_party_rowids">[docs]</a>    <span class="k">def</span> <span class="nf">set_image_party_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        party_rowid_list -&gt; image.party_rowid[image_rowid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            image_rowid_list</span>
<span class="sd">            party_rowid_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tsetter_native_column</span>
<span class="sd">            tbl = image</span>
<span class="sd">            col = party_rowid</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/image/party_rowids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">set_image_party_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_contributor_tag"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_contributor_tag">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_contributor_tag</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        contributor_tag_list &lt;- image.contributor_tag[image_rowid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            image_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: contributor_tag_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_extern</span>
<span class="sd">            tbl = image</span>
<span class="sd">            externtbl = contributor</span>
<span class="sd">            externcol = contributor_tag</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/image/contributor_tag/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_image_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; image_rowid_list = ibs._get_all_image_rowids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; contributor_tag_list = ibs.get_image_contributor_tag(image_rowid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; assert len(image_rowid_list) == len(contributor_tag_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_image_funcs</span><span class="o">.</span><span class="n">get_image_contributor_tag</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.filter_annots_general"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.filter_annots_general">[docs]</a>    <span class="k">def</span> <span class="nf">filter_annots_general</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">aid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">filter_kw</span><span class="o">=</span><span class="p">{},</span>
            <span class="n">verbose</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (list):  list of annotation rowids</span>
<span class="sd">            filter_kw (?):</span>

<span class="sd">        KWargs::</span>
<span class="sd">            has_none_annotmatch, any_match_annotmatch, has_all, is_known,</span>
<span class="sd">            any_match_annot, logic_annot, none_match_annotmatch,</span>
<span class="sd">            max_num_annotmatch, any_startswith_annot, has_any, require_quality,</span>
<span class="sd">            species, any_match, view_ext, has_any_annotmatch, view_pername,</span>
<span class="sd">            max_num_annot, min_timedelta, any_startswith, max_numfeat,</span>
<span class="sd">            any_startswith_annotmatch, been_adjusted, any_endswith_annot,</span>
<span class="sd">            require_viewpoint, logic, has_any_annot, min_num_annotmatch, min_num,</span>
<span class="sd">            min_num_annot, has_all_annot, has_none, min_pername,</span>
<span class="sd">            any_endswith_annotmatch, any_endswith, require_timestamp, none_match,</span>
<span class="sd">            contrib_contains, has_all_annotmatch, logic_annotmatch, min_numfeat,</span>
<span class="sd">            none_match_annot, view_ext1, view_ext2, max_num, has_none_annot,</span>
<span class="sd">            minqual, view</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis --tf filter_annots_general</span>
<span class="sd">            python -m ibeis --tf filter_annots_general --db PZ_Master1 \</span>
<span class="sd">                    --has_any=[needswork,correctable,mildviewpoint] \</span>
<span class="sd">                    --has_none=[viewpoint,photobomb,error:viewpoint,quality] --show</span>

<span class="sd">            python -m ibeis --tf filter_annots_general --db=GZ_Master1  \</span>
<span class="sd">                    --max-numfeat=300 --show --minqual=junk --species=None</span>
<span class="sd">            python -m ibeis --tf filter_annots_general --db=lynx \</span>
<span class="sd">                    --been_adjusted=True</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.init.filter_annots import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; filter_kw = ut.argparse_dict(get_default_annot_filter_form(),</span>
<span class="sd">            &gt;&gt;&gt;                              type_hint=ut.ddict(list, has_any=list,</span>
<span class="sd">            &gt;&gt;&gt;                                                 has_none=list,</span>
<span class="sd">            &gt;&gt;&gt;                                                 logic=str))</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;filter_kw = %s&#39; % (ut.dict_str(filter_kw),))</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; #filter_kw = dict(is_known=True, min_num=1, has_any=&#39;viewpoint&#39;)</span>
<span class="sd">            &gt;&gt;&gt; #filter_kw = dict(is_known=True, min_num=1, any_match=&#39;.*error.*&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list_ = filter_annots_general(ibs, aid_list, filter_kw)</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;len(aid_list_) = %r&#39; % (len(aid_list_),))</span>
<span class="sd">            &gt;&gt;&gt; all_tags = ut.flatten(ibs.get_annot_all_tags(aid_list_))</span>
<span class="sd">            &gt;&gt;&gt; filtered_tag_hist = ut.dict_hist(all_tags)</span>
<span class="sd">            &gt;&gt;&gt; ut.print_dict(filtered_tag_hist, key_order_metric=&#39;val&#39;)</span>
<span class="sd">            &gt;&gt;&gt; ut.print_dict(ibs.get_annot_stats_dict(aid_list_), &#39;annot_stats&#39;)</span>
<span class="sd">            &gt;&gt;&gt; ut.quit_if_noshow()</span>
<span class="sd">            &gt;&gt;&gt; import ibeis.viz.interact</span>
<span class="sd">            &gt;&gt;&gt; ibeis.viz.interact.interact_chip.interact_multichips(ibs, aid_list_)</span>
<span class="sd">            &gt;&gt;&gt; ut.show_if_requested()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">filter_annots</span><span class="o">.</span><span class="n">filter_annots_general</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">filter_kw</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.sample_annots_general"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.sample_annots_general">[docs]</a>    <span class="k">def</span> <span class="nf">sample_annots_general</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">aid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">filter_kw</span><span class="o">=</span><span class="p">{},</span>
            <span class="n">verbose</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  filter + sampling &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">filter_annots</span><span class="o">.</span><span class="n">sample_annots_general</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">filter_kw</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_tag_filterflags"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_tag_filterflags">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_tag_filterflags</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">aid_list</span><span class="p">,</span>
            <span class="n">filter_kw</span><span class="p">,</span>
            <span class="n">request_defaultkw</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Filters annotations by tags including those that is belongs to in a pair</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">filter_annots</span><span class="o">.</span><span class="n">get_annot_tag_filterflags</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">filter_kw</span><span class="p">,</span> <span class="n">request_defaultkw</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.filterannots_by_tags"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.filterannots_by_tags">[docs]</a>    <span class="k">def</span> <span class="nf">filterannots_by_tags</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">filter_kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (list):  list of annotation rowids</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis --tf filterannots_by_tags</span>
<span class="sd">            utprof.py -m ibeis --tf filterannots_by_tags</span>

<span class="sd">        SeeAlso:</span>
<span class="sd">            filter_annotmatch_by_tags</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.init.filter_annots import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;PZ_Master1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; has_any = ut.get_argval(&#39;--tags&#39;, type_=list,</span>
<span class="sd">            &gt;&gt;&gt;                         default=[&#39;SceneryMatch&#39;, &#39;Photobomb&#39;])</span>
<span class="sd">            &gt;&gt;&gt; min_num = ut.get_argval(&#39;--min_num&#39;, type_=int, default=1)</span>
<span class="sd">            &gt;&gt;&gt; filter_kw = dict(has_any=has_any, min_num=1)</span>
<span class="sd">            &gt;&gt;&gt; aid_list_ = filterannots_by_tags(ibs, aid_list, filter_kw)</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;aid_list_ = %r&#39; % (aid_list_,))</span>
<span class="sd">            &gt;&gt;&gt; ut.quit_if_noshow()</span>
<span class="sd">            &gt;&gt;&gt; pass</span>
<span class="sd">            &gt;&gt;&gt; # TODO: show special annot group in GUI</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">filter_annots</span><span class="o">.</span><span class="n">filterannots_by_tags</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">filter_kw</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.filter_annots_independent"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.filter_annots_independent">[docs]</a>    <span class="k">def</span> <span class="nf">filter_annots_independent</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">avail_aids</span><span class="p">,</span>
            <span class="n">aidcfg</span><span class="p">,</span>
            <span class="n">prefix</span><span class="o">=</span><span class="s1">u&#39;&#39;</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
            <span class="n">withpre</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Filtering that doesn&#39;t have to do with a reference set of aids</span>

<span class="sd">        TODO make filterflags version</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            avail_aids (list):</span>
<span class="sd">            aidcfg (dict):</span>
<span class="sd">            prefix (str): (default = &#39;&#39;)</span>
<span class="sd">            verbose (bool):  verbosity flag(default = False)</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: avail_aids</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis --tf filter_annots_independent --veryverbtd</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.init.filter_annots import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.expt import annotation_configs</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;PZ_MTEST&#39;)</span>
<span class="sd">            &gt;&gt;&gt; avail_aids = input_aids = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; aidcfg = annotation_configs.default[&#39;dcfg&#39;]</span>
<span class="sd">            &gt;&gt;&gt; aidcfg[&#39;require_timestamp&#39;] = True</span>
<span class="sd">            &gt;&gt;&gt; aidcfg[&#39;require_quality&#39;] = False</span>
<span class="sd">            &gt;&gt;&gt; aidcfg[&#39;is_known&#39;] = True</span>
<span class="sd">            &gt;&gt;&gt; prefix = &#39;&#39;</span>
<span class="sd">            &gt;&gt;&gt; verbose = True</span>
<span class="sd">            &gt;&gt;&gt; avail_aids = filter_annots_independent(ibs, avail_aids, aidcfg,</span>
<span class="sd">            &gt;&gt;&gt;                                        prefix, verbose)</span>
<span class="sd">            &gt;&gt;&gt; result = (&#39;avail_aids = %s&#39; % (str(avail_aids),))</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>

<span class="sd">        Ignore:</span>
<span class="sd">            # Testing tag features</span>
<span class="sd">            python -m ibeis --tf draw_rank_cdf --db PZ_Master1 --show -t best \</span>
<span class="sd">                -a timectrl:qhas_any=\(needswork,correctable,mildviewpoint\),qhas_none=\(viewpoint,photobomb,error:viewpoint,quality\) \</span>
<span class="sd">                ---acfginfo --veryverbtd</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">filter_annots</span><span class="o">.</span><span class="n">filter_annots_independent</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">avail_aids</span><span class="p">,</span> <span class="n">aidcfg</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span> <span class="n">withpre</span><span class="p">)</span>
</div>
    <span class="k">def</span> <span class="nf">_get_all_party_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        all_party_rowids &lt;- party.get_all_rowids()</span>

<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): unfiltered party_rowids</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tider_all_rowids</span>
<span class="sd">            tbl = party</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control._autogen_party_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, qreq_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; ibs._get_all_party_rowids()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_autogen_party_funcs</span><span class="o">.</span><span class="n">_get_all_party_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>

<div class="viewcode-block" id="ExplicitInjectIBEISController.add_party"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.add_party">[docs]</a>    <span class="k">def</span> <span class="nf">add_party</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">party_tag_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            returns party_rowid_list of added (or already existing partys)</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tadder_native</span>
<span class="sd">            tbl = party</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: POST</span>
<span class="sd">            URL:    /api/autogen/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_autogen_party_funcs</span><span class="o">.</span><span class="n">add_party</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">party_tag_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_party_rowid_from_superkey"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_party_rowid_from_superkey">[docs]</a>    <span class="k">def</span> <span class="nf">get_party_rowid_from_superkey</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">party_tag_list</span><span class="p">,</span> <span class="n">eager</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nInput</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        party_rowid_list &lt;- party[party_tag_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            superkey lists: party_tag_list</span>

<span class="sd">        Returns:</span>
<span class="sd">            party_rowid_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_native_rowid_from_superkey</span>
<span class="sd">            tbl = party</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/autogen/party_rowid_from_superkey/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_autogen_party_funcs</span><span class="o">.</span><span class="n">get_party_rowid_from_superkey</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">party_tag_list</span><span class="p">,</span> <span class="n">eager</span><span class="p">,</span> <span class="n">nInput</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_party_tag"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_party_tag">[docs]</a>    <span class="k">def</span> <span class="nf">get_party_tag</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">party_rowid_list</span><span class="p">,</span> <span class="n">eager</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nInput</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        party_tag_list &lt;- party.party_tag[party_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;party_tag&quot; in the &quot;party&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            party_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: party_tag_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = party_tag</span>
<span class="sd">            tbl = party</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/autogen/party_tag/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control._autogen_party_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, qreq_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; party_rowid_list = ibs._get_all_party_rowids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; party_tag_list = ibs.get_party_tag(party_rowid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; assert len(party_rowid_list) == len(party_tag_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_autogen_party_funcs</span><span class="o">.</span><span class="n">get_party_tag</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">party_rowid_list</span><span class="p">,</span> <span class="n">eager</span><span class="p">,</span> <span class="n">nInput</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.filter_annots_by_tags"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.filter_annots_by_tags">[docs]</a>    <span class="k">def</span> <span class="nf">filter_annots_by_tags</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Filter / Find / Search for annotations with particular tags</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.tag_funcs --exec-filter_annots_by_tags --helpx</span>
<span class="sd">            python -m ibeis.tag_funcs --exec-filter_annots_by_tags --db GZ_Master1</span>
<span class="sd">            python -m ibeis.tag_funcs --exec-filter_annots_by_tags --db GZ_Master1 --min_num=1</span>
<span class="sd">            python -m ibeis.tag_funcs --exec-filter_annots_by_tags --db GZ_Master1 --has_any=lighting --has_all=lighting:underexposed --show</span>

<span class="sd">        SeeAlso:</span>
<span class="sd">            python -m ibeis.init.filter_annots --exec-filter_annots_general</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.tag_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; kwargs = ut.argparse_dict(ut.get_kwdefaults2(filterflags_general_tags), type_hint=ut.ddict(list, logic=str))</span>
<span class="sd">            &gt;&gt;&gt; ut.print_dict(kwargs, &#39;filter args&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.filter_annots_by_tags(aid_list, **kwargs)</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;len(aid_list) = %r&#39; % (len(aid_list),))</span>
<span class="sd">            &gt;&gt;&gt; # print results</span>
<span class="sd">            &gt;&gt;&gt; all_tags = ut.flatten(ibs.get_annot_all_tags(aid_list))</span>
<span class="sd">            &gt;&gt;&gt; filtered_tag_hist = ut.dict_hist(all_tags)</span>
<span class="sd">            &gt;&gt;&gt; ut.print_dict(filtered_tag_hist, key_order_metric=&#39;val&#39;)</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;len(aid_list) = %r&#39; % (len(aid_list),))</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;sum(tags) = %r&#39; % (sum(filtered_tag_hist.values()),))</span>
<span class="sd">            &gt;&gt;&gt; ut.quit_if_noshow()</span>
<span class="sd">            &gt;&gt;&gt; import ibeis.viz.interact</span>
<span class="sd">            &gt;&gt;&gt; ibeis.viz.interact.interact_chip.interact_multichips(ibs, aid_list)</span>
<span class="sd">            &gt;&gt;&gt; ut.show_if_requested()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">tag_funcs</span><span class="o">.</span><span class="n">filter_annots_by_tags</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.filterflags_annot_tags"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.filterflags_annot_tags">[docs]</a>    <span class="k">def</span> <span class="nf">filterflags_annot_tags</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Filter / Find / Search for annotations with particular tags</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">tag_funcs</span><span class="o">.</span><span class="n">filterflags_annot_tags</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.filter_aidpairs_by_tags"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.filter_aidpairs_by_tags">[docs]</a>    <span class="k">def</span> <span class="nf">filter_aidpairs_by_tags</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">has_any</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">has_all</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">min_num</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">max_num</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        list(zip(aid_pairs, undirected_tags))</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">tag_funcs</span><span class="o">.</span><span class="n">filter_aidpairs_by_tags</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">has_any</span><span class="p">,</span> <span class="n">has_all</span><span class="p">,</span> <span class="n">min_num</span><span class="p">,</span> <span class="n">max_num</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annotmatch_case_tags"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annotmatch_case_tags">[docs]</a>    <span class="k">def</span> <span class="nf">get_annotmatch_case_tags</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">annotmatch_rowids</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            annotmatch_rowids (?):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: filtered_aid_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.tag_funcs --exec-get_annotmatch_case_tags</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.tag_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;PZ_Master1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; annotmatch_rowids = ibs._get_all_annotmatch_rowids()</span>
<span class="sd">            &gt;&gt;&gt; tags_list = get_annotmatch_case_tags(ibs, annotmatch_rowids)</span>
<span class="sd">            &gt;&gt;&gt; result = (&#39;tags_list = %s&#39; % (str(tags_list),))</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            tags_list = [[u&#39;occlusion&#39;, u&#39;pose&#39;, &#39;Hard&#39;, &#39;NonDistinct&#39;], [], [&#39;Hard&#39;]]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">tag_funcs</span><span class="o">.</span><span class="n">get_annotmatch_case_tags</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">annotmatch_rowids</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annotmatch_prop"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annotmatch_prop">[docs]</a>    <span class="k">def</span> <span class="nf">get_annotmatch_prop</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">annotmatch_rowids</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        hacky getter for dynamic properties of annotmatches using notes table</span>

<span class="sd">        Args:</span>
<span class="sd">            prop (str):</span>
<span class="sd">            annotmatch_rowids (?):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: filtered_aid_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.tag_funcs --exec-get_annotmatch_prop</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; # Test setting and getting standard keys</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.tag_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; prop = &#39;hard&#39;</span>
<span class="sd">            &gt;&gt;&gt; annotmatch_rowids = ibs._get_all_annotmatch_rowids()</span>
<span class="sd">            &gt;&gt;&gt; flag_list = get_annotmatch_prop(ibs, prop, annotmatch_rowids)</span>
<span class="sd">            &gt;&gt;&gt; flag_list = (&#39;filtered_aid_list = %s&#39; % (str(flag_list),))</span>
<span class="sd">            &gt;&gt;&gt; subset_rowids = annotmatch_rowids[::2]</span>
<span class="sd">            &gt;&gt;&gt; set_annotmatch_prop(ibs, prop, subset_rowids, [True] * len(subset_rowids))</span>
<span class="sd">            &gt;&gt;&gt; flag_list2 = get_annotmatch_prop(ibs, prop, annotmatch_rowids)</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;flag_list2 = %r&#39; % (flag_list2,))</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; # Test setting and getting non-standard keys</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.tag_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; prop = &#39;occlusion&#39;</span>
<span class="sd">            &gt;&gt;&gt; annotmatch_rowids = ibs._get_all_annotmatch_rowids()</span>
<span class="sd">            &gt;&gt;&gt; flag_list = get_annotmatch_prop(ibs, prop, annotmatch_rowids)</span>
<span class="sd">            &gt;&gt;&gt; flag_list = (&#39;filtered_aid_list = %s&#39; % (str(flag_list),))</span>
<span class="sd">            &gt;&gt;&gt; subset_rowids = annotmatch_rowids[1::2]</span>
<span class="sd">            &gt;&gt;&gt; subset_rowids1 = annotmatch_rowids[::2]</span>
<span class="sd">            &gt;&gt;&gt; set_annotmatch_prop(ibs, prop, subset_rowids1, [True] * len(subset_rowids))</span>
<span class="sd">            &gt;&gt;&gt; set_annotmatch_prop(ibs, &#39;pose&#39;, subset_rowids1, [True] * len(subset_rowids))</span>
<span class="sd">            &gt;&gt;&gt; flag_list2 = get_annotmatch_prop(ibs, prop, annotmatch_rowids)</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;flag_list2 = %r&#39; % (flag_list2,))</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">tag_funcs</span><span class="o">.</span><span class="n">get_annotmatch_prop</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">annotmatch_rowids</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annotmatch_prop"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annotmatch_prop">[docs]</a>    <span class="k">def</span> <span class="nf">set_annotmatch_prop</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">annotmatch_rowids</span><span class="p">,</span> <span class="n">flags</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        hacky setter for dynamic properties of annotmatches using notes table</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">tag_funcs</span><span class="o">.</span><span class="n">set_annotmatch_prop</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">annotmatch_rowids</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_prop"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_prop">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_prop</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">flags</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        sets nonstandard properties using the notes column</span>

<span class="sd">        http://localhost:5000/group_review/?aid_list=1,2,3,4</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">tag_funcs</span><span class="o">.</span><span class="n">set_annot_prop</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.append_annot_case_tags"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.append_annot_case_tags">[docs]</a>    <span class="k">def</span> <span class="nf">append_annot_case_tags</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">tag_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generally appends tags to annotations. Careful not to introduce too many</span>
<span class="sd">        random tags. Maybe we should just let that happen and introduce tag-aliases</span>

<span class="sd">        Note: this is more of a set add rather than a list append</span>

<span class="sd">        TODO: remove</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">tag_funcs</span><span class="o">.</span><span class="n">append_annot_case_tags</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">tag_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_case_tags"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_case_tags">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_case_tags</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        returns list of tags. Use instead of get_annot_tag_text</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (list):  list of annotation rowids</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: tags_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.tag_funcs --exec-get_annot_case_tags</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.tag_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.tag_funcs import _parse_note # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; tags_list = get_annot_case_tags(ibs, aid_list)</span>
<span class="sd">            &gt;&gt;&gt; result = (&#39;tags_list = %s&#39; % (str(tags_list),))</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>

<span class="sd">        Ignore:</span>
<span class="sd">            # FIXME incorrporate old tag notes</span>
<span class="sd">            aid_list = ibs.get_valid_aids()</span>
<span class="sd">            notes_list = ibs.get_annot_notes(aid_list)</span>
<span class="sd">            flags = [len(notes) &gt; 0 for notes in notes_list]</span>
<span class="sd">            aid_list = ut.compress(aid_list, flags)</span>
<span class="sd">            notes_list = ut.compress(notes_list, flags)</span>

<span class="sd">            import re</span>
<span class="sd">            notes_list = [note.replace(&#39;rfdetect&#39;, &#39;&#39;) for note in notes_list]</span>
<span class="sd">            notes_list = [note.replace(&#39;&lt;COMMA&gt;&#39;, &#39;;&#39;) for note in notes_list]</span>
<span class="sd">            notes_list = [note.replace(&#39;jpg&#39;, &#39;&#39;) for note in notes_list]</span>
<span class="sd">            notes_list = [note.replace(&#39;&lt;HARDCASE&gt;&#39;, &#39;&#39;) for note in notes_list]</span>
<span class="sd">            notes_list = [note.strip() for note in notes_list]</span>
<span class="sd">            notes_list = [re.sub(&#39;;;*&#39;, &#39;;&#39;, note) for note in notes_list]</span>
<span class="sd">            notes_list = [note.strip(&#39;;&#39;) for note in notes_list]</span>
<span class="sd">            notes_list = [note.strip(&#39;:&#39;) for note in notes_list]</span>
<span class="sd">            notes_list = [note.strip() for note in notes_list]</span>

<span class="sd">            flags = [len(notes) &lt; 70 and len(notes) &gt; 0 for notes in notes_list]</span>
<span class="sd">            aid_list = ut.compress(aid_list, flags)</span>
<span class="sd">            notes_list = ut.compress(notes_list, flags)</span>

<span class="sd">            flags = [&#39;M;&#39; not in notes and &#39;F;&#39; not in notes and &#39;H1&#39; not in notes for notes in notes_list]</span>
<span class="sd">            flags = [ &#39;M;&#39; not in notes and &#39;F;&#39; not in notes and &#39;H1&#39; not in notes for notes in notes_list]</span>
<span class="sd">            aid_list = ut.compress(aid_list, flags)</span>
<span class="sd">            notes_list = ut.compress(notes_list, flags)</span>

<span class="sd">            flags = [&#39;aliases&#39; not in notes for notes in notes_list]</span>
<span class="sd">            aid_list = ut.compress(aid_list, flags)</span>
<span class="sd">            notes_list = ut.compress(notes_list, flags)</span>

<span class="sd">            #flags = [not re.match(&#39;;\d*;&#39;, note) for note  in notes_list]</span>
<span class="sd">            flags = [not re.match(r&#39;\d\d*&#39;, note) for note  in notes_list]</span>
<span class="sd">            aid_list = ut.compress(aid_list, flags)</span>
<span class="sd">            notes_list = ut.compress(notes_list, flags)</span>

<span class="sd">            flags = [not notes.startswith(&#39;Foal;&#39;) for notes in notes_list]</span>
<span class="sd">            aid_list = ut.compress(aid_list, flags)</span>
<span class="sd">            notes_list = ut.compress(notes_list, flags)</span>

<span class="sd">            old_tags_list = [_parse_note(note) for note in notes_list]</span>

<span class="sd">            old_tags = list(set(ut.flatten(old_tags_list)))</span>
<span class="sd">            old_tags = sorted([tag for tag in old_tags if not re.match(r&#39;\d\d*&#39;, tag)])</span>

<span class="sd">            old_to_new = {</span>
<span class="sd">                &#39;gash&#39;:  None,</span>
<span class="sd">                &#39;pose&#39;:  &#39;novelpose&#39;,</span>
<span class="sd">                &#39;vocalizing&#39;: &#39;novelpose&#39;</span>
<span class="sd">                &#39;occlusion&#39;:  &#39;occlusion&#39;,</span>
<span class="sd">            }</span>

<span class="sd">        Ignore:</span>
<span class="sd">            python -m ibeis.tag_funcs --exec-filter_annotmatch_by_tags --show --db PZ_Master1 --tags viewpoint</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">tag_funcs</span><span class="o">.</span><span class="n">get_annot_case_tags</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_annotmatch_tags"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_annotmatch_tags">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_annotmatch_tags</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (list):  list of annotation rowids</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: annotmatch_tags_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.tag_funcs --exec-get_annot_annotmatch_tags --db GZ_Master1</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.tag_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; all_tags = ut.flatten(get_annot_annotmatch_tags(ibs, aid_list))</span>
<span class="sd">            &gt;&gt;&gt; tag_hist = ut.dict_hist(all_tags)</span>
<span class="sd">            &gt;&gt;&gt; ut.print_dict(tag_hist)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">tag_funcs</span><span class="o">.</span><span class="n">get_annot_annotmatch_tags</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_all_tags"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_all_tags">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_all_tags</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.tag_funcs --exec-get_annot_all_tags --db GZ_Master1</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.tag_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; all_tags = ut.flatten(ibs.get_annot_all_tags(aid_list))</span>
<span class="sd">            &gt;&gt;&gt; tag_hist = ut.dict_hist(all_tags)</span>
<span class="sd">            &gt;&gt;&gt; ut.print_dict(tag_hist)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">tag_funcs</span><span class="o">.</span><span class="n">get_annot_all_tags</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
    <span class="k">def</span> <span class="nf">_get_all_gar_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  all_gar_rowids &lt;- gar.get_all_rowids()</span>

<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): unfiltered gar_rowids</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tider_all_rowids</span>
<span class="sd">            tbl = gar</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_garelate_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; ibs._get_all_gar_rowids()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_garelate_funcs</span><span class="o">.</span><span class="n">_get_all_gar_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>

<div class="viewcode-block" id="ExplicitInjectIBEISController.add_gar"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.add_gar">[docs]</a>    <span class="k">def</span> <span class="nf">add_gar</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">annotgroup_rowid_list</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            returns gar_rowid_list of added (or already existing gars)</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tadder_native</span>
<span class="sd">            tbl = gar</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_garelate_funcs</span><span class="o">.</span><span class="n">add_gar</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">annotgroup_rowid_list</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_gar"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_gar">[docs]</a>    <span class="k">def</span> <span class="nf">delete_gar</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gar_rowid_list</span><span class="p">,</span> <span class="n">config2_</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  gar.delete(gar_rowid_list)</span>

<span class="sd">        delete gar rows</span>

<span class="sd">        Args:</span>
<span class="sd">            gar_rowid_list</span>

<span class="sd">        Returns:</span>
<span class="sd">            int: num_deleted</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tdeleter_native_tbl</span>
<span class="sd">            tbl = gar</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_garelate_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; gar_rowid_list = ibs._get_all_gar_rowids()[:2]</span>
<span class="sd">            &gt;&gt;&gt; num_deleted = ibs.delete_gar(gar_rowid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;num_deleted = %r&#39; % (num_deleted,))</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_garelate_funcs</span><span class="o">.</span><span class="n">delete_gar</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gar_rowid_list</span><span class="p">,</span> <span class="n">config2_</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_gar_aid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_gar_aid">[docs]</a>    <span class="k">def</span> <span class="nf">get_gar_aid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  aid_list &lt;- gar.aid[gar_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;aid&quot; in the &quot;gar&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            gar_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: aid_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = aid</span>
<span class="sd">            tbl = gar</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_garelate_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; gar_rowid_list = ibs._get_all_gar_rowids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_gar_aid(gar_rowid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; assert len(gar_rowid_list) == len(aid_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_garelate_funcs</span><span class="o">.</span><span class="n">get_gar_aid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_gar_annotgroup_rowid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_gar_annotgroup_rowid">[docs]</a>    <span class="k">def</span> <span class="nf">get_gar_annotgroup_rowid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  annotgroup_rowid_list &lt;- gar.annotgroup_rowid[gar_rowid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;annotgroup_rowid&quot; in the &quot;gar&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            gar_rowid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: annotgroup_rowid_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = annotgroup_rowid</span>
<span class="sd">            tbl = gar</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_garelate_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; gar_rowid_list = ibs._get_all_gar_rowids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; annotgroup_rowid_list = ibs.get_gar_annotgroup_rowid(gar_rowid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; assert len(gar_rowid_list) == len(annotgroup_rowid_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_garelate_funcs</span><span class="o">.</span><span class="n">get_gar_annotgroup_rowid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_gar_rowid_from_superkey"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_gar_rowid_from_superkey">[docs]</a>    <span class="k">def</span> <span class="nf">get_gar_rowid_from_superkey</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">annotgroup_rowid_list</span><span class="p">,</span>
            <span class="n">aid_list</span><span class="p">,</span>
            <span class="n">eager</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="n">nInput</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  gar_rowid_list &lt;- gar[annotgroup_rowid_list, aid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            superkey lists: annotgroup_rowid_list, aid_list</span>

<span class="sd">        Returns:</span>
<span class="sd">            gar_rowid_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_native_rowid_from_superkey</span>
<span class="sd">            tbl = gar</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_garelate_funcs</span><span class="o">.</span><span class="n">get_gar_rowid_from_superkey</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">annotgroup_rowid_list</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">eager</span><span class="p">,</span> <span class="n">nInput</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.initialize_job_manager"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.initialize_job_manager">[docs]</a>    <span class="k">def</span> <span class="nf">initialize_job_manager</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Run from the webserver</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.web.apis_engine import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # WEB_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.web.apis_engine import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; web_instance = ibeis.opendb_bg_web(db=&#39;testdb1&#39;, wait=10)</span>
<span class="sd">            &gt;&gt;&gt; baseurl = &#39;http://127.0.1.1:5000&#39;</span>
<span class="sd">            &gt;&gt;&gt; _payload = {&#39;image_attrs_list&#39;: [], &#39;annot_attrs_list&#39;: []}</span>
<span class="sd">            &gt;&gt;&gt; payload = ut.map_dict_vals(ut.to_json, _payload)</span>
<span class="sd">            &gt;&gt;&gt; #resp = requests.post(baseurl + &#39;/api/test/helloworld/?f=b&#39;, data=payload)</span>
<span class="sd">            &gt;&gt;&gt; resp = requests.post(baseurl + &#39;/api/image/json/&#39;, data=payload)</span>
<span class="sd">            &gt;&gt;&gt; print(resp)</span>
<span class="sd">            &gt;&gt;&gt; web_instance.terminate()</span>
<span class="sd">            &gt;&gt;&gt; json_dict = resp.json()</span>
<span class="sd">            &gt;&gt;&gt; text = json_dict[&#39;response&#39;]</span>
<span class="sd">            &gt;&gt;&gt; print(text)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">apis_engine</span><span class="o">.</span><span class="n">initialize_job_manager</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.web_check_uuids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.web_check_uuids">[docs]</a>    <span class="k">def</span> <span class="nf">web_check_uuids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">image_uuid_list</span><span class="o">=</span><span class="p">[],</span>
            <span class="n">qannot_uuid_list</span><span class="o">=</span><span class="p">[],</span>
            <span class="n">dannot_uuid_list</span><span class="o">=</span><span class="p">[]):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (ibeis.IBEISController):  image analysis api</span>
<span class="sd">            image_uuid_list (list): (default = [])</span>
<span class="sd">            qannot_uuid_list (list): (default = [])</span>
<span class="sd">            dannot_uuid_list (list): (default = [])</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.web.apis_engine --exec-web_check_uuids --show</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.web.apis_engine import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; image_uuid_list = []</span>
<span class="sd">            &gt;&gt;&gt; qannot_uuid_list = ibs.get_annot_uuids([1, 1, 2, 3, 2, 4])</span>
<span class="sd">            &gt;&gt;&gt; dannot_uuid_list = ibs.get_annot_uuids([1, 2, 3])</span>
<span class="sd">            &gt;&gt;&gt; try:</span>
<span class="sd">            &gt;&gt;&gt;     web_check_uuids(ibs, image_uuid_list, qannot_uuid_list,</span>
<span class="sd">            &gt;&gt;&gt;                     dannot_uuid_list)</span>
<span class="sd">            &gt;&gt;&gt; except controller_inject.DuplicateUUIDException:</span>
<span class="sd">            &gt;&gt;&gt;     pass</span>
<span class="sd">            &gt;&gt;&gt; else:</span>
<span class="sd">            &gt;&gt;&gt;     raise AssertionError(&#39;Should have gotten DuplicateUUIDException&#39;)</span>
<span class="sd">            &gt;&gt;&gt; try:</span>
<span class="sd">            &gt;&gt;&gt;     web_check_uuids(ibs, [1, 2, 3], qannot_uuid_list,</span>
<span class="sd">            &gt;&gt;&gt;                     dannot_uuid_list)</span>
<span class="sd">            &gt;&gt;&gt; except controller_inject.WebMissingUUIDException as ex:</span>
<span class="sd">            &gt;&gt;&gt;     pass</span>
<span class="sd">            &gt;&gt;&gt; else:</span>
<span class="sd">            &gt;&gt;&gt;     raise AssertionError(&#39;Should have gotten WebMissingUUIDException&#39;)</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;Successfully reported errors&#39;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">apis_engine</span><span class="o">.</span><span class="n">web_check_uuids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">image_uuid_list</span><span class="p">,</span> <span class="n">qannot_uuid_list</span><span class="p">,</span> <span class="n">dannot_uuid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.close_job_manager"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.close_job_manager">[docs]</a>    <span class="k">def</span> <span class="nf">close_job_manager</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">apis_engine</span><span class="o">.</span><span class="n">close_job_manager</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.start_identify_annots"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.start_identify_annots">[docs]</a>    <span class="k">def</span> <span class="nf">start_identify_annots</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">qannot_uuid_list</span><span class="p">,</span>
            <span class="n">dannot_uuid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">pipecfg</span><span class="o">=</span><span class="p">{},</span>
            <span class="n">callback_url</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        REST:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL: /api/engine/start_identify_annots/</span>

<span class="sd">        Args:</span>
<span class="sd">            qannot_uuid_list (list) : specifies the query annotations to</span>
<span class="sd">                identify.</span>
<span class="sd">            dannot_uuid_list (list) : specifies the annotations that the</span>
<span class="sd">                algorithm is allowed to use for identification.  If not</span>
<span class="sd">                specified all annotations are used.   (default=None)</span>
<span class="sd">            pipecfg (dict) : dictionary of pipeline configuration arguments</span>
<span class="sd">                (default=None)</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            # Run as main process</span>
<span class="sd">            python -m ibeis.web.apis_engine --exec-start_identify_annots:0</span>
<span class="sd">            # Run using server process</span>
<span class="sd">            python -m ibeis.web.apis_engine --exec-start_identify_annots:1</span>

<span class="sd">            # Split into multiple processes</span>
<span class="sd">            python -m ibeis.web.apis_engine --main --bg</span>
<span class="sd">            python -m ibeis.web.apis_engine --exec-start_identify_annots:1 --fg</span>

<span class="sd">            python -m ibeis.web.apis_engine --exec-start_identify_annots:1 --domain http://52.33.105.88</span>

<span class="sd">            python -m ibeis.web.apis_engine --exec-start_identify_annots:1 --duuids=[]</span>
<span class="sd">            python -m ibeis.web.apis_engine --exec-start_identify_annots:1 --domain http://52.33.105.88 --duuids=03a17411-c226-c960-d180-9fafef88c880</span>


<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.web.apis_engine import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.web import apis_engine</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs, qaids, daids = ibeis.testdata_expanded_aids(</span>
<span class="sd">            &gt;&gt;&gt;     defaultdb=&#39;PZ_MTEST&#39;, a=[&#39;default:qsize=2,dsize=10&#39;])</span>
<span class="sd">            &gt;&gt;&gt; qannot_uuid_list = ibs.get_annot_uuids(qaids)</span>
<span class="sd">            &gt;&gt;&gt; dannot_uuid_list = ibs.get_annot_uuids(daids)</span>
<span class="sd">            &gt;&gt;&gt; pipecfg = {}</span>
<span class="sd">            &gt;&gt;&gt; ibs.initialize_job_manager()</span>
<span class="sd">            &gt;&gt;&gt; jobid = ibs.start_identify_annots(qannot_uuid_list, dannot_uuid_list, pipecfg)</span>
<span class="sd">            &gt;&gt;&gt; result = ibs.wait_for_job_result(jobid, timeout=None, freq=2)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            &gt;&gt;&gt; import utool as ut</span>
<span class="sd">            &gt;&gt;&gt; print(ut.to_json(result))</span>
<span class="sd">            &gt;&gt;&gt; ibs.close_job_manager()</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # WEB_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.web.apis_engine import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; web_ibs = ibeis.opendb_bg_web(&#39;testdb1&#39;, wait=3)  # , domain=&#39;http://52.33.105.88&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aids = web_ibs.send_ibeis_request(&#39;/api/annot/&#39;, &#39;get&#39;)[0:10]</span>
<span class="sd">            &gt;&gt;&gt; uuid_list = web_ibs.send_ibeis_request(&#39;/api/annot/uuids/&#39;, aid_list=aids)</span>
<span class="sd">            &gt;&gt;&gt; quuid_list = ut.get_argval(&#39;--quuids&#39;, type_=list, default=uuid_list)</span>
<span class="sd">            &gt;&gt;&gt; duuid_list = ut.get_argval(&#39;--duuids&#39;, type_=list, default=uuid_list)</span>
<span class="sd">            &gt;&gt;&gt; data = dict(</span>
<span class="sd">            &gt;&gt;&gt;     qannot_uuid_list=quuid_list, dannot_uuid_list=duuid_list,</span>
<span class="sd">            &gt;&gt;&gt;     pipecfg={},</span>
<span class="sd">            &gt;&gt;&gt;     callback_url=&#39;http://127.0.1.1:5832&#39;</span>
<span class="sd">            &gt;&gt;&gt; )</span>
<span class="sd">            &gt;&gt;&gt; # Start callback server</span>
<span class="sd">            &gt;&gt;&gt; bgserver = ensure_simple_server()</span>
<span class="sd">            &gt;&gt;&gt; # --</span>
<span class="sd">            &gt;&gt;&gt; jobid = web_ibs.send_ibeis_request(&#39;/api/engine/start_identify_annots/&#39;, **data)</span>
<span class="sd">            &gt;&gt;&gt; waittime = 1</span>
<span class="sd">            &gt;&gt;&gt; while True:</span>
<span class="sd">            &gt;&gt;&gt;     print(&#39;jobid = %s&#39; % (jobid,))</span>
<span class="sd">            &gt;&gt;&gt;     response1 = web_ibs.send_ibeis_request(&#39;/api/engine/job/status/&#39;, jobid=jobid)</span>
<span class="sd">            &gt;&gt;&gt;     if response1[&#39;jobstatus&#39;] == &#39;completed&#39;:</span>
<span class="sd">            &gt;&gt;&gt;         break</span>
<span class="sd">            &gt;&gt;&gt;     time.sleep(waittime)</span>
<span class="sd">            &gt;&gt;&gt;     waittime = 10</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;response1 = %s&#39; % (response1,))</span>
<span class="sd">            &gt;&gt;&gt; response2 = web_ibs.send_ibeis_request(&#39;/api/engine/job/result/&#39;, jobid=jobid)</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;response2 = %s&#39; % (response2,))</span>
<span class="sd">            &gt;&gt;&gt; cmdict = ut.from_json(response2[&#39;json_result&#39;])[0]</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;Finished test&#39;)</span>
<span class="sd">            &gt;&gt;&gt; web_ibs.terminate2()</span>
<span class="sd">            &gt;&gt;&gt; bgserver.terminate2()</span>

<span class="sd">        Ignore:</span>
<span class="sd">            qaids = daids = ibs.get_valid_aids()</span>
<span class="sd">            http://127.0.1.1:5000/api/engine/start_identify_annots/&#39;</span>
<span class="sd">            jobid = ibs.start_identify_annots(**payload)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">apis_engine</span><span class="o">.</span><span class="n">start_identify_annots</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">qannot_uuid_list</span><span class="p">,</span> <span class="n">dannot_uuid_list</span><span class="p">,</span> <span class="n">pipecfg</span><span class="p">,</span> <span class="n">callback_url</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.start_detect_image"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.start_detect_image">[docs]</a>    <span class="k">def</span> <span class="nf">start_detect_image</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">image_uuid_list</span><span class="p">,</span> <span class="n">callback_url</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        REST:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL: /api/engine/detect/cnn/yolo/</span>

<span class="sd">        Args:</span>
<span class="sd">            image_uuid_list (list) : list of image uuids to detect on.</span>
<span class="sd">            callback_url (url) : url that will be called when detection succeeds or fails</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">apis_engine</span><span class="o">.</span><span class="n">start_detect_image</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">image_uuid_list</span><span class="p">,</span> <span class="n">callback_url</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_job_status"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_job_status">[docs]</a>    <span class="k">def</span> <span class="nf">get_job_status</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">jobid</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Web call that returns the status of a job</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            # Run Everything together</span>
<span class="sd">            python -m ibeis.web.apis_engine --exec-get_job_status</span>

<span class="sd">            # Start job queue in its own process</span>
<span class="sd">            python -m ibeis.web.apis_engine --main --bg</span>
<span class="sd">            # Start web server in its own process</span>
<span class="sd">            ./dev.py --web</span>
<span class="sd">            pass</span>
<span class="sd">            # Run foreground process</span>
<span class="sd">            python -m ibeis.web.apis_engine --exec-get_job_status:0 --fg</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # WEB_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.web.apis_engine import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; web_ibs = ibeis.opendb_bg_web(&#39;testdb1&#39;, wait=3)  # , domain=&#39;http://52.33.105.88&#39;)</span>
<span class="sd">            &gt;&gt;&gt; # Test get status of a job id that does not exist</span>
<span class="sd">            &gt;&gt;&gt; response = web_ibs.send_ibeis_request(&#39;/api/engine/job/status/&#39;, jobid=&#39;badjob&#39;)</span>
<span class="sd">            &gt;&gt;&gt; web_ibs.terminate2()</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">apis_engine</span><span class="o">.</span><span class="n">get_job_status</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">jobid</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_job_result"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_job_result">[docs]</a>    <span class="k">def</span> <span class="nf">get_job_result</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">jobid</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Web call that returns the result of a job</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">apis_engine</span><span class="o">.</span><span class="n">get_job_result</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">jobid</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.wait_for_job_result"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.wait_for_job_result">[docs]</a>    <span class="k">def</span> <span class="nf">wait_for_job_result</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">jobid</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="mf">0.1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">apis_engine</span><span class="o">.</span><span class="n">wait_for_job_result</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">jobid</span><span class="p">,</span> <span class="n">timeout</span><span class="p">,</span> <span class="n">freq</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annotmatch_rowids_from_aid1"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annotmatch_rowids_from_aid1">[docs]</a>    <span class="k">def</span> <span class="nf">get_annotmatch_rowids_from_aid1</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid1_list</span><span class="p">,</span> <span class="n">eager</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nInput</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        TODO autogenerate</span>

<span class="sd">        Returns a list of the aids that were reviewed as candidate matches to the input aid</span>

<span class="sd">        aid_list = ibs.get_valid_aids()</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid1_list (list):</span>
<span class="sd">            eager (bool): (default = True)</span>
<span class="sd">            nInput (None): (default = None)</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: annotmatch_rowid_list</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">annotmatch_funcs</span><span class="o">.</span><span class="n">get_annotmatch_rowids_from_aid1</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid1_list</span><span class="p">,</span> <span class="n">eager</span><span class="p">,</span> <span class="n">nInput</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annotmatch_rowids_from_aid2"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annotmatch_rowids_from_aid2">[docs]</a>    <span class="k">def</span> <span class="nf">get_annotmatch_rowids_from_aid2</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">aid2_list</span><span class="p">,</span>
            <span class="n">eager</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="n">nInput</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">force_method</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        # This one is slow because aid2 is the second part of the index</span>

<span class="sd">        TODO autogenerate</span>

<span class="sd">        Returns a list of the aids that were reviewed as candidate matches to the input aid</span>

<span class="sd">        aid_list = ibs.get_valid_aids()</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.annotmatch_funcs --exec-get_annotmatch_rowids_from_aid2 --show</span>

<span class="sd">        Example2:</span>
<span class="sd">            &gt;&gt;&gt; # TIME TEST</span>
<span class="sd">            &gt;&gt;&gt; # setup_pzmtest_subgraph()</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.annotmatch_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;PZ_Master1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid2_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; func_list = [</span>
<span class="sd">            &gt;&gt;&gt;     partial(ibs.get_annotmatch_rowids_from_aid2, force_method=1),</span>
<span class="sd">            &gt;&gt;&gt;     partial(ibs.get_annotmatch_rowids_from_aid2, force_method=2),</span>
<span class="sd">            &gt;&gt;&gt; ]</span>
<span class="sd">            &gt;&gt;&gt; num_list = [1, 10, 50, 100, 300, 325, 350, 400, 500]</span>
<span class="sd">            &gt;&gt;&gt; def args_list(count, aid2_list=aid2_list, num_list=num_list):</span>
<span class="sd">            &gt;&gt;&gt;    return (aid2_list[0:num_list[count]],)</span>
<span class="sd">            &gt;&gt;&gt; searchkw = dict(</span>
<span class="sd">            &gt;&gt;&gt;     func_labels=[&#39;sql&#39;, &#39;numpy&#39;],</span>
<span class="sd">            &gt;&gt;&gt;     count_to_xtick=lambda count, args: len(args[0]),</span>
<span class="sd">            &gt;&gt;&gt;     title=&#39;Timings of get_annotmatch_rowids_from_aid2&#39;,</span>
<span class="sd">            &gt;&gt;&gt; )</span>
<span class="sd">            &gt;&gt;&gt; niters = len(num_list)</span>
<span class="sd">            &gt;&gt;&gt; time_result = ut.gridsearch_timer(func_list, args_list, niters, **searchkw)</span>
<span class="sd">            &gt;&gt;&gt; time_result[&#39;plot_timings&#39;]()</span>
<span class="sd">            &gt;&gt;&gt; ut.show_if_requested()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">annotmatch_funcs</span><span class="o">.</span><span class="n">get_annotmatch_rowids_from_aid2</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid2_list</span><span class="p">,</span> <span class="n">eager</span><span class="p">,</span> <span class="n">nInput</span><span class="p">,</span> <span class="n">force_method</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annotmatch_rowids_from_aid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annotmatch_rowids_from_aid">[docs]</a>    <span class="k">def</span> <span class="nf">get_annotmatch_rowids_from_aid</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">aid_list</span><span class="p">,</span>
            <span class="n">eager</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="n">nInput</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">force_method</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Undirected version</span>

<span class="sd">        TODO autogenerate</span>

<span class="sd">        Returns a list of the aids that were reviewed as candidate matches to the input aid</span>

<span class="sd">        aid_list = ibs.get_valid_aids()</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.annotmatch_funcs --exec-get_annotmatch_rowids_from_aid</span>
<span class="sd">            python -m ibeis.annotmatch_funcs --exec-get_annotmatch_rowids_from_aid:1 --show</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.annotmatch_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # setup_pzmtest_subgraph()</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;PZ_MTEST&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()[0:4]</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; nInput = None</span>
<span class="sd">            &gt;&gt;&gt; annotmatch_rowid_list = get_annotmatch_rowids_from_aid(ibs, aid_list,</span>
<span class="sd">            &gt;&gt;&gt;                                                        eager, nInput)</span>
<span class="sd">            &gt;&gt;&gt; result = (&#39;annotmatch_rowid_list = %s&#39; % (str(annotmatch_rowid_list),))</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>

<span class="sd">        Example2:</span>
<span class="sd">            &gt;&gt;&gt; # TIME TEST</span>
<span class="sd">            &gt;&gt;&gt; # setup_pzmtest_subgraph()</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.annotmatch_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;PZ_Master1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; from functools import partial</span>
<span class="sd">            &gt;&gt;&gt; func_list = [</span>
<span class="sd">            &gt;&gt;&gt;     partial(ibs.get_annotmatch_rowids_from_aid),</span>
<span class="sd">            &gt;&gt;&gt;     partial(ibs.get_annotmatch_rowids_from_aid, force_method=1),</span>
<span class="sd">            &gt;&gt;&gt;     partial(ibs.get_annotmatch_rowids_from_aid, force_method=2),</span>
<span class="sd">            &gt;&gt;&gt; ]</span>
<span class="sd">            &gt;&gt;&gt; num_list = [1, 10, 50, 100, 300, 325, 350, 400, 500]</span>
<span class="sd">            &gt;&gt;&gt; def args_list(count, aid_list=aid_list, num_list=num_list):</span>
<span class="sd">            &gt;&gt;&gt;    return (aid_list[0:num_list[count]],)</span>
<span class="sd">            &gt;&gt;&gt; searchkw = dict(</span>
<span class="sd">            &gt;&gt;&gt;     func_labels=[&#39;combo&#39;, &#39;sql&#39;, &#39;numpy&#39;],</span>
<span class="sd">            &gt;&gt;&gt;     count_to_xtick=lambda count, args: len(args[0]),</span>
<span class="sd">            &gt;&gt;&gt;     title=&#39;Timings of get_annotmatch_rowids_from_aid&#39;,</span>
<span class="sd">            &gt;&gt;&gt; )</span>
<span class="sd">            &gt;&gt;&gt; niters = len(num_list)</span>
<span class="sd">            &gt;&gt;&gt; time_result = ut.gridsearch_timer(func_list, args_list, niters, **searchkw)</span>
<span class="sd">            &gt;&gt;&gt; time_result[&#39;plot_timings&#39;]()</span>
<span class="sd">            &gt;&gt;&gt; ut.show_if_requested()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">annotmatch_funcs</span><span class="o">.</span><span class="n">get_annotmatch_rowids_from_aid</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">eager</span><span class="p">,</span> <span class="n">nInput</span><span class="p">,</span> <span class="n">force_method</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_pair_as_reviewed"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_pair_as_reviewed">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_pair_as_reviewed</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid1</span><span class="p">,</span> <span class="n">aid2</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  denote that this match was reviewed and keep whatever status it is given &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">annotmatch_funcs</span><span class="o">.</span><span class="n">set_annot_pair_as_reviewed</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid1</span><span class="p">,</span> <span class="n">aid2</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_pair_as_positive_match"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_pair_as_positive_match">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_pair_as_positive_match</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">aid1</span><span class="p">,</span>
            <span class="n">aid2</span><span class="p">,</span>
            <span class="n">dryrun</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
            <span class="n">on_nontrivial_merge</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Safe way to perform links. Errors on invalid operations.</span>

<span class="sd">        TODO: ELEVATE THIS FUNCTION</span>
<span class="sd">        Change into make_task_set_annot_pair_as_positive_match and it returns what</span>
<span class="sd">        needs to be done.</span>

<span class="sd">        Need to test several cases:</span>
<span class="sd">            uknown, unknown</span>
<span class="sd">            knownA, knownA</span>
<span class="sd">            knownB, knownA</span>
<span class="sd">            unknown, knownA</span>
<span class="sd">            knownA, unknown</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid1 (int):  query annotation id</span>
<span class="sd">            aid2 (int):  matching annotation id</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.annotmatch_funcs --test-set_annot_pair_as_positive_match</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.annotmatch_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid1, aid2 = ibs.get_valid_aids()[0:2]</span>
<span class="sd">            &gt;&gt;&gt; dryrun = True</span>
<span class="sd">            &gt;&gt;&gt; status = set_annot_pair_as_positive_match(ibs, aid1, aid2, dryrun)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; print(status)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">annotmatch_funcs</span><span class="o">.</span><span class="n">set_annot_pair_as_positive_match</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid1</span><span class="p">,</span> <span class="n">aid2</span><span class="p">,</span> <span class="n">dryrun</span><span class="p">,</span> <span class="n">on_nontrivial_merge</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_pair_as_negative_match"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_pair_as_negative_match">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_pair_as_negative_match</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">aid1</span><span class="p">,</span>
            <span class="n">aid2</span><span class="p">,</span>
            <span class="n">dryrun</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
            <span class="n">on_nontrivial_split</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        TODO: ELEVATE THIS FUNCTION</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid1 (int):  annotation id</span>
<span class="sd">            aid2 (int):  annotation id</span>
<span class="sd">            dryrun (bool):</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.annotmatch_funcs --test-set_annot_pair_as_negative_match</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.annotmatch_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid1, aid2 = ibs.get_valid_aids()[0:2]</span>
<span class="sd">            &gt;&gt;&gt; dryrun = True</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; result = set_annot_pair_as_negative_match(ibs, aid1, aid2, dryrun)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">annotmatch_funcs</span><span class="o">.</span><span class="n">set_annot_pair_as_negative_match</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid1</span><span class="p">,</span> <span class="n">aid2</span><span class="p">,</span> <span class="n">dryrun</span><span class="p">,</span> <span class="n">on_nontrivial_split</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_pair_as_unknown_match"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_pair_as_unknown_match">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_pair_as_unknown_match</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">aid1</span><span class="p">,</span>
            <span class="n">aid2</span><span class="p">,</span>
            <span class="n">dryrun</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
            <span class="n">on_nontrivial_merge</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">annotmatch_funcs</span><span class="o">.</span><span class="n">set_annot_pair_as_unknown_match</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid1</span><span class="p">,</span> <span class="n">aid2</span><span class="p">,</span> <span class="n">dryrun</span><span class="p">,</span> <span class="n">on_nontrivial_merge</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_pair_timdelta"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_pair_timdelta">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_pair_timdelta</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list1</span><span class="p">,</span> <span class="n">aid_list2</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list1 (int):  list of annotation ids</span>
<span class="sd">            aid_list2 (int):  list of annotation ids</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: timedelta_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.annotmatch_funcs --test-get_annot_pair_timdelta</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.annotmatch_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;PZ_MTEST&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids(hasgt=True)</span>
<span class="sd">            &gt;&gt;&gt; unixtimes = ibs.get_annot_image_unixtimes(aid_list)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ut.compress(aid_list, np.array(unixtimes) != -1)</span>
<span class="sd">            &gt;&gt;&gt; gt_aids_list = ibs.get_annot_groundtruth(aid_list, daid_list=aid_list)</span>
<span class="sd">            &gt;&gt;&gt; aid_list1 = [aid for aid, gt_aids in zip(aid_list, gt_aids_list) if len(gt_aids) &gt; 0][0:5]</span>
<span class="sd">            &gt;&gt;&gt; aid_list2 = [gt_aids[0] for gt_aids in gt_aids_list if len(gt_aids) &gt; 0][0:5]</span>
<span class="sd">            &gt;&gt;&gt; timedelta_list = ibs.get_annot_pair_timdelta(aid_list1, aid_list2)</span>
<span class="sd">            &gt;&gt;&gt; result = ut.numpy_str(timedelta_list, precision=2)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            np.array([  7.57e+07,   7.57e+07,   2.41e+06,   1.98e+08,   9.69e+07], dtype=np.float64)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">annotmatch_funcs</span><span class="o">.</span><span class="n">get_annot_pair_timdelta</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list1</span><span class="p">,</span> <span class="n">aid_list2</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_has_reviewed_matching_aids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_has_reviewed_matching_aids">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_has_reviewed_matching_aids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">eager</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nInput</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">annotmatch_funcs</span><span class="o">.</span><span class="n">get_annot_has_reviewed_matching_aids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">eager</span><span class="p">,</span> <span class="n">nInput</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_num_reviewed_matching_aids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_num_reviewed_matching_aids">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_num_reviewed_matching_aids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid1_list</span><span class="p">,</span> <span class="n">eager</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nInput</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            aid_list (int):  list of annotation ids</span>
<span class="sd">            eager (bool):</span>
<span class="sd">            nInput (None):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: num_annot_reviewed_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.annotmatch_funcs --test-get_annot_num_reviewed_matching_aids</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.annotmatch_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb2&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid1_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; nInput = None</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; num_annot_reviewed_list = get_annot_num_reviewed_matching_aids(ibs, aid_list, eager, nInput)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; result = str(num_annot_reviewed_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">annotmatch_funcs</span><span class="o">.</span><span class="n">get_annot_num_reviewed_matching_aids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid1_list</span><span class="p">,</span> <span class="n">eager</span><span class="p">,</span> <span class="n">nInput</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_reviewed_matching_aids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_reviewed_matching_aids">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_reviewed_matching_aids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">eager</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nInput</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of the aids that were reviewed as candidate matches to the input aid</span>

<span class="sd">        aid_list = ibs.get_valid_aids()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">annotmatch_funcs</span><span class="o">.</span><span class="n">get_annot_reviewed_matching_aids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">eager</span><span class="p">,</span> <span class="n">nInput</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_pair_truth"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_pair_truth">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_pair_truth</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid1_list</span><span class="p">,</span> <span class="n">aid2_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CAREFUL: uses annot match table for truth, so only works if reviews have happend</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">annotmatch_funcs</span><span class="o">.</span><span class="n">get_annot_pair_truth</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid1_list</span><span class="p">,</span> <span class="n">aid2_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_pair_is_reviewed"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_pair_is_reviewed">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_pair_is_reviewed</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid1_list</span><span class="p">,</span> <span class="n">aid2_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            aid1_list (list):</span>
<span class="sd">            aid2_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: annotmatch_reviewed_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.annotmatch_funcs --test-get_annot_pair_is_reviewed</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.annotmatch_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb2&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; pairs = list(ut.product(aid_list, aid_list))</span>
<span class="sd">            &gt;&gt;&gt; aid1_list = ut.get_list_column(pairs, 0)</span>
<span class="sd">            &gt;&gt;&gt; aid2_list = ut.get_list_column(pairs, 1)</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; annotmatch_reviewed_list = get_annot_pair_is_reviewed(ibs, aid1_list, aid2_list)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; reviewed_pairs = ut.compress(pairs, annotmatch_reviewed_list)</span>
<span class="sd">            &gt;&gt;&gt; result = len(reviewed_pairs)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            104</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">annotmatch_funcs</span><span class="o">.</span><span class="n">get_annot_pair_is_reviewed</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid1_list</span><span class="p">,</span> <span class="n">aid2_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_chip_fpath"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_chip_fpath">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_chip_fpath</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the cached chip uri based off of the current</span>
<span class="sd">        configuration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            chip_fpath_list (list): cfpaths defined by ANNOTATIONs</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot_chip/fpath/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_chip_funcs</span><span class="o">.</span><span class="n">get_annot_chip_fpath</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_chips"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_chips">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_chips</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (int):  list of annotation ids</span>
<span class="sd">            ensure (bool):  eager evaluation if True</span>
<span class="sd">            config2_ (QueryRequest):  query request object with hyper-parameters</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: chip_list</span>


<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_chip_funcs --test-get_annot_chips</span>
<span class="sd">            python -m ibeis.templates.template_generator --key chip --funcname-filter &#39;\&lt;get_annot_chips\&gt;&#39;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot_chip/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_chip_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()[0:5]</span>
<span class="sd">            &gt;&gt;&gt; config2_ = {&#39;dim_size&#39;: 450, &#39;resize_dim&#39;: &#39;area&#39;}</span>
<span class="sd">            &gt;&gt;&gt; chip_list = get_annot_chips(ibs, aid_list, config2_)</span>
<span class="sd">            &gt;&gt;&gt; chip_sum_list = list(map(np.sum, chip_list))</span>
<span class="sd">            &gt;&gt;&gt; ut.assert_almost_eq(chip_sum_list, [96053500, 65152954, 67223241, 109358624, 73995960], 2000)</span>
<span class="sd">            &gt;&gt;&gt; print(chip_sum_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_chip_funcs</span><span class="o">.</span><span class="n">get_annot_chips</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_chip_sizes"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_chip_sizes">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_chip_sizes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (int):  list of annotation ids</span>
<span class="sd">            ensure (bool):  eager evaluation if True</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: chipsz_list - the (width, height) of computed annotation chips.</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_chip_funcs --test-get_annot_chip_sizes</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot_chip/sizes/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_chip_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()[0:3]</span>
<span class="sd">            &gt;&gt;&gt; ensure = True</span>
<span class="sd">            &gt;&gt;&gt; config2_ = {&#39;dim_size&#39;: 450, &#39;resize_dim&#39;: &#39;area&#39;}</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; chipsz_list = get_annot_chip_sizes(ibs, aid_list, ensure, config2_=config2_)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; result = str(chipsz_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [(545, 372), (603, 336), (520, 390)]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_chip_funcs</span><span class="o">.</span><span class="n">get_annot_chip_sizes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_chip_dlensqrd"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_chip_dlensqrd">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_chip_dlensqrd</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">config2_</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: topx2_dlen_sqrd</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_chip_funcs --test-get_annot_chip_dlensqrd</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot_chip/dlensqrd/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_chip_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; config2_ = {&#39;dim_size&#39;: 450, &#39;resize_dim&#39;: &#39;area&#39;}</span>
<span class="sd">            &gt;&gt;&gt; topx2_dlen_sqrd = ibs.get_annot_chip_dlensqrd(aid_list, config2_=config2_)</span>
<span class="sd">            &gt;&gt;&gt; result = str(topx2_dlen_sqrd)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [435409, 476505, 422500, 422500, 422500, 437924, 405000, 405000, 447805, 420953, 405008, 406265, 512674]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_chip_funcs</span><span class="o">.</span><span class="n">get_annot_chip_dlensqrd</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">config2_</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_chip_thumbpath"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_chip_thumbpath">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_chip_thumbpath</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        just constructs the path. does not compute it. that is done by</span>
<span class="sd">        api_thumb_delegate</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot_chip/thumbpath/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_chip_funcs</span><span class="o">.</span><span class="n">get_annot_chip_thumbpath</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_chip_thumbtup"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_chip_thumbtup">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_chip_thumbtup</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get chip thumb info</span>
<span class="sd">        The return type of this is interpreted and computed in</span>
<span class="sd">        ~/code/guitool/guitool/api_thumb_delegate.py</span>

<span class="sd">        Args:</span>
<span class="sd">            aid_list  (list):</span>
<span class="sd">            thumbsize (int):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: thumbtup_list - [(thumb_path, img_path, imgsize, bboxes, thetas)]</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_chip_funcs --test-get_annot_chip_thumbtup</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot_chip/thumbtup/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_chip_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; thumbsize = 128</span>
<span class="sd">            &gt;&gt;&gt; result = get_annot_chip_thumbtup(ibs, aid_list, thumbsize)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_chip_funcs</span><span class="o">.</span><span class="n">get_annot_chip_thumbtup</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_annot_chips"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_annot_chips">[docs]</a>    <span class="k">def</span> <span class="nf">delete_annot_chips</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clears annotation data (does not remove the annotation)</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: DELETE</span>
<span class="sd">            URL:    /api/annot_chip/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_chip_funcs</span><span class="o">.</span><span class="n">delete_annot_chips</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
    <span class="k">def</span> <span class="nf">_get_all_aids</span><span class="p">(</span><span class="n">ibs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list):  all unfiltered aids (annotation rowids)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">_get_all_aids</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>

<div class="viewcode-block" id="ExplicitInjectIBEISController.get_num_annotations"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_num_annotations">[docs]</a>    <span class="k">def</span> <span class="nf">get_num_annotations</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Number of valid annotations</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/numations/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_num_annotations</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_valid_aids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_valid_aids">[docs]</a>    <span class="k">def</span> <span class="nf">get_valid_aids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">imgsetid</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">include_only_gid_list</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">yaw</span><span class="o">=</span><span class="s1">u&#39;no-filter&#39;</span><span class="p">,</span>
            <span class="n">is_exemplar</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">species</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">is_known</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">hasgt</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">minqual</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">has_timestamp</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">min_timedelta</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        High level function for getting all annotation ids according a set of filters.</span>

<span class="sd">        Note: The yaw value cannot be None as a default because None is used as a</span>
<span class="sd">              filtering value</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            imgsetid (int): imageset id (default = None)</span>
<span class="sd">            include_only_gid_list (list): if specified filters annots not in these gids (default = None)</span>
<span class="sd">            yaw (str): (default = &#39;no-filter&#39;)</span>
<span class="sd">            is_exemplar (bool): if specified filters annots to either be or not be exemplars (default = None)</span>
<span class="sd">            species (str): (default = None)</span>
<span class="sd">            is_known (bool): (default = None)</span>
<span class="sd">            min_timedelta (int): minimum timedelta between annots of known individuals</span>
<span class="sd">            hasgt (bool): (default = None)</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: aid_list - a list of valid ANNOTATION unique ids</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --test-get_valid_aids</span>

<span class="sd">        Ignore:</span>
<span class="sd">            ibs.print_annotation_table()</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; from ibeis import constants as const</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; imgsetid = 1</span>
<span class="sd">            &gt;&gt;&gt; ibs.delete_all_imagesets()</span>
<span class="sd">            &gt;&gt;&gt; ibs.compute_occurrences()</span>
<span class="sd">            &gt;&gt;&gt; include_only_gid_list = None</span>
<span class="sd">            &gt;&gt;&gt; yaw = &#39;no-filter&#39;</span>
<span class="sd">            &gt;&gt;&gt; is_exemplar = None</span>
<span class="sd">            &gt;&gt;&gt; species = const.TEST_SPECIES.ZEB_PLAIN</span>
<span class="sd">            &gt;&gt;&gt; is_known = False</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; aid_list = get_valid_aids(ibs, imgsetid, include_only_gid_list, yaw, is_exemplar, species, is_known)</span>
<span class="sd">            &gt;&gt;&gt; ut.assert_eq(ibs.get_annot_names(aid_list), [const.UNKNOWN] * 2, &#39;bad name&#39;)</span>
<span class="sd">            &gt;&gt;&gt; ut.assert_eq(ibs.get_annot_species(aid_list), [species] * 2, &#39;bad species&#39;)</span>
<span class="sd">            &gt;&gt;&gt; ut.assert_eq(ibs.get_annot_exemplar_flags(aid_list), [False] * 2, &#39;bad exemplar&#39;)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; result = str(aid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [1, 4]</span>

<span class="sd">        Example1:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; aid_list1 = get_valid_aids(ibs, is_exemplar=True)</span>
<span class="sd">            &gt;&gt;&gt; aid_list2 = get_valid_aids(ibs, is_exemplar=False)</span>
<span class="sd">            &gt;&gt;&gt; intersect_aids = set(aid_list1).intersection(aid_list2)</span>
<span class="sd">            &gt;&gt;&gt; ut.assert_eq(len(aid_list1), 9)</span>
<span class="sd">            &gt;&gt;&gt; ut.assert_eq(len(aid_list2), 4)</span>
<span class="sd">            &gt;&gt;&gt; ut.assert_eq(len(intersect_aids), 0)</span>

<span class="sd">        Ignore:</span>
<span class="sd">            import utool as ut</span>
<span class="sd">            setup = ut.codeblock(</span>
<span class="sd">                &#39;&#39;&#39;</span>
<span class="sd">                import ibeis</span>
<span class="sd">                ibs = ibeis.opendb(&#39;PZ_Master1&#39;)</span>
<span class="sd">                &#39;&#39;&#39;</span>
<span class="sd">            )</span>
<span class="sd">            stmt_list = [</span>
<span class="sd">                ut.codeblock(</span>
<span class="sd">                    &#39;&#39;&#39;</span>
<span class="sd">                    ibs.db.get_all_rowids_where(ibs.const.ANNOTATION_TABLE, ibeis.control.DB_SCHEMA.ANNOT_PARENT_ROWID + &quot; IS NULL&quot;, tuple())</span>
<span class="sd">                    &#39;&#39;&#39;),</span>
<span class="sd">                ut.codeblock(</span>
<span class="sd">                    &#39;&#39;&#39;</span>
<span class="sd">                    ibs.db.get_all_rowids(ibs.const.ANNOTATION_TABLE)</span>
<span class="sd">                    &#39;&#39;&#39;),</span>
<span class="sd">            ]</span>
<span class="sd">            iterations = 100</span>
<span class="sd">            verbose = True</span>
<span class="sd">            _ = ut.timeit_compare(stmt_list, setup=setup, iterations=iterations, verbose=verbose)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_valid_aids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">imgsetid</span><span class="p">,</span>
            <span class="n">include_only_gid_list</span><span class="p">,</span>
            <span class="n">yaw</span><span class="p">,</span>
            <span class="n">is_exemplar</span><span class="p">,</span>
            <span class="n">species</span><span class="p">,</span>
            <span class="n">is_known</span><span class="p">,</span>
            <span class="n">hasgt</span><span class="p">,</span>
            <span class="n">minqual</span><span class="p">,</span>
            <span class="n">has_timestamp</span><span class="p">,</span>
            <span class="n">min_timedelta</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.annotation_src_api"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.annotation_src_api">[docs]</a>    <span class="k">def</span> <span class="nf">annotation_src_api</span><span class="p">(</span><span class="n">aid</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the base64 encoded image of annotation &lt;aid&gt;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/&lt;aid&gt;/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">annotation_src_api</span><span class="p">(</span><span class="n">aid</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_aid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_aid">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_aid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  self verifier</span>
<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.IBEISControl import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids() + [None, -1, 10434320432]</span>
<span class="sd">            &gt;&gt;&gt; aid_list_ = ibs.get_annot_aid(aid_list)</span>
<span class="sd">            &gt;&gt;&gt; assert [r is None for r in aid_list_[-3:]]</span>
<span class="sd">            &gt;&gt;&gt; assert [r is not None for r in aid_list_[0:-3]]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_aid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.add_annots"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.add_annots">[docs]</a>    <span class="k">def</span> <span class="nf">add_annots</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds an annotation to images</span>

<span class="sd">        Args:</span>
<span class="sd">            gid_list                 (list): image rowids to add annotation to</span>
<span class="sd">            bbox_list                (list): of [x, y, w, h] bounding boxes for each image (supply verts instead)</span>
<span class="sd">            theta_list               (list): orientations of annotations</span>
<span class="sd">            species_list             (list):</span>
<span class="sd">            nid_list                 (list):</span>
<span class="sd">            name_list                (list):</span>
<span class="sd">            detect_confidence_list   (list):</span>
<span class="sd">            notes_list               (list):</span>
<span class="sd">            vert_list                (list): alternative to bounding box</span>
<span class="sd">            annot_uuid_list          (list):</span>
<span class="sd">            yaw_list           (list):</span>
<span class="sd">            annot_visual_uuid_list   (list):</span>
<span class="sd">            annot_semantic_uuid_list (list):</span>
<span class="sd">            quiet_delete_thumbs      (bool):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: aid_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --test-add_annots</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --test-add_annots --verbose --print-caller</span>

<span class="sd">        Ignore:</span>
<span class="sd">           theta_list = None</span>
<span class="sd">           species_list = None</span>
<span class="sd">           nid_list = None</span>
<span class="sd">           name_list = None</span>
<span class="sd">           detect_confidence_list = None</span>
<span class="sd">           notes_list = None</span>
<span class="sd">           vert_list = None</span>
<span class="sd">           annot_uuid_list = None</span>
<span class="sd">           yaw_list = None</span>
<span class="sd">           quiet_delete_thumbs = False</span>
<span class="sd">           prevent_visual_duplicates = False</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: POST</span>
<span class="sd">            URL:    /api/annot/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.IBEISControl import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; prevalid = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; num_add = 2</span>
<span class="sd">            &gt;&gt;&gt; gid_list = ibs.get_valid_gids()[0:num_add]</span>
<span class="sd">            &gt;&gt;&gt; bbox_list = [(int(w * .1), int(h * .6), int(w * .5), int(h *  .3))</span>
<span class="sd">            ...              for (w, h) in ibs.get_image_sizes(gid_list)]</span>
<span class="sd">            &gt;&gt;&gt; # Add a test annotation</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;Testing add_annots&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.add_annots(gid_list, bbox_list=bbox_list)</span>
<span class="sd">            &gt;&gt;&gt; bbox_list2 = ibs.get_annot_bboxes(aid_list)</span>
<span class="sd">            &gt;&gt;&gt; vert_list2 = ibs.get_annot_verts(aid_list)</span>
<span class="sd">            &gt;&gt;&gt; theta_list2 = ibs.get_annot_thetas(aid_list)</span>
<span class="sd">            &gt;&gt;&gt; name_list2 = ibs.get_annot_names(aid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;Ensure=False. Should get back None chip fpaths&#39;)</span>
<span class="sd">            &gt;&gt;&gt; chip_fpaths2 = ibs.get_annot_chip_fpath(aid_list, ensure=False)</span>
<span class="sd">            &gt;&gt;&gt; assert [fpath is None for fpath in chip_fpaths2], &#39;should not have fpaths&#39;</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;Ensure=True. Should get back None chip fpaths&#39;)</span>
<span class="sd">            &gt;&gt;&gt; chip_fpaths = ibs.get_annot_chip_fpath(aid_list, ensure=True)</span>
<span class="sd">            &gt;&gt;&gt; assert all([ut.checkpath(fpath, verbose=True) for fpath in chip_fpaths]), &#39;paths should exist&#39;</span>
<span class="sd">            &gt;&gt;&gt; ut.assert_eq(len(aid_list), num_add)</span>
<span class="sd">            &gt;&gt;&gt; ut.assert_eq(len(vert_list2[0]), 4)</span>
<span class="sd">            &gt;&gt;&gt; assert bbox_list2 == bbox_list, &#39;bboxes are unequal&#39;</span>
<span class="sd">            &gt;&gt;&gt; # Be sure to remove test annotation</span>
<span class="sd">            &gt;&gt;&gt; # if this test fails a resetdbs might be nessary</span>
<span class="sd">            &gt;&gt;&gt; result = &#39;&#39;</span>
<span class="sd">            &gt;&gt;&gt; visual_uuid_list = ibs.get_annot_visual_uuids(aid_list)</span>
<span class="sd">            &gt;&gt;&gt; semantic_uuid_list = ibs.get_annot_semantic_uuids(aid_list)</span>
<span class="sd">            &gt;&gt;&gt; result += str(visual_uuid_list) + &#39;\n&#39;</span>
<span class="sd">            &gt;&gt;&gt; result += str(semantic_uuid_list) + &#39;\n&#39;</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;Cleaning up. Removing added annotations&#39;)</span>
<span class="sd">            &gt;&gt;&gt; ibs.delete_annots(aid_list)</span>
<span class="sd">            &gt;&gt;&gt; assert not any([ut.checkpath(fpath, verbose=True) for fpath in chip_fpaths])</span>
<span class="sd">            &gt;&gt;&gt; postvalid = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; assert prevalid == postvalid</span>
<span class="sd">            &gt;&gt;&gt; result += str(postvalid)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [UUID(&#39;30f7639b-5161-a561-2c4f-41aed64e5b65&#39;), UUID(&#39;5ccbb26d-104f-e655-cf2b-cf92e0ad2fd2&#39;)]</span>
<span class="sd">            [UUID(&#39;3e3e9c98-e47c-f153-7101-f3d4fdadfb90&#39;), UUID(&#39;dbf3b1a2-2188-75b4-07d4-0ef7e4787d23&#39;)]</span>
<span class="sd">            [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13]</span>

<span class="sd">            # semantic uuids change when hashing is different</span>

<span class="sd">            [UUID(&#39;30f7639b-5161-a561-2c4f-41aed64e5b65&#39;), UUID(&#39;5ccbb26d-104f-e655-cf2b-cf92e0ad2fd2&#39;)]</span>
<span class="sd">            [UUID(&#39;68160c90-4b82-dc96-dafa-b12948739577&#39;), UUID(&#39;03e74d19-1bf7-bc43-a291-8ee06a44da2e&#39;)]</span>
<span class="sd">            [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13]</span>

<span class="sd">        Example2:</span>
<span class="sd">            &gt;&gt;&gt; # Test with prevent_visual_duplicates on</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.IBEISControl import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; prevalid = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; num_add = 1</span>
<span class="sd">            &gt;&gt;&gt; gid_list = ibs.get_valid_gids()[0:1] * num_add</span>
<span class="sd">            &gt;&gt;&gt; bbox_list = [(int(w * .1), int(h * .6), int(w * .5), int(h *  .3))</span>
<span class="sd">            ...              for (w, h) in ibs.get_image_sizes(gid_list)]</span>
<span class="sd">            &gt;&gt;&gt; bbox_list2 = [(int(w * .2), int(h * .6), int(w * .5), int(h *  .3))</span>
<span class="sd">            ...              for (w, h) in ibs.get_image_sizes(gid_list)]</span>
<span class="sd">            &gt;&gt;&gt; # Add a test annotation</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;Testing add_annots&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list1 = ibs.add_annots(gid_list, bbox_list=bbox_list, prevent_visual_duplicates=True)</span>
<span class="sd">            &gt;&gt;&gt; aid_list2 = ibs.add_annots(gid_list, bbox_list=bbox_list, prevent_visual_duplicates=True)</span>
<span class="sd">            &gt;&gt;&gt; aid_list3 = ibs.add_annots(gid_list, bbox_list=bbox_list2, prevent_visual_duplicates=True)</span>
<span class="sd">            &gt;&gt;&gt; assert aid_list1 == aid_list2</span>
<span class="sd">            &gt;&gt;&gt; assert aid_list1 != aid_list3</span>
<span class="sd">            &gt;&gt;&gt; aid_list_new = aid_list1 + aid_list3</span>
<span class="sd">            &gt;&gt;&gt; result = aid_list_new</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;Cleaning up. Removing added annotations&#39;)</span>
<span class="sd">            &gt;&gt;&gt; ibs.delete_annots(aid_list_new)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [14, 15]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">add_annots</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_rows"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_rows">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_rows</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Auto-docstr for &#39;get_annot_rows&#39;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/rows/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_rows</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_annot_nids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_annot_nids">[docs]</a>    <span class="k">def</span> <span class="nf">delete_annot_nids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Remove name assocation from the list of input aids.</span>
<span class="sd">        Does this by setting each annotations nid to the UNKNOWN name rowid</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: DELETE</span>
<span class="sd">            URL:    /api/annot/nids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">delete_annot_nids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_annot_speciesids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_annot_speciesids">[docs]</a>    <span class="k">def</span> <span class="nf">delete_annot_speciesids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Deletes nids of a list of annotations</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: DELETE</span>
<span class="sd">            URL:    /api/annot/speciesids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">delete_annot_speciesids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_annots"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_annots">[docs]</a>    <span class="k">def</span> <span class="nf">delete_annots</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        deletes annotations from the database</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: DELETE</span>
<span class="sd">            URL:    /api/annot/</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (int):  list of annotation ids</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --test-delete_annots</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --test-delete_annots --debug-api-cache</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --test-delete_annots</span>

<span class="sd">        SeeAlso:</span>
<span class="sd">            back.delete_annot</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; ibs.delete_empty_nids()</span>
<span class="sd">            &gt;&gt;&gt; # Add some annotations to delete</span>
<span class="sd">            &gt;&gt;&gt; num_add = 2</span>
<span class="sd">            &gt;&gt;&gt; gid_list = ibs.get_valid_gids()[0:num_add]</span>
<span class="sd">            &gt;&gt;&gt; nid = ibs.make_next_nids(1)[0]</span>
<span class="sd">            &gt;&gt;&gt; nid_list = [nid] * num_add</span>
<span class="sd">            &gt;&gt;&gt; bbox_list = [(int(w * .1), int(h * .6), int(w * .5), int(h *  .3))</span>
<span class="sd">            ...              for (w, h) in ibs.get_image_sizes(gid_list)]</span>
<span class="sd">            &gt;&gt;&gt; new_aid_list = ibs.add_annots(gid_list, bbox_list=bbox_list, nid_list=nid_list)</span>
<span class="sd">            &gt;&gt;&gt; ibs.get_annot_nids(new_aid_list)</span>
<span class="sd">            &gt;&gt;&gt; ut.assert_lists_eq(ibs.get_annot_nids(new_aid_list), nid_list)</span>
<span class="sd">            &gt;&gt;&gt; assert ibs.get_name_aids(nid) == new_aid_list, &#39;annots should all have same name&#39;</span>
<span class="sd">            &gt;&gt;&gt; assert new_aid_list == ibs.get_name_aids(nid), &#39;inverse name mapping should work&#39;</span>
<span class="sd">            &gt;&gt;&gt; before_gids = ibs.get_image_aids(gid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;BEFORE gids: &#39; + str(before_gids))</span>
<span class="sd">            &gt;&gt;&gt; result = ibs.delete_annots(new_aid_list)</span>
<span class="sd">            &gt;&gt;&gt; assert ibs.get_name_aids(nid) == [], &#39;annots should be removed&#39;</span>
<span class="sd">            &gt;&gt;&gt; after_gids = ibs.get_image_aids(gid_list)</span>
<span class="sd">            &gt;&gt;&gt; assert after_gids != before_gids, &#39;the invalidators must have bugs&#39;</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;AFTER gids: &#39; + str(after_gids))</span>
<span class="sd">            &gt;&gt;&gt; valid_aids = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; assert  [aid not in valid_aids for aid in new_aid_list], &#39;should no longer be valid aids&#39;</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            &gt;&gt;&gt; ibs.delete_empty_nids()</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">delete_annots</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_aids_from_semantic_uuid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_aids_from_semantic_uuid">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_aids_from_semantic_uuid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            semantic_uuid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: annot rowids</span>


<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/aids_from_semantic_uuid/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_aids_from_semantic_uuid</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_aids_from_uuid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_aids_from_uuid">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_aids_from_uuid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): annot rowids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/aids_from_uuid/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_aids_from_uuid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_missing_uuid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_missing_uuid">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_missing_uuid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): a list of missing annot uuids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/missing_uuid/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_missing_uuid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_aids_from_visual_uuid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_aids_from_visual_uuid">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_aids_from_visual_uuid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            visual_uuid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: annot rowids</span>


<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/aids_from_visual_uuid/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_aids_from_visual_uuid</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_bboxes"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_bboxes">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_bboxes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            bbox_list (list):  annotation bounding boxes in image space</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/bboxes/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_bboxes</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">input_</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_class_labels"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_class_labels">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_class_labels</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        DEPRICATE?</span>

<span class="sd">        Returns:</span>
<span class="sd">            list of tuples: identifying animal name and view</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/class_labels/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_class_labels</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_detect_confidence"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_detect_confidence">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_detect_confidence</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): a list confidences that the annotations is a valid detection</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/detect_confidence/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_detect_confidence</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_exemplar_flags"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_exemplar_flags">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_exemplar_flags</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        returns if an annotation is an exemplar</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (int):  list of annotation ids</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: annot_exemplar_flag_list - True if annotation is an exemplar</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --test-get_annot_exemplar_flags</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/exemplar_flags/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; gid_list = get_annot_exemplar_flags(ibs, aid_list)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; result = str(gid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_exemplar_flags</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_gids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_gids">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_gids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get parent image rowids of annotations</span>

<span class="sd">        Args:</span>
<span class="sd">            aid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            gid_list (list):  image rowids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/gids/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; result = get_annot_gids(ibs, aid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_gids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_image_rowids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_image_rowids">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_image_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_image_rowids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_imgsetids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_imgsetids">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_imgsetids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get parent image rowids of annotations</span>

<span class="sd">        Args:</span>
<span class="sd">            aid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            imgsetid_list (list):  imageset rowids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/imgsetids/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; result = get_annot_gids(ibs, aid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_imgsetids</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">input_</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_gar_rowids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_gar_rowids">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_gar_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Auto-docstr for &#39;get_annot_gar_rowids&#39;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/gar_rowids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_gar_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_otherimage_aids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_otherimage_aids">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_otherimage_aids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Auto-docstr for &#39;get_annot_otherimage_aids&#39;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/otherimage_aids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_otherimage_aids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_contact_aids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_contact_aids">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_contact_aids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the other aids that appear in the same image that this</span>
<span class="sd">        annotation is from.</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (list):</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --test-get_annot_contact_aids;1</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/contact_aids/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; contact_aids = ibs.get_annot_contact_aids(aid_list)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; contact_gids = ibs.unflat_map(ibs.get_annot_gids, contact_aids)</span>
<span class="sd">            &gt;&gt;&gt; gid_list = ibs.get_annot_gids(aid_list)</span>
<span class="sd">            &gt;&gt;&gt; for gids, gid, aids, aid in zip(contact_gids, gid_list, contact_aids, aid_list):</span>
<span class="sd">            ...     assert ut.allsame(gids), &#39;annots should be from same image&#39;</span>
<span class="sd">            ...     assert len(gids) == 0 or gids[0] == gid, &#39;and same image as parent annot&#39;</span>
<span class="sd">            ...     assert aid not in aids, &#39;should not include self&#39;</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb2&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; contact_aids = ibs.get_annot_contact_aids(aid_list)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; contact_gids = ibs.unflat_map(ibs.get_annot_gids, contact_aids)</span>
<span class="sd">            &gt;&gt;&gt; gid_list = ibs.get_annot_gids(aid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;contact_aids = %r&#39; % (contact_aids,))</span>
<span class="sd">            &gt;&gt;&gt; for gids, gid, aids, aid in zip(contact_gids, gid_list, contact_aids, aid_list):</span>
<span class="sd">            ...     assert ut.allsame(gids), &#39;annots should be from same image&#39;</span>
<span class="sd">            ...     assert len(gids) == 0 or gids[0] == gid, &#39;and same image as parent annot&#39;</span>
<span class="sd">            ...     assert aid not in aids, &#39;should not include self&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_contact_aids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_num_contact_aids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_num_contact_aids">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_num_contact_aids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Auto-docstr for &#39;get_annot_num_contact_aids&#39;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/num_contact_aids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_num_contact_aids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_groundfalse"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_groundfalse">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_groundfalse</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        gets all annotations with different names</span>

<span class="sd">        Returns:</span>
<span class="sd">            groundfalse_list (list): a list of aids which are known to be different for each</span>

<span class="sd">        #Example:</span>
<span class="sd">        #    &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">        #    &gt;&gt;&gt; import ibeis</span>
<span class="sd">        #    &gt;&gt;&gt; ibs = ibeis.opendb(&#39;PZ_MTEST&#39;)</span>
<span class="sd">        #    &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">        #    &gt;&gt;&gt; is_exemplar, noself, daid_list = None, True, None</span>
<span class="sd">        #    &gt;&gt;&gt; groundfalse_list = ibs.get_annot_groundfalse(aid_list)</span>
<span class="sd">        #    &gt;&gt;&gt; result = str(groundtruth_list)</span>
<span class="sd">        #    &gt;&gt;&gt; print(result)</span>


<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/groundfalse/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_groundfalse</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_groundtruth"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_groundtruth">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_groundtruth</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        gets all annotations with the same names</span>

<span class="sd">        Args:</span>
<span class="sd">            aid_list    (list): list of annotation rowids to get groundtruth of</span>
<span class="sd">            is_exemplar (None):</span>
<span class="sd">            noself      (bool):</span>
<span class="sd">            daid_list   (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            groundtruth_list (list): a list of aids with the same name foreach</span>
<span class="sd">            aid in aid_list.  a set of aids belonging to the same name is called</span>
<span class="sd">            a groundtruth.  A list of these is called a groundtruth_list.</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --test-get_annot_groundtruth:0</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --test-get_annot_groundtruth:1</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --test-get_annot_groundtruth:2</span>
<span class="sd">            python -m --tf get_annot_groundtruth:0 --db=PZ_Master0 --aids=97 --exec-mode</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/groundtruth/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ut.get_argval(&#39;--aids&#39;, list, ibs.get_valid_aids())</span>
<span class="sd">            &gt;&gt;&gt; is_exemplar, noself, daid_list = None, True, None</span>
<span class="sd">            &gt;&gt;&gt; groundtruth_list = ibs.get_annot_groundtruth(aid_list, is_exemplar, noself, daid_list)</span>
<span class="sd">            &gt;&gt;&gt; result = &#39;groundtruth_list = &#39; + str(groundtruth_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            groundtruth_list = [[], [3], [2], [], [6], [5], [], [], [], [], [], [], []]</span>

<span class="sd">        Example1:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; is_exemplar, noself, daid_list = True, True, None</span>
<span class="sd">            &gt;&gt;&gt; groundtruth_list = ibs.get_annot_groundtruth(aid_list, is_exemplar, noself, daid_list)</span>
<span class="sd">            &gt;&gt;&gt; result = str(groundtruth_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [[], [3], [2], [], [6], [5], [], [], [], [], [], [], []]</span>

<span class="sd">        Example2:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; is_exemplar, noself, daid_list = False, False, aid_list</span>
<span class="sd">            &gt;&gt;&gt; groundtruth_list = ibs.get_annot_groundtruth(aid_list, is_exemplar, noself, daid_list)</span>
<span class="sd">            &gt;&gt;&gt; result = str(groundtruth_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [[1], [], [], [4], [], [], [], [], [9], [], [11], [], []]</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_groundtruth</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_has_groundtruth"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_has_groundtruth">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_has_groundtruth</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            aid_list    (list):</span>
<span class="sd">            is_exemplar (None):</span>
<span class="sd">            noself      (bool):</span>
<span class="sd">            daid_list   (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: has_gt_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --test-get_annot_has_groundtruth</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/has_groundtruth/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; is_exemplar = None</span>
<span class="sd">            &gt;&gt;&gt; noself = True</span>
<span class="sd">            &gt;&gt;&gt; daid_list = None</span>
<span class="sd">            &gt;&gt;&gt; has_gt_list = get_annot_has_groundtruth(ibs, aid_list, is_exemplar, noself, daid_list)</span>
<span class="sd">            &gt;&gt;&gt; result = str(has_gt_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_has_groundtruth</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_hashid_uuid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_hashid_uuid">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_hashid_uuid</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s1">u&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        builds an aggregate random hash id for a list of aids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/hashid_uuid/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_hashid_uuid</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">prefix</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_hashid_visual_uuid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_hashid_visual_uuid">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_hashid_visual_uuid</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s1">u&#39;&#39;</span><span class="p">,</span> <span class="n">pathsafe</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        builds an aggregate visual hash id for a list of aids</span>

<span class="sd">        Args:</span>
<span class="sd">            _new (bool): Eventually we will change the hashing scheme and all old</span>
<span class="sd">                data will be invalidated. (default=False)</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/hashid_visual_uuid/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_hashid_visual_uuid</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">pathsafe</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_hashid_semantic_uuid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_hashid_semantic_uuid">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_hashid_semantic_uuid</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s1">u&#39;&#39;</span><span class="p">,</span> <span class="n">pathsafe</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        builds an aggregate semantic hash id for a list of aids</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (ibeis.IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (list):  list of annotation rowids</span>
<span class="sd">            prefix (str): (default = &#39;&#39;)</span>
<span class="sd">            _new (bool): Eventually we will change the hashing scheme and all old</span>
<span class="sd">                data will be invalidated. (default=False)</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: semantic_uuid_hashid</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/hashid_semantic_uuid/</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --test-get_annot_hashid_semantic_uuid</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()[0:2]</span>
<span class="sd">            &gt;&gt;&gt; prefix = &#39;&#39;</span>
<span class="sd">            &gt;&gt;&gt; semantic_uuid_hashid = get_annot_hashid_semantic_uuid(ibs, aid_list, prefix)</span>
<span class="sd">            &gt;&gt;&gt; result = ut.list_str(ibs.get_annot_semantic_uuids(aid_list)) + &#39;\n&#39;</span>
<span class="sd">            &gt;&gt;&gt; result += (&#39;semantic_uuid_hashid = %s&#39; % (str(semantic_uuid_hashid),))</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [</span>
<span class="sd">                UUID(&#39;bf774bf3-582d-dbce-6ca6-329adeb086a6&#39;),</span>
<span class="sd">                UUID(&#39;60f10a02-1bd1-c2b4-75bb-a34c0a4b6867&#39;),</span>
<span class="sd">            ]</span>
<span class="sd">            semantic_uuid_hashid = _SUUIDS((2)biovwevqycuemoik)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_hashid_semantic_uuid</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">pathsafe</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_thetas"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_thetas">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_thetas</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            theta_list (list): a list of floats describing the angles of each chip</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --test-get_annot_thetas</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/thetas/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;NAUT_test&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; result = get_annot_thetas(ibs, aid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [2.75742, 0.792917, 2.53605, 2.67795, 0.946773, 2.56729]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_thetas</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_uuids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_uuids">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_uuids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list: annot_uuid_list a list of image uuids by aid</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/uuids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_uuids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_semantic_uuids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_semantic_uuids">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_semantic_uuids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        annot_semantic_uuid_list &lt;- annot.annot_semantic_uuid[aid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;annot_semantic_uuid&quot; in the &quot;annot&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            aid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: annot_semantic_uuid_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --test-get_annot_semantic_uuids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/semantic_uuids/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, qreq_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs._get_all_aids()[0:1]</span>
<span class="sd">            &gt;&gt;&gt; annot_semantic_uuid_list = ibs.get_annot_semantic_uuids(aid_list)</span>
<span class="sd">            &gt;&gt;&gt; assert len(aid_list) == len(annot_semantic_uuid_list)</span>
<span class="sd">            &gt;&gt;&gt; result = annot_semantic_uuid_list</span>
<span class="sd">            [UUID(&#39;bf774bf3-582d-dbce-6ca6-329adeb086a6&#39;)]</span>

<span class="sd">            [UUID(&#39;215ab5f9-fe53-d7d1-59b8-d6b5ce7e6ca6&#39;)]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_semantic_uuids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_visual_uuids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_visual_uuids">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_visual_uuids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The image uuid, annotation verticies, are theta is hashted together to</span>
<span class="sd">        compute the visual uuid.  The visual uuid does not include name or species</span>
<span class="sd">        information.</span>

<span class="sd">        annot_visual_uuid_list &lt;- annot.annot_visual_uuid[aid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;annot_visual_uuid&quot; in the &quot;annot&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            aid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: annot_visual_uuid_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --test-get_annot_visual_uuids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/visual_uuids/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, qreq_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs._get_all_aids()[0:1]</span>
<span class="sd">            &gt;&gt;&gt; annot_visual_uuid_list = ibs.get_annot_visual_uuids(aid_list)</span>
<span class="sd">            &gt;&gt;&gt; assert len(aid_list) == len(annot_visual_uuid_list)</span>
<span class="sd">            &gt;&gt;&gt; result = annot_visual_uuid_list</span>
<span class="sd">            [UUID(&#39;8687dcb6-1f1f-fdd3-8b72-8f36f9f41905&#39;)]</span>

<span class="sd">            [UUID(&#39;76de0416-7c92-e1b3-4a17-25df32e9c2b4&#39;)]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_visual_uuids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_verts"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_verts">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_verts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            vert_list (list): the vertices that form the polygon of each chip</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/verts/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_verts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_rotated_verts"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_rotated_verts">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_rotated_verts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            rotated_vert_list (list): verticies after rotation by theta.</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/rotated_verts/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_rotated_verts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_yaws"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_yaws">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_yaws</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A yaw is the yaw of the annotation in radians</span>
<span class="sd">        Viewpoint yaw is inverted. Will be fixed soon.</span>

<span class="sd">        The following views have these angles of yaw:</span>
<span class="sd">            left side  - 0.50 tau radians</span>
<span class="sd">            front side - 0.25 tau radians</span>
<span class="sd">            right side - 0.00 tau radians</span>
<span class="sd">            back side  - 0.75 tau radians</span>

<span class="sd">            tau = 2 * pi</span>

<span class="sd">        SeeAlso:</span>
<span class="sd">            ibies.const.VIEWTEXT_TO_YAW_RADIANS</span>

<span class="sd">        Returns:</span>
<span class="sd">            yaw_list (list): the yaw (in radians) for the annotation</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --test-get_annot_yaws</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/yaws/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()[::3]</span>
<span class="sd">            &gt;&gt;&gt; result = get_annot_yaws(ibs, aid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [None, None, None, None, None]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_yaws</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_yaws_asfloat"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_yaws_asfloat">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_yaws_asfloat</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Ensures that Nones are returned as nans</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_yaws_asfloat</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_yaws"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_yaws">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_yaws</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the  yaw of a list of chips by aid</span>

<span class="sd">        A yaw is the yaw of the annotation in radians</span>
<span class="sd">        Viewpoint yaw is inverted. Will be fixed soon.</span>

<span class="sd">        Note:</span>
<span class="sd">            The following views have these angles of yaw:</span>
<span class="sd">                left side  - 0.00 tau radians</span>
<span class="sd">                front side - 0.25 tau radians</span>
<span class="sd">                right side - 0.50 tau radians</span>
<span class="sd">                back side  - 0.75 tau radians</span>
<span class="sd">                (tau = 2 * pi)</span>

<span class="sd">        SeeAlso:</span>
<span class="sd">            ibies.const.VIEWTEXT_TO_YAW_RADIANS</span>

<span class="sd">        References:</span>
<span class="sd">            http://upload.wikimedia.org/wikipedia/commons/7/7e/Rollpitchyawplain.png</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/annot/yaws/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">set_annot_yaws</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_notes"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_notes">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_notes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            annotation_notes_list (list): a list of annotation notes</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/notes/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_notes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_num_groundtruth"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_num_groundtruth">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_num_groundtruth</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): number of other chips with the same name</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/num_groundtruth/</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --test-get_annot_num_groundtruth</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --test-get_annot_num_groundtruth:0</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --test-get_annot_num_groundtruth:1</span>

<span class="sd">        Example1:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; noself = True</span>
<span class="sd">            &gt;&gt;&gt; result = get_annot_num_groundtruth(ibs, aid_list, noself=noself)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [0, 1, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0]</span>

<span class="sd">        Example2:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; noself = False</span>
<span class="sd">            &gt;&gt;&gt; result = get_annot_num_groundtruth(ibs, aid_list, noself=noself)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [1, 2, 2, 1, 2, 2, 1, 1, 1, 1, 1, 1, 1]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_num_groundtruth</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_num_verts"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_num_verts">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_num_verts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            nVerts_list (list): the number of vertices that form the polygon of each chip</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/num_verts/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_num_verts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_parent_aid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_parent_aid">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_parent_aid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): a list of parent (in terms of parts) annotation rowids.</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/parent_aid/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_parent_aid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_name_rowids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_name_rowids">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_name_rowids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): the name id of each annotation.</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/name_rowids/</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --exec-get_annot_name_rowids</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; from ibeis import constants as const</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; distinguish_unknowns = True</span>
<span class="sd">            &gt;&gt;&gt; nid_arr1 = np.array(ibs.get_annot_name_rowids(aid_list, distinguish_unknowns=distinguish_unknowns))</span>
<span class="sd">            &gt;&gt;&gt; nid_arr2 = np.array(ibs.get_annot_name_rowids(aid_list, distinguish_unknowns=False))</span>
<span class="sd">            &gt;&gt;&gt; nid_arr2 = np.array(ibs.get_annot_name_rowids(None, distinguish_unknowns=True))</span>
<span class="sd">            &gt;&gt;&gt; assert const.UNKNOWN_LBLANNOT_ROWID == 0</span>
<span class="sd">            &gt;&gt;&gt; assert np.all(nid_arr1[np.where(const.UNKNOWN_LBLANNOT_ROWID == nid_arr2)[0]] &lt; 0)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_name_rowids</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">input_</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_nids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_nids">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_nids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">distinguish_unknowns</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        alias</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/nids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_nids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">distinguish_unknowns</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_names"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_names</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        alias</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/names/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_names</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_name_texts"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_name_texts">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_name_texts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            aid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list or strs: name_list. e.g: [&#39;fred&#39;, &#39;sue&#39;, ...]</span>
<span class="sd">                 for each annotation identifying the individual</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/name_texts/</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --test-get_annot_name_texts</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()[::2]</span>
<span class="sd">            &gt;&gt;&gt; result = ut.list_str(get_annot_name_texts(ibs, aid_list), nl=False)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [&#39;____&#39;, &#39;easy&#39;, &#39;hard&#39;, &#39;jeff&#39;, &#39;____&#39;, &#39;____&#39;, &#39;zebra&#39;]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_name_texts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_species"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_species">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_species</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        alias</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/species/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_species</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_species_texts"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_species_texts">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_species_texts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Args:</span>
<span class="sd">            aid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list : species_list - a list of strings [&#39;plains_zebra&#39;,</span>
<span class="sd">            &#39;grevys_zebra&#39;, ...] for each annotation</span>
<span class="sd">            identifying the species</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --test-get_annot_species_texts</span>

<span class="sd">        Example1:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()[1::3]</span>
<span class="sd">            &gt;&gt;&gt; result = ut.list_str(get_annot_species_texts(ibs, aid_list), nl=False)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [&#39;zebra_plains&#39;, &#39;zebra_plains&#39;, &#39;____&#39;, &#39;bear_polar&#39;]</span>

<span class="sd">        Example2:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;PZ_MTEST&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; species_list = get_annot_species_texts(ibs, aid_list)</span>
<span class="sd">            &gt;&gt;&gt; result = ut.list_str(list(set(species_list)), nl=False)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [&#39;zebra_plains&#39;]</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/species_texts/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_species_texts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_species_rowids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_species_rowids">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_species_rowids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        species_rowid_list &lt;- annot.species_rowid[aid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;species_rowid&quot; in the &quot;annot&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            aid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: species_rowid_list</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/species_rowids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_species_rowids</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">input_</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_image_names"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_image_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_image_names</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            aid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list of strs: gname_list the image names of each annotation</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/image_names/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_image_names</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_image_unixtimes"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_image_unixtimes">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_image_unixtimes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            aid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: unixtime_list</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/image_unixtimes/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_image_unixtimes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_image_unixtimes_asfloat"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_image_unixtimes_asfloat">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_image_unixtimes_asfloat</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (list):  list of annotation rowids</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: unixtime_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --exec-get_annot_image_unixtimes_asfloat --show --db PZ_MTEST</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; unixtime_list = get_annot_image_unixtimes_asfloat(ibs, aid_list)</span>
<span class="sd">            &gt;&gt;&gt; result = (&#39;unixtime_list = %s&#39; % (str(unixtime_list),))</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            &gt;&gt;&gt; ut.quit_if_noshow()</span>
<span class="sd">            &gt;&gt;&gt; import plottool as pt</span>
<span class="sd">            &gt;&gt;&gt; ut.show_if_requested()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_image_unixtimes_asfloat</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_image_datetime"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_image_datetime">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_image_datetime</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (int):  list of annotation ids</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: datetime_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --test-get_annot_image_datetime</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; datetime_list = get_annot_image_datetime(ibs, aid_list)</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; result = str(datetime_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_image_datetime</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_image_gps"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_image_gps">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_image_gps</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            aid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: unixtime_list</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/image_gps/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_image_gps</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_image_paths"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_image_paths">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_image_paths</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            aid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list of strs: gpath_list the image paths of each annotation</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/image_paths/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_image_paths</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_image_uuids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_image_uuids">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_image_uuids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            aid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: image_uuid_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --test-get_annot_image_uuids --enableall</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/image_uuids/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()[0:1]</span>
<span class="sd">            &gt;&gt;&gt; result = get_annot_image_uuids(ibs, aid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [UUID(&#39;66ec193a-1619-b3b6-216d-1784b4833b61&#39;)]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_image_uuids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_images"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_images">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_images</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            aid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list of ndarrays: the images of each annotation</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --test-get_annot_images</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/images/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()[0:1]</span>
<span class="sd">            &gt;&gt;&gt; image_list = ibs.get_annot_images(aid_list)</span>
<span class="sd">            &gt;&gt;&gt; result = str(map(np.shape, image_list))</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [(715, 1047, 3)]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_images</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_visual_uuid_info"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_visual_uuid_info">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_visual_uuid_info</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Returns information used to compute annotation UUID.</span>
<span class="sd">        The image uuid, annotation verticies, are theta is hashted together to</span>
<span class="sd">          compute the visual uuid.</span>
<span class="sd">         The visual uuid does not include name or species information.</span>

<span class="sd">        get_annot_visual_uuid_info</span>

<span class="sd">        Args:</span>
<span class="sd">            aid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            tuple: visual_infotup (image_uuid_list, verts_list, theta_list)</span>

<span class="sd">        SeeAlso:</span>
<span class="sd">            get_annot_visual_uuids</span>
<span class="sd">            get_annot_semantic_uuid_info</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --test-get_annot_visual_uuid_info</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/visual_uuid_info/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.algo.preproc.preproc_annot import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()[0:2]</span>
<span class="sd">            &gt;&gt;&gt; visual_infotup = ibs.get_annot_visual_uuid_info(aid_list)</span>
<span class="sd">            &gt;&gt;&gt; result = str(list(zip(*visual_infotup))[0])</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            (UUID(&#39;66ec193a-1619-b3b6-216d-1784b4833b61&#39;), ((0, 0), (1047, 0), (1047, 715), (0, 715)), 0.0)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_visual_uuid_info</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_semantic_uuid_info"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_semantic_uuid_info">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_semantic_uuid_info</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">_visual_infotup</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Semenatic uuids are made up of visual and semantic information. Semantic</span>
<span class="sd">        information is name, species, viewpoint.  Visual info is image uuid, verts,</span>
<span class="sd">        and theta</span>

<span class="sd">        Args:</span>
<span class="sd">            aid_list (list):</span>
<span class="sd">            _visual_infotup (tuple) : internal use only</span>

<span class="sd">        Returns:</span>
<span class="sd">            tuple:  semantic_infotup (image_uuid_list, verts_list, theta_list, yaw_list, name_list, species_list)</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --test-get_annot_semantic_uuid_info</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/semantic_uuid_info/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.algo.preproc.preproc_annot import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()[0:2]</span>
<span class="sd">            &gt;&gt;&gt; semantic_infotup = ibs.get_annot_semantic_uuid_info(aid_list)</span>
<span class="sd">            &gt;&gt;&gt; result = str(list(zip(*semantic_infotup))[1])</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            (UUID(&#39;d8903434-942f-e0f5-d6c2-0dcbe3137bf7&#39;), ((0, 0), (1035, 0), (1035, 576), (0, 576)), 0.0, None, u&#39;easy&#39;, u&#39;zebra_plains&#39;)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_semantic_uuid_info</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">_visual_infotup</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.update_annot_semantic_uuids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.update_annot_semantic_uuids">[docs]</a>    <span class="k">def</span> <span class="nf">update_annot_semantic_uuids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">_visual_infotup</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Ensures that annots have the proper semantic uuids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/annot/semantic_uuids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">update_annot_semantic_uuids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">_visual_infotup</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.update_annot_visual_uuids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.update_annot_visual_uuids">[docs]</a>    <span class="k">def</span> <span class="nf">update_annot_visual_uuids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Ensures that annots have the proper visual uuids</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (list):  list of annotation rowids</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/annot/visual_uuids/</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --exec-update_annot_visual_uuids --db PZ_Master1</span>
<span class="sd">            python -m ibeis --tf update_annot_visual_uuids --db PZ_Master1</span>
<span class="sd">            python -m ibeis --tf update_annot_visual_uuids --db PZ_Master0</span>
<span class="sd">            python -m ibeis --tf update_annot_visual_uuids --db PZ_MTEST</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # SCRIPT</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs._get_all_aids()</span>
<span class="sd">            &gt;&gt;&gt; update_annot_visual_uuids(ibs, aid_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">update_annot_visual_uuids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_bboxes"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_bboxes">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_bboxes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets bboxes of a list of annotations by aid,</span>

<span class="sd">        Args:</span>
<span class="sd">            aid_list (list of rowids): list of annotation rowids</span>
<span class="sd">            bbox_list (list of (x, y, w, h)): new bounding boxes for each aid</span>

<span class="sd">        Note:</span>
<span class="sd">            set_annot_bboxes is a proxy for set_annot_verts</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/annot/bboxes/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">set_annot_bboxes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_detect_confidence"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_detect_confidence">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_detect_confidence</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets annotation notes</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/annot/detect_confidence/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">set_annot_detect_confidence</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_exemplar_flags"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_exemplar_flags">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_exemplar_flags</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets if an annotation is an exemplar</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/annot/exemplar_flags/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">set_annot_exemplar_flags</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_name_rowids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_name_rowids">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_name_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        name_rowid_list -&gt; annot.name_rowid[aid_list]</span>

<span class="sd">        Sets names/nids of a list of annotations.</span>

<span class="sd">        Args:</span>
<span class="sd">            aid_list (list):</span>
<span class="sd">            name_rowid_list (list):</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/annot/name_rowids/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()[0:2]</span>
<span class="sd">            &gt;&gt;&gt; # check clean state</span>
<span class="sd">            &gt;&gt;&gt; ut.assert_eq(ibs.get_annot_names(aid_list), [&#39;____&#39;, &#39;easy&#39;])</span>
<span class="sd">            &gt;&gt;&gt; ut.assert_eq(ibs.get_annot_exemplar_flags(aid_list), [0, 1])</span>
<span class="sd">            &gt;&gt;&gt; # run function</span>
<span class="sd">            &gt;&gt;&gt; name_list = [&#39;easy&#39;, &#39;____&#39;]</span>
<span class="sd">            &gt;&gt;&gt; name_rowid_list = ibs.get_name_rowids_from_text(name_list)</span>
<span class="sd">            &gt;&gt;&gt; ibs.set_annot_name_rowids(aid_list, name_rowid_list)</span>
<span class="sd">            &gt;&gt;&gt; # check results</span>
<span class="sd">            &gt;&gt;&gt; ut.assert_eq(ibs.get_annot_names(aid_list), [&#39;easy&#39;, &#39;____&#39;])</span>
<span class="sd">            &gt;&gt;&gt; ut.assert_eq(ibs.get_annot_exemplar_flags(aid_list), [0, 0])</span>
<span class="sd">            &gt;&gt;&gt; # restore database state</span>
<span class="sd">            &gt;&gt;&gt; ibs.set_annot_names(aid_list, [&#39;____&#39;, &#39;easy&#39;])</span>
<span class="sd">            &gt;&gt;&gt; ibs.set_annot_exemplar_flags(aid_list, [0, 1])</span>
<span class="sd">            &gt;&gt;&gt; ut.assert_eq(ibs.get_annot_names(aid_list), [&#39;____&#39;, &#39;easy&#39;])</span>
<span class="sd">            &gt;&gt;&gt; ut.assert_eq(ibs.get_annot_exemplar_flags(aid_list), [0, 1])</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">set_annot_name_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_names"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_names">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_names</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the attrlbl_value of type(INDIVIDUAL_KEY) Sets names/nids of a</span>
<span class="sd">        list of annotations.</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --test-set_annot_names --enableall</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/annot/names/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()</span>
<span class="sd">            &gt;&gt;&gt; name_list1 = get_annot_names(ibs, aid_list)</span>
<span class="sd">            &gt;&gt;&gt; name_list2 = [name + &#39;_TESTAUG&#39; for name in name_list1]</span>
<span class="sd">            &gt;&gt;&gt; set_annot_names(ibs, aid_list, name_list2)</span>
<span class="sd">            &gt;&gt;&gt; name_list3 = get_annot_names(ibs, aid_list)</span>
<span class="sd">            &gt;&gt;&gt; set_annot_names(ibs, aid_list, name_list1)</span>
<span class="sd">            &gt;&gt;&gt; name_list4 = get_annot_names(ibs, aid_list)</span>
<span class="sd">            &gt;&gt;&gt; assert name_list2 == name_list3</span>
<span class="sd">            &gt;&gt;&gt; assert name_list4 == name_list1</span>
<span class="sd">            &gt;&gt;&gt; assert name_list4 != name_list2</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">set_annot_names</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_name_texts"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_name_texts">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_name_texts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        alias</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/names/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">set_annot_name_texts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_species"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_species">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_species</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets species/speciesids of a list of annotations.</span>
<span class="sd">        Convenience function for set_annot_lblannot_from_value</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/annot/species/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">set_annot_species</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_species_and_notify"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_species_and_notify">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_species_and_notify</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">set_annot_species_and_notify</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_species_rowids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_species_rowids">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_species_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        species_rowid_list -&gt; annot.species_rowid[aid_list]</span>

<span class="sd">        Sets species/speciesids of a list of annotations.</span>

<span class="sd">        Args:</span>
<span class="sd">            aid_list</span>
<span class="sd">            species_rowid_list</span>


<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/annot/species_rowids/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">set_annot_species_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_notes"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_notes">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_notes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets annotation notes</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/annot/notes/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">set_annot_notes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_parent_rowid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_parent_rowid">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_parent_rowid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the annotation&#39;s parent aid.</span>
<span class="sd">        TODO DEPRICATE IN FAVOR OF SEPARATE PARTS TABLE</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/annot/parent_rowid/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">set_annot_parent_rowid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_thetas"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_thetas">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_thetas</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets thetas of a list of chips by aid</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/annot/thetas/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">set_annot_thetas</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_verts"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_verts">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_verts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the vertices [(x, y), ...] of a list of chips by aid</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/annot/verts/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">set_annot_verts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_probchip_fpath"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_probchip_fpath">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_probchip_fpath</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns paths to probability images.</span>

<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            aid_list (list):  list of annotation rowids</span>
<span class="sd">            config2_ (dict): (default = None)</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/probchip_fpath/</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: probchip_fpath_list</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --exec-get_annot_probchip_fpath --show</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(defaultdb=&#39;PZ_MTEST&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()[0:10]</span>
<span class="sd">            &gt;&gt;&gt; config2_ = ibs.new_query_params({&#39;fw_detector&#39;: &#39;cnn&#39;})</span>
<span class="sd">            &gt;&gt;&gt; probchip_fpath_list = get_annot_probchip_fpath(ibs, aid_list, config2_)</span>
<span class="sd">            &gt;&gt;&gt; result = (&#39;probchip_fpath_list = %s&#39; % (str(probchip_fpath_list),))</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            &gt;&gt;&gt; ut.quit_if_noshow()</span>
<span class="sd">            &gt;&gt;&gt; import plottool as pt</span>
<span class="sd">            &gt;&gt;&gt; iteract_obj = pt.interact_multi_image.MultiImageInteraction(probchip_fpath_list, nPerPage=4)</span>
<span class="sd">            &gt;&gt;&gt; iteract_obj.start()</span>
<span class="sd">            &gt;&gt;&gt; ut.show_if_requested()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_probchip_fpath</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_qualities"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_qualities">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_qualities</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        annot_quality_list &lt;- annot.annot_quality[aid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;annot_quality&quot; in the &quot;annot&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            aid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: annot_quality_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tgetter_table_column</span>
<span class="sd">            col = annot_quality</span>
<span class="sd">            tbl = annot</span>

<span class="sd">        SeeAlso:</span>
<span class="sd">            ibeis.const.QUALITY_INT_TO_TEXT</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/qualities/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, qreq_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs._get_all_aids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; annot_quality_list = ibs.get_annot_qualities(aid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;annot_quality_list = %r&#39; % (annot_quality_list,))</span>
<span class="sd">            &gt;&gt;&gt; assert len(aid_list) == len(annot_quality_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_qualities</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_qualities"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_qualities">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_qualities</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        annot_quality_list -&gt; annot.annot_quality[aid_list]</span>

<span class="sd">        A quality is an integer representing the following types:</span>

<span class="sd">        Args:</span>
<span class="sd">            aid_list</span>
<span class="sd">            annot_quality_list</span>

<span class="sd">        SeeAlso:</span>
<span class="sd">            ibeis.const.QUALITY_INT_TO_TEXT</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/annot/qualities/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">set_annot_qualities</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_quality_texts"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_quality_texts">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_quality_texts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Auto-docstr for &#39;get_annot_quality_texts&#39;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/quality_texts/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_quality_texts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_isjunk"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_isjunk">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_isjunk</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Auto-docstr for &#39;get_annot_isjunk&#39;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/isjunk/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_isjunk</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_yaw_texts"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_yaw_texts">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_yaw_texts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Auto-docstr for &#39;get_annot_yaw_texts&#39;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/yaw_texts/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_yaw_texts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_quality_texts"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_quality_texts">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_quality_texts</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">quality_text_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Auto-docstr for &#39;set_annot_quality_texts&#39;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/annot/quality_texts/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">set_annot_quality_texts</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">quality_text_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_yaw_texts"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_yaw_texts">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_yaw_texts</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">yaw_text_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Auto-docstr for &#39;set_annot_yaw_texts&#39;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/annot/yaw_texts/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">set_annot_yaw_texts</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">yaw_text_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_sex"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_sex">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_sex</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">eager</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nInput</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Auto-docstr for &#39;get_annot_sex&#39;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/sex/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_sex</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">eager</span><span class="p">,</span> <span class="n">nInput</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_sex_texts"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_sex_texts">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_sex_texts</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">eager</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nInput</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Auto-docstr for &#39;get_annot_sex_texts&#39;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/sex_texts/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_sex_texts</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">eager</span><span class="p">,</span> <span class="n">nInput</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_sex"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_sex">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_sex</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">name_sex_list</span><span class="p">,</span> <span class="n">eager</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nInput</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Auto-docstr for &#39;set_annot_sex&#39;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/annot/sex/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">set_annot_sex</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">name_sex_list</span><span class="p">,</span> <span class="n">eager</span><span class="p">,</span> <span class="n">nInput</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_sex_texts"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_sex_texts">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_sex_texts</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">aid_list</span><span class="p">,</span>
            <span class="n">name_sex_text_list</span><span class="p">,</span>
            <span class="n">eager</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="n">nInput</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Auto-docstr for &#39;set_annot_sex_texts&#39;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/annot/sex_texts/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">set_annot_sex_texts</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">name_sex_text_list</span><span class="p">,</span> <span class="n">eager</span><span class="p">,</span> <span class="n">nInput</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_age_months_est_min"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_age_months_est_min">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_age_months_est_min</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">eager</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nInput</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        annot_age_months_est_min_list &lt;- annot.annot_age_months_est_min[aid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;annot_age_months_est_min&quot; in the &quot;annot&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            aid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: annot_age_months_est_min_list</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/age_months_est_min/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs._get_all_aids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; annot_age_months_est_min_list = ibs.get_annot_age_months_est_min(aid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; assert len(aid_list) == len(annot_age_months_est_min_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_age_months_est_min</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">eager</span><span class="p">,</span> <span class="n">nInput</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_age_months_est_max"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_age_months_est_max">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_age_months_est_max</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">eager</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nInput</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        annot_age_months_est_max_list &lt;- annot.annot_age_months_est_max[aid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;annot_age_months_est_max&quot; in the &quot;annot&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            aid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: annot_age_months_est_max_list</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/age_months_est_max/</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs._get_all_aids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; annot_age_months_est_max_list = ibs.get_annot_age_months_est_max(aid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; assert len(aid_list) == len(annot_age_months_est_max_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_age_months_est_max</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">eager</span><span class="p">,</span> <span class="n">nInput</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_age_months_est"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_age_months_est">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_age_months_est</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">eager</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nInput</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        annot_age_months_est_list &lt;- annot.annot_age_months_est[aid_list]</span>

<span class="sd">        gets data from the annotation&#39;s native age in months</span>

<span class="sd">        Args:</span>
<span class="sd">            aid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: annot_age_months_est_list</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/age_months_est/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_age_months_est</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">eager</span><span class="p">,</span> <span class="n">nInput</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_age_months_est_min_texts"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_age_months_est_min_texts">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_age_months_est_min_texts</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">eager</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nInput</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        annot_age_months_est_min_texts_list &lt;- annot.annot_age_months_est_min_texts[aid_list]</span>

<span class="sd">        gets string versions of the annotation&#39;s native min age in months</span>

<span class="sd">        Args:</span>
<span class="sd">            aid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: annot_age_months_est_min_list</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/age_months_est_min_texts/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_age_months_est_min_texts</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">eager</span><span class="p">,</span> <span class="n">nInput</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_age_months_est_max_texts"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_age_months_est_max_texts">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_age_months_est_max_texts</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">eager</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nInput</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        annot_age_months_est_max_texts_list &lt;- annot.annot_age_months_est_max_texts[aid_list]</span>

<span class="sd">        gets string versions of the annotation&#39;s native max age in months</span>

<span class="sd">        Args:</span>
<span class="sd">            aid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: annot_age_months_est_max_list</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/age_months_est_max_texts/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_age_months_est_max_texts</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">eager</span><span class="p">,</span> <span class="n">nInput</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_age_months_est_texts"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_age_months_est_texts">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_age_months_est_texts</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">eager</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nInput</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        annot_age_months_est_texts_list &lt;- annot.annot_age_months_est_texts[aid_list]</span>

<span class="sd">        gets string versions of the annotation&#39;s native combined age in months</span>

<span class="sd">        Args:</span>
<span class="sd">            aid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: annot_age_months_est_text_list</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/age_months_est_texts/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_age_months_est_texts</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">eager</span><span class="p">,</span> <span class="n">nInput</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_age_months_est_min"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_age_months_est_min">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_age_months_est_min</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">aid_list</span><span class="p">,</span>
            <span class="n">annot_age_months_est_min_list</span><span class="p">,</span>
            <span class="n">duplicate_behavior</span><span class="o">=</span><span class="s1">u&#39;error&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        annot_age_months_est_min_list -&gt; annot.annot_age_months_est_min[aid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            aid_list</span>
<span class="sd">            annot_age_months_est_min_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tsetter_native_column</span>
<span class="sd">            tbl = annot</span>
<span class="sd">            col = annot_age_months_est_min</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/annot/age_months_est_min/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">set_annot_age_months_est_min</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">annot_age_months_est_min_list</span><span class="p">,</span> <span class="n">duplicate_behavior</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_age_months_est_max"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_age_months_est_max">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_age_months_est_max</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">aid_list</span><span class="p">,</span>
            <span class="n">annot_age_months_est_max_list</span><span class="p">,</span>
            <span class="n">duplicate_behavior</span><span class="o">=</span><span class="s1">u&#39;error&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        annot_age_months_est_max_list -&gt; annot.annot_age_months_est_max[aid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            aid_list</span>
<span class="sd">            annot_age_months_est_max_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tsetter_native_column</span>
<span class="sd">            tbl = annot</span>
<span class="sd">            col = annot_age_months_est_max</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: PUT</span>
<span class="sd">            URL:    /api/annot/age_months_est_max/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">set_annot_age_months_est_max</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">annot_age_months_est_max_list</span><span class="p">,</span> <span class="n">duplicate_behavior</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_image_contributor_tag"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_image_contributor_tag">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_image_contributor_tag</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Auto-docstr for &#39;get_annot_image_contributor_tag&#39;</span>

<span class="sd">        RESTful:</span>
<span class="sd">            Method: GET</span>
<span class="sd">            URL:    /api/annot/image_contributor_tag/</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_image_contributor_tag</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_rowids_from_partial_vuuids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_rowids_from_partial_vuuids">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_rowids_from_partial_vuuids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            ibs (IBEISController):  ibeis controller object</span>
<span class="sd">            partial_uuid_list (list):</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_annot_funcs --test-get_annots_from_partial_uuids</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()[::2]</span>
<span class="sd">            &gt;&gt;&gt; vuuids = ibs.get_annot_visual_uuids(aid_list)</span>
<span class="sd">            &gt;&gt;&gt; partial_vuuid_strs = [u[0:4] for u in map(str, vuuids)]</span>
<span class="sd">            &gt;&gt;&gt; aids_list = get_annot_rowids_from_partial_vuuids(ibs, partial_uuid_list)</span>
<span class="sd">            &gt;&gt;&gt; print(result)</span>
<span class="sd">            [[1], [3], [5], [7], [9], [11], [13]]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_rowids_from_partial_vuuids</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_tag_text"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_tag_text">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_tag_text</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  annot_tags_list &lt;- annot.annot_tags[aid_list]</span>

<span class="sd">        gets data from the &quot;native&quot; column &quot;annot_tags&quot; in the &quot;annot&quot; table</span>

<span class="sd">        Args:</span>
<span class="sd">            aid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: annot_tags_list</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_annot_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs._get_all_aids()</span>
<span class="sd">            &gt;&gt;&gt; eager = True</span>
<span class="sd">            &gt;&gt;&gt; annot_tags_list = ibs.get_annot_tag_text(aid_list, eager=eager)</span>
<span class="sd">            &gt;&gt;&gt; assert len(aid_list) == len(annot_tags_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">get_annot_tag_text</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.set_annot_tag_text"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.set_annot_tag_text">[docs]</a>    <span class="k">def</span> <span class="nf">set_annot_tag_text</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  annot_tags_list -&gt; annot.annot_tags[aid_list]</span>

<span class="sd">        Args:</span>
<span class="sd">            aid_list</span>
<span class="sd">            annot_tags_list</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">set_annot_tag_text</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.delete_annot_feats"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.delete_annot_feats">[docs]</a>    <span class="k">def</span> <span class="nf">delete_annot_feats</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  annot.feat.delete(aid_list)</span>

<span class="sd">        Args:</span>
<span class="sd">            aid_list</span>

<span class="sd">        TemplateInfo:</span>
<span class="sd">            Tdeleter_rl_depenant</span>
<span class="sd">            root = annot</span>
<span class="sd">            leaf = feat</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_feat_funcs --test-delete_annot_feats</span>
<span class="sd">            python -m ibeis.control.manual_feat_funcs --test-delete_annot_feats --verb-control</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_feat_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs._get_all_aids()[:1]</span>
<span class="sd">            &gt;&gt;&gt; fids_list = ibs.get_annot_feat_rowids(aid_list, config2_=config2_, ensure=True)</span>
<span class="sd">            &gt;&gt;&gt; num_deleted1 = ibs.delete_annot_feats(aid_list, config2_=config2_)</span>
<span class="sd">            &gt;&gt;&gt; ut.assert_eq(num_deleted1, len(fids_list))</span>
<span class="sd">            &gt;&gt;&gt; num_deleted2 = ibs.delete_annot_feats(aid_list, config2_=config2_)</span>
<span class="sd">            &gt;&gt;&gt; ut.assert_eq(num_deleted2, 0)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_feat_funcs</span><span class="o">.</span><span class="n">delete_annot_feats</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_feat_rowids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_feat_rowids">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_feat_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_feat_funcs</span><span class="o">.</span><span class="n">get_annot_feat_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_kpts"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_kpts">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_kpts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            aid_list (int):  list of annotation ids</span>
<span class="sd">            ensure (bool):  eager evaluation if True</span>
<span class="sd">            eager (bool):</span>
<span class="sd">            nInput (None):</span>
<span class="sd">            config2_ (QueryRequest):  query request object with hyper-parameters</span>

<span class="sd">        Returns:</span>
<span class="sd">            kpts_list (list): annotation descriptor keypoints</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_feat_funcs --test-get_annot_kpts --show</span>
<span class="sd">            python -m ibeis.control.manual_feat_funcs --test-get_annot_kpts --show --darken .9</span>
<span class="sd">            python -m ibeis.control.manual_feat_funcs --test-get_annot_kpts --show --darken .9 --verbose</span>
<span class="sd">            python -m ibeis.control.manual_feat_funcs --test-get_annot_kpts --show --darken .9 --verbose --no-affine-invariance</span>
<span class="sd">            python -m ibeis.control.manual_feat_funcs --test-get_annot_kpts --show --darken .9 --verbose --no-affine-invariance --scale_max=20</span>
<span class="sd">            python -m ibeis.control.manual_feat_funcs --test-get_annot_kpts --show --feat_type=hesaff+siam128</span>
<span class="sd">            ipython -i -- --show --feat_type=hesaff+siam128</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # SLOW_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_feat_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import vtool as vt</span>
<span class="sd">            &gt;&gt;&gt; import numpy as np</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; import ibeis.viz.interact</span>
<span class="sd">            &gt;&gt;&gt; # build test data</span>
<span class="sd">            &gt;&gt;&gt; qreq1_ = ibeis.testdata_qreq_(defaultdb=&#39;testdb1&#39;, p=[&#39;default:RI=True&#39;])</span>
<span class="sd">            &gt;&gt;&gt; qreq2_ = ibeis.testdata_qreq_(defaultdb=&#39;testdb1&#39;, p=[&#39;default:RI=False&#39;])</span>
<span class="sd">            &gt;&gt;&gt; ibs = qreq1_.ibs</span>
<span class="sd">            &gt;&gt;&gt; aid_list = qreq1_.get_external_qaids()</span>
<span class="sd">            &gt;&gt;&gt; with ut.Indenter(&#39;[TEST_GET_ANNOT_KPTS]&#39;):</span>
<span class="sd">            ...     print(&#39;qreq1 params: &#39; + qreq1_.qparams.feat_cfgstr)</span>
<span class="sd">            ...     print(&#39;qreq2 params: &#39; + qreq2_.qparams.feat_cfgstr)</span>
<span class="sd">            ...     print(&#39;id(qreq1): &#39; + str(id(qreq1_)))</span>
<span class="sd">            ...     print(&#39;id(qreq2): &#39; + str(id(qreq2_)))</span>
<span class="sd">            ...     #print(&#39;feat_config_rowid1 = %r&#39; % (ibs.get_feat_config_rowid(config2_=qreq1_.get_external_query_config2()),))</span>
<span class="sd">            ...     #print(&#39;feat_config_rowid2 = %r&#39; % (ibs.get_feat_config_rowid(config2_=qreq2_.get_external_query_config2()),))</span>
<span class="sd">            &gt;&gt;&gt; # Force recomputation of features</span>
<span class="sd">            &gt;&gt;&gt; with ut.Indenter(&#39;[DELETE1]&#39;):</span>
<span class="sd">            ...     ibs.delete_annot_feats(aid_list, config2_=qreq1_.get_external_query_config2())</span>
<span class="sd">            &gt;&gt;&gt; with ut.Indenter(&#39;[DELETE2]&#39;):</span>
<span class="sd">            ...     ibs.delete_annot_feats(aid_list, config2_=qreq2_.get_external_query_config2())</span>
<span class="sd">            &gt;&gt;&gt; eager, ensure, nInput = True, True, None</span>
<span class="sd">            &gt;&gt;&gt; # execute function</span>
<span class="sd">            &gt;&gt;&gt; with ut.Indenter(&#39;[GET1]&#39;):</span>
<span class="sd">            ...     kpts1_list = get_annot_kpts(ibs, aid_list, ensure, eager, nInput, qreq1_.get_external_query_config2())</span>
<span class="sd">            &gt;&gt;&gt; with ut.Indenter(&#39;[GET2]&#39;):</span>
<span class="sd">            ...     kpts2_list = get_annot_kpts(ibs, aid_list, ensure, eager, nInput, qreq2_.get_external_query_config2())</span>
<span class="sd">            &gt;&gt;&gt; # verify results</span>
<span class="sd">            &gt;&gt;&gt; assert not np.all(vt.get_oris(kpts1_list[0]) == 0)</span>
<span class="sd">            &gt;&gt;&gt; assert np.all(vt.get_oris(kpts2_list[0]) == 0)</span>
<span class="sd">            &gt;&gt;&gt; ut.quit_if_noshow()</span>
<span class="sd">            &gt;&gt;&gt; #ibeis.viz.viz_chip.show_chip(ibs, aid_list[0], config2_=qreq1_, ori=True)</span>
<span class="sd">            &gt;&gt;&gt; ibeis.viz.interact.interact_chip.ishow_chip(ibs, aid_list[0], config2_=qreq1_.get_external_query_config2(), ori=True, fnum=1)</span>
<span class="sd">            &gt;&gt;&gt; ibeis.viz.interact.interact_chip.ishow_chip(ibs, aid_list[0], config2_=qreq2_.get_external_query_config2(), ori=True, fnum=2)</span>
<span class="sd">            &gt;&gt;&gt; ut.show_if_requested()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_feat_funcs</span><span class="o">.</span><span class="n">get_annot_kpts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_vecs"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_vecs">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_vecs</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            vecs_list (list): annotation descriptor vectors</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_feat_funcs</span><span class="o">.</span><span class="n">get_annot_vecs</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_num_feats"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_num_feats">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_num_feats</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            aid_list (list):</span>

<span class="sd">        Returns:</span>
<span class="sd">            nFeats_list (list): num descriptors per annotation</span>

<span class="sd">        CommandLine:</span>
<span class="sd">            python -m ibeis.control.manual_feat_funcs --test-get_annot_num_feats</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; # ENABLE_DOCTEST</span>
<span class="sd">            &gt;&gt;&gt; # this test might fail on different machines due to</span>
<span class="sd">            &gt;&gt;&gt; # determenism bugs in hesaff maybe? or maybe jpeg...</span>
<span class="sd">            &gt;&gt;&gt; # in which case its hopeless</span>
<span class="sd">            &gt;&gt;&gt; from ibeis.control.manual_feat_funcs import *  # NOQA</span>
<span class="sd">            &gt;&gt;&gt; import ibeis</span>
<span class="sd">            &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>
<span class="sd">            &gt;&gt;&gt; aid_list = ibs.get_valid_aids()[0:3]</span>
<span class="sd">            &gt;&gt;&gt; config2_ = {&#39;dim_size&#39;: 450, &#39;resize_dim&#39;: &#39;area&#39;}</span>
<span class="sd">            &gt;&gt;&gt; nFeats_list = get_annot_num_feats(ibs, aid_list, ensure=True, config2_=config2_)</span>
<span class="sd">            &gt;&gt;&gt; print(&#39;nFeats_list = %r&#39; % (nFeats_list,))</span>
<span class="sd">            &gt;&gt;&gt; assert len(nFeats_list) == 3</span>
<span class="sd">            &gt;&gt;&gt; ut.assert_inbounds(nFeats_list[0], 1200, 1258)</span>
<span class="sd">            &gt;&gt;&gt; ut.assert_inbounds(nFeats_list[1],  900,  922)</span>
<span class="sd">            &gt;&gt;&gt; ut.assert_inbounds(nFeats_list[2], 1300, 1343)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_feat_funcs</span><span class="o">.</span><span class="n">get_annot_num_feats</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_glr_confidence"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_glr_confidence">[docs]</a>    <span class="k">def</span> <span class="nf">get_glr_confidence</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list):  confidence in an image relationship &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblimage_funcs</span><span class="o">.</span><span class="n">get_glr_confidence</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_glr_lblimage_rowids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_glr_lblimage_rowids">[docs]</a>    <span class="k">def</span> <span class="nf">get_glr_lblimage_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  get the lblimage_rowid belonging to each relationship &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblimage_funcs</span><span class="o">.</span><span class="n">get_glr_lblimage_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_glr_image_rowids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_glr_image_rowids">[docs]</a>    <span class="k">def</span> <span class="nf">get_glr_image_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  get the image_rowid belonging to each relationship &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblimage_funcs</span><span class="o">.</span><span class="n">get_glr_image_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_glr_config_rowid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_glr_config_rowid">[docs]</a>    <span class="k">def</span> <span class="nf">get_glr_config_rowid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list):  config_rowid in an image relationship &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblimage_funcs</span><span class="o">.</span><span class="n">get_glr_config_rowid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.add_lblimages"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.add_lblimages">[docs]</a>    <span class="k">def</span> <span class="nf">add_lblimages</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Adds new lblimages (labels of imageations)</span>
<span class="sd">        creates a new uuid for any new pair(type, value)</span>
<span class="sd">        #TODO: reverse order of rowid_list value_list in input</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblimage_funcs</span><span class="o">.</span><span class="n">add_lblimages</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_lblimage_rowid_from_superkey"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_lblimage_rowid_from_superkey">[docs]</a>    <span class="k">def</span> <span class="nf">get_lblimage_rowid_from_superkey</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list):  lblimage_rowid_list from the superkey (lbltype, value)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblimage_funcs</span><span class="o">.</span><span class="n">get_lblimage_rowid_from_superkey</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_lblimage_rowid_from_uuid"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_lblimage_rowid_from_uuid">[docs]</a>    <span class="k">def</span> <span class="nf">get_lblimage_rowid_from_uuid</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list):  lblimage_rowid_list from the superkey (lbltype, value)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblimage_funcs</span><span class="o">.</span><span class="n">get_lblimage_rowid_from_uuid</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_lblimage_uuids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_lblimage_uuids">[docs]</a>    <span class="k">def</span> <span class="nf">get_lblimage_uuids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblimage_funcs</span><span class="o">.</span><span class="n">get_lblimage_uuids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_lblimage_lbltypes_rowids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_lblimage_lbltypes_rowids">[docs]</a>    <span class="k">def</span> <span class="nf">get_lblimage_lbltypes_rowids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblimage_funcs</span><span class="o">.</span><span class="n">get_lblimage_lbltypes_rowids</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_lblimage_notes"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_lblimage_notes">[docs]</a>    <span class="k">def</span> <span class="nf">get_lblimage_notes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblimage_funcs</span><span class="o">.</span><span class="n">get_lblimage_notes</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_lblimage_values"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_lblimage_values">[docs]</a>    <span class="k">def</span> <span class="nf">get_lblimage_values</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            list_ (list): text lblimages &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblimage_funcs</span><span class="o">.</span><span class="n">get_lblimage_values</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_lblimage_gids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_lblimage_gids">[docs]</a>    <span class="k">def</span> <span class="nf">get_lblimage_gids</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">lblimage_rowid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblimage_funcs</span><span class="o">.</span><span class="n">get_lblimage_gids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">lblimage_rowid_list</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.add_image_relationship_one"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.add_image_relationship_one">[docs]</a>    <span class="k">def</span> <span class="nf">add_image_relationship_one</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  Adds a relationship between images and lblimages</span>
<span class="sd">            (imageations and labels of imageations) &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblimage_funcs</span><span class="o">.</span><span class="n">add_image_relationship_one</span><span class="p">(</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_glrid_from_superkey"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_glrid_from_superkey">[docs]</a>    <span class="k">def</span> <span class="nf">get_glrid_from_superkey</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            gid_list (list): list of image row-ids</span>
<span class="sd">            lblimage_rowid_list (list): list of lblimage row-ids</span>
<span class="sd">            config_rowid_list (list): list of config row-ids</span>
<span class="sd">        Returns:</span>
<span class="sd">            glrid_list (list): image-label relationship id list</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblimage_funcs</span><span class="o">.</span><span class="n">get_glrid_from_superkey</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_image_glrids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_image_glrids">[docs]</a>    <span class="k">def</span> <span class="nf">get_image_glrids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  FIXME: __name__</span>
<span class="sd">        Get all the relationship ids belonging to the input images</span>
<span class="sd">        if lblimage lbltype is specified the relationship ids are filtered to</span>
<span class="sd">        be only of a specific lbltype/category/type</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_lblimage_funcs</span><span class="o">.</span><span class="n">get_image_glrids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_featweight_rowids"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_featweight_rowids">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_featweight_rowids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span>
            <span class="n">aid_list</span><span class="p">,</span>
            <span class="n">config2_</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">ensure</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="n">eager</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="n">nInput</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_featweight_funcs</span><span class="o">.</span><span class="n">get_annot_featweight_rowids</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">config2_</span><span class="p">,</span> <span class="n">ensure</span><span class="p">,</span> <span class="n">eager</span><span class="p">,</span> <span class="n">nInput</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExplicitInjectIBEISController.get_annot_fgweights"><a class="viewcode-back" href="../../../ibeis.control.html#ibeis.control._autogen_explicit_controller.ExplicitInjectIBEISController.get_annot_fgweights">[docs]</a>    <span class="k">def</span> <span class="nf">get_annot_fgweights</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">config2_</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">ensure</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">manual_featweight_funcs</span><span class="o">.</span><span class="n">get_annot_fgweights</span><span class="p">(</span>
            <span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">config2_</span><span class="p">,</span> <span class="n">ensure</span><span class="p">)</span></div></div>
</pre></div>

           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Jon Crall.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'1.5.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>